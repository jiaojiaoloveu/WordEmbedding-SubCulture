{"_default": {"1": {"subinjp": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/58", "title": "Not possible to configure mirror plugin without using push --force.", "body": "Hello, \r\nWe have a requirement of not to use --force in the push command, which is used to push changes in to remote server. Can we enable mirroring by not using --force in push command. If so how can we do that?\r\n\r\nThanks in Advance\r\nSubin", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/58/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "odsmed": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/51", "title": "Unable to mirror from Bitbucket Server 5.4.1 to Github Repo", "body": "The repository is private with limited user access. Github repo is also private but the mirroring fails. Why? Could you please help?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/51/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/342292898", "body": "I have tried all the solutions mentioned but it still fails.\n\n \n\nWarm Regards & Stay Creative\n\nRajeev\n\n \n\nRajeev Yadav, Ph.D.\n\nPrincipal R&D Engineer \n\n[O]: + 1 514 340 5121 x 2494\n\n[C]: + 1 514 659 2009\n\n[E]: rajeev.yadav@odsmed.com\n\n[W]: www.odsmed.com <http://www.odsmed.com/> \n\n\n\nThis electronic message and any documents attached hereto, contains privileged and confidential information, protected by professional secrecy, and is for the exclusive use of the person or entity named above. If you are not the intended recipient of this message or an authorized representative thereof, any disclosure, copying, distribution, or use of the information it contains is strictly prohibited. If you have received this electronic transmission by mistake, please delete it permanently and notify us immediately by email.\n\n \n\nFrom: Adrian [mailto:notifications@github.com] \nSent: Monday, November 6, 2017 3:04 PM\nTo: ef-labs/stash-hook-mirror <stash-hook-mirror@noreply.github.com>\nCc: ODS Medical Inc <github@odsmed.com>; Author <author@noreply.github.com>\nSubject: Re: [ef-labs/stash-hook-mirror] Unable to mirror from Bitbucket Server 5.4.1 to Github Repo (#51)\n\n \n\nHave you tried the troubleshooting steps here <https://github.com/ef-labs/stash-hook-mirror/wiki#troubleshooting> ?\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub <https://github.com/ef-labs/stash-hook-mirror/issues/51#issuecomment-342269300> , or mute the thread <https://github.com/notifications/unsubscribe-auth/AP5Wdr1iwK0bVE7Uv9zQibXUgCI4bGOXks5sz2YggaJpZM4P-PY3> .  <https://github.com/notifications/beacon/AP5WdozMWbRS7kiPZbsvh8Rf9Zr9BRZEks5sz2YggaJpZM4P-PY3.gif> \n\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/342292898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "dzeleski": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/50", "title": "Mirror works twice then stops - java.net.URISyntaxException: Expected authority at index 7: http://", "body": "Getting the below error, when using the plugin. Whats strange is if I click save and then disable/enable it will mirror the repo twice and then stop working.\r\n\r\nBitbucket is running on Windows Server 2012R2, version 4.14.7 of bitbucket. running git 2.7\r\n\r\n```\r\n2017-07-19 21:46:12,325 WARN  [threadpool:thread-2] admin @KN82F5x1306x3330x0 803u3v 172.31.10.133 \"PUT /rest/api/latest/projects/NPCPUP/repos/npc_sensu/settings/hooks/com.englishtown.stash-hook-mirror%3Amirror-repository-hook/settings HTTP/1.1\" c.e.b.hook.MirrorRepositoryHook Failed to mirror repository npc_sensu, retrying in 1 minute (attempt 1 of 5).\r\n2017-07-19 21:46:14,806 ERROR [http-nio-80-exec-4] @KN82F5x1306x3331x0 10.193.200.2 \"GET / HTTP/1.1\" c.a.s.internal.nav.NavBuilderImpl Failed to construct a URI for the NavBuilder from the current requests. Defaulting to application properties.\r\njava.net.URISyntaxException: Expected authority at index 7: http://\r\n\tat java.net.URI$Parser.fail(URI.java:2848)\r\n\tat java.net.URI$Parser.failExpecting(URI.java:2854)\r\n\tat java.net.URI$Parser.parseHierarchical(URI.java:3102)\r\n\tat java.net.URI$Parser.parse(URI.java:3053)\r\n\tat java.net.URI.<init>(URI.java:673)\r\n\tat com.atlassian.stash.internal.nav.NavBuilderImpl.onRequestStarted(NavBuilderImpl.java:158)\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:40)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:38)\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:299)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher.dispatch(AsynchronousAbleEventDispatcher.java:88)\r\n\tat com.atlassian.event.internal.LockFreeEventPublisher$Publisher.dispatch(LockFreeEventPublisher.java:222)\r\n\tat com.atlassian.event.internal.LockFreeEventPublisher.publish(LockFreeEventPublisher.java:95)\r\n\tat com.atlassian.stash.internal.event.TransactionAwareEventPublisher.internalPublish(TransactionAwareEventPublisher.java:155)\r\n\tat com.atlassian.stash.internal.event.TransactionAwareEventPublisher.publish(TransactionAwareEventPublisher.java:99)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:82)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\t... 36 frames trimmed\r\n2017-07-19 21:46:19,829 ERROR [http-nio-80-exec-5] @KN82F5x1306x3332x0 10.193.200.2 \"GET / HTTP/1.1\" c.a.s.internal.nav.NavBuilderImpl Failed to construct a URI for the NavBuilder from the current requests. Defaulting to application properties.\r\njava.net.URISyntaxException: Expected authority at index 7: http://\r\n\tat java.net.URI$Parser.fail(URI.java:2848)\r\n\tat java.net.URI$Parser.failExpecting(URI.java:2854)\r\n\tat java.net.URI$Parser.parseHierarchical(URI.java:3102)\r\n\tat java.net.URI$Parser.parse(URI.java:3053)\r\n\tat java.net.URI.<init>(URI.java:673)\r\n\tat com.atlassian.stash.internal.nav.NavBuilderImpl.onRequestStarted(NavBuilderImpl.java:158)\r\n\tat com.atlassian.event.internal.SingleParameterMethodListenerInvoker.invoke(SingleParameterMethodListenerInvoker.java:40)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher$1$1.run(AsynchronousAbleEventDispatcher.java:38)\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:299)\r\n\tat com.atlassian.event.internal.AsynchronousAbleEventDispatcher.dispatch(AsynchronousAbleEventDispatcher.java:88)\r\n\tat com.atlassian.event.internal.LockFreeEventPublisher$Publisher.dispatch(LockFreeEventPublisher.java:222)\r\n\tat com.atlassian.event.internal.LockFreeEventPublisher.publish(LockFreeEventPublisher.java:95)\r\n\tat com.atlassian.stash.internal.event.TransactionAwareEventPublisher.internalPublish(TransactionAwareEventPublisher.java:155)\r\n\tat com.atlassian.stash.internal.event.TransactionAwareEventPublisher.publish(TransactionAwareEventPublisher.java:99)\r\n\tat com.atlassian.stash.internal.request.DefaultRequestManager.doAsRequest(DefaultRequestManager.java:82)\r\n\tat com.atlassian.stash.internal.hazelcast.ConfigurableWebFilter.doFilter(ConfigurableWebFilter.java:38)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\t... 36 frames trimmed\r\n```", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/50/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dscowan": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/49", "title": "Fails in 5.0.1 with error about Data Center License being required", "body": "2017-06-26 10:09:38,930 WARN  [http-nio-7990-exec-7] bitbucket @XXXXXXXXXXXX mdn96k  \"GET /plugins/servlet/stp/view/system-info/view HTTP/1.1\" c.a.s.t.p.PluginSupportInfoAppenderManager Problem adding support info for module 'com.atlassian.bitbucket.server.bitbucket-mirroring-upstream:mirroring-upstream-support-info'\r\ncom.atlassian.bitbucket.mirroring.upstream.MirroringDisabledException: Mirroring requires a Bitbucket Data Center license.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/49/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/311093759", "body": "I have the correct plugin.  Its when I try to enable it I get that message.  Here is a screenshot of the manage plugin screen\r\n\r\n![image](https://user-images.githubusercontent.com/3230255/27547002-1fe302b2-5a5a-11e7-9082-6f8a4b6662d7.png)\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/311093759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/311095391", "body": "Here is the full stack trace when I enable.  Odd thing is I don't see the license error specifically in this chunk of log.  \r\n\r\n`\r\n2017-06-26 10:31:15,177 ERROR [ThreadPoolAsyncTaskExecutor::Thread 134]  c.a.plugin.osgi.factory.OsgiPlugin Unable to start the plugin container for plugin 'com.englishtown.stash-hook-mirror'\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from URL [bundle://181.0:0/META-INF/spring/atlassian-plugins-component-imports.xml]; nested exception is java.lang.IllegalStateException: The bundle is uninstalled.\r\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:414)\r\n        at org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:170)\r\n        at org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:140)\r\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:613)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:60)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:242)\r\n        at org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:220)\r\n        at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n        at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:157)\r\n        at org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:207)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 6 frames trimmed\r\nCaused by: java.lang.IllegalStateException: The bundle is uninstalled.\r\n        at org.apache.felix.framework.Felix.getBundleResources(Felix.java:1624)\r\n        at org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.getResources(BundleDelegatingClassLoader.java:185)\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.loadAllProperties(PropertiesLoaderUtils.java:177)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$Plugin.resolve(NamespacePlugins.java:77)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:209)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:205)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.LazyBundleRegistry.apply(LazyBundleRegistry.java:159)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.doResolve(NamespacePlugins.java:205)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.resolve(NamespacePlugins.java:169)\r\n        at org.eclipse.gemini.blueprint.context.support.TrackingUtil$OsgiServiceHandler.invoke(TrackingUtil.java:106)\r\n        at org.eclipse.gemini.blueprint.context.support.DelegatedNamespaceHandlerResolver.resolve(DelegatedNamespaceHandlerResolver.java:55)\r\n        ... 15 common frames omitted\r\n2017-06-26 10:31:15,184 ERROR [ThreadPoolAsyncTaskExecutor::Thread 134]  o.e.g.b.e.i.s.ExtenderConfiguration Application context refresh failed (NonValidatingOsgiBundleXmlApplicationContext(bundle=com.englishtown.stash-hook-mirror, config=osgibundle:/META-INF/spring/*.xml))\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from URL [bundle://181.0:0/META-INF/spring/atlassian-plugins-component-imports.xml]; nested exception is java.lang.IllegalStateException: The bundle is uninstalled.\r\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:414)\r\n        at org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:170)\r\n        at org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:140)\r\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:613)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:60)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:242)\r\n        at org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:220)\r\n        at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n        at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:157)\r\n        at org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:207)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 6 frames trimmed\r\nCaused by: java.lang.IllegalStateException: The bundle is uninstalled.\r\n        at org.apache.felix.framework.Felix.getBundleResources(Felix.java:1624)\r\n        at org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.getResources(BundleDelegatingClassLoader.java:185)\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.loadAllProperties(PropertiesLoaderUtils.java:177)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$Plugin.resolve(NamespacePlugins.java:77)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:209)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:205)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.LazyBundleRegistry.apply(LazyBundleRegistry.java:159)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.doResolve(NamespacePlugins.java:205)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.resolve(NamespacePlugins.java:169)\r\n        at org.eclipse.gemini.blueprint.context.support.TrackingUtil$OsgiServiceHandler.invoke(TrackingUtil.java:106)\r\n        at org.eclipse.gemini.blueprint.context.support.DelegatedNamespaceHandlerResolver.resolve(DelegatedNamespaceHandlerResolver.java:55)\r\n        ... 15 common frames omitted\r\n2017-06-26 10:31:15,184 ERROR [ThreadPoolAsyncTaskExecutor::Thread 134]  o.e.g.b.e.i.d.s.DependencyWaiterApplicationContextExecutor Unable to create application context for [com.englishtown.stash-hook-mirror], unsatisfied dependencies: none\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from URL [bundle://181.0:0/META-INF/spring/atlassian-plugins-component-imports.xml]; nested exception is java.lang.IllegalStateException: The bundle is uninstalled.\r\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:414)\r\n        at org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:170)\r\n        at org.eclipse.gemini.blueprint.context.support.OsgiBundleXmlApplicationContext.loadBeanDefinitions(OsgiBundleXmlApplicationContext.java:140)\r\n        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:613)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.access$800(AbstractDelegatedExecutionApplicationContext.java:60)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext$3.run(AbstractDelegatedExecutionApplicationContext.java:242)\r\n        at org.eclipse.gemini.blueprint.util.internal.PrivilegedUtils.executeWithCustomTCCL(PrivilegedUtils.java:85)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.startRefresh(AbstractDelegatedExecutionApplicationContext.java:220)\r\n        at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.stageOne(DependencyWaiterApplicationContextExecutor.java:224)\r\n        at org.eclipse.gemini.blueprint.extender.internal.dependencies.startup.DependencyWaiterApplicationContextExecutor.refresh(DependencyWaiterApplicationContextExecutor.java:177)\r\n        at org.eclipse.gemini.blueprint.context.support.AbstractDelegatedExecutionApplicationContext.refresh(AbstractDelegatedExecutionApplicationContext.java:157)\r\n        at org.eclipse.gemini.blueprint.extender.internal.activator.LifecycleManager$1.run(LifecycleManager.java:207)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n        ... 6 frames trimmed\r\nCaused by: java.lang.IllegalStateException: The bundle is uninstalled.\r\n        at org.apache.felix.framework.Felix.getBundleResources(Felix.java:1624)\r\n        at org.eclipse.gemini.blueprint.util.BundleDelegatingClassLoader.getResources(BundleDelegatingClassLoader.java:185)\r\n        at org.springframework.core.io.support.PropertiesLoaderUtils.loadAllProperties(PropertiesLoaderUtils.java:177)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$Plugin.resolve(NamespacePlugins.java:77)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:209)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins$5.operate(NamespacePlugins.java:205)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.LazyBundleRegistry.apply(LazyBundleRegistry.java:159)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.doResolve(NamespacePlugins.java:205)\r\n        at org.eclipse.gemini.blueprint.extender.internal.support.NamespacePlugins.resolve(NamespacePlugins.java:169)\r\n        at org.eclipse.gemini.blueprint.context.support.TrackingUtil$OsgiServiceHandler.invoke(TrackingUtil.java:106)\r\n        at org.eclipse.gemini.blueprint.context.support.DelegatedNamespaceHandlerResolver.resolve(DelegatedNamespaceHandlerResolver.java:55)\r\n        ... 15 common frames omitted\r\n\r\n\r\n`\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/311095391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "Lucasvo1": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/48", "title": "Two-way replication", "body": "Can this plugin do two-way replication between two Bitbucket Server instances? \r\n\r\nWe would like to make commits/pull-requests in either repository. ", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/48/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/338917344", "body": "Could the two-way replication work if both servers have the same plugin installed?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/338917344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "tm1000": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/45", "title": "Support Bitbucket 5", "body": "Add support for Bitbucket 5", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/306931953", "body": "Agree. I noticed that force enabling it works. But it'd sure be nice to have it \"supported\" :-) ", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/306931953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "holsonjr": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/44", "title": "Won't mirror to TFS 2017", "body": "After we upgraded MS TFS to 2017 the plugin stopped mirror to TFS Git repositories.  According to what we have discovered it has something to do with TFS 2017 and basic auth.\r\n\r\nAny help or ideas would be appreciated.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/290235720", "body": "From what I have found so far TFS 2017 will not authenticate with the password included in the URL.  I can clone https://username@server/repo_path and then type in a password.  If I do clone https://username:password@server/repo_path it throws an authentication error.  This worked when we were using TFS 2015.  \r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/290235720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "amedee": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/43", "title": "Mirror works with https, not with ssh", "body": "Bitbucket 4.10.1.\r\nRepository Mirror Plugin 2.0.0\r\n\r\nWhen I use a ssh connection, for example `git@github.com:itext/itextsharp.git`, then mirroring doesn't work.\r\nWhen I change this to https connection, for example `https://github.com/itext/itextsharp.git`, then mirroring does work.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/43/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "brettswift": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/41", "title": "Feature: Mirror to CodeCommit. ", "body": "Mirroring to CodeCommit on AWS would be nice.  It's a bit more complicated and would require some configuration, however I think it would be doable.\r\n\r\nAn alternative but less desireable method would be to zip the repo up and ship it to S3,  more specifically a URL - like API Gateway.   However with repos that get a lot of use it might be best to stick with CodeCommit. \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/41/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "PedroFonseca": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/39", "title": "process timed out", "body": "Hi,\r\n\r\nIf i use https it works fine.\r\nWhen i use ssh it doesn't work and i get a process timed out in the logs.\r\nThis is the error that i'm getting in the log:\r\n\r\n2017-01-05 11:01:28,994 DEBUG [threadpool:thread-703] pmfonseca @MQ10L8x652x915x3 13sq5fn 192.168.1.136 SSH - git-receive-pack '/test/svc-fon.git' com.atlassian.stash.scm.BaseCommand Executed C:\\Git\\bin\\git.exe push --prune ssh://git@pre-bitbucket.xxx.pt:7999/visioncenter/test.git --force +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/*\r\n2017-01-05 11:01:29,001 ERROR [threadpool:thread-703] pmfonseca @MQ10L8x652x915x3 13sq5fn 192.168.1.136 SSH - git-receive-pack '/test/svc-fon.git' c.e.stash.hook.MirrorRepositoryHook Failed to mirror repository SVC-FON after 5 attempts.\r\ncom.atlassian.stash.exception.ServerException: An error occurred while executing an external process: process timed out\r\n\tat com.atlassian.stash.scm.git.common.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:113) ~[na:na]\r\n\tat com.atlassian.stash.scm.git.common.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:159) ~[na:na]\r\n\tat com.atlassian.stash.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:33) ~[stash-spi-3.7.1.jar:na]\r\n\tat com.englishtown.stash.hook.PasswordHandler.onExit(PasswordHandler.java:46) ~[plugin.640321809486732222.stash-hook-mirror-1.9.0_1483467141180.jar:na]\r\n\tat com.atlassian.stash.scm.BaseCommand.callExitHandler(BaseCommand.java:138) ~[stash-spi-3.7.1.jar:na]\r\n\tat com.atlassian.stash.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:251) ~[stash-spi-3.7.1.jar:na]\r\n\tat com.atlassian.stash.scm.BaseCommand$CommandFuture.get(BaseCommand.java:220) ~[stash-spi-3.7.1.jar:na]\r\n\tat com.atlassian.stash.scm.BaseCommand.call(BaseCommand.java:75) ~[stash-spi-3.7.1.jar:na]\r\n\tat com.englishtown.stash.hook.MirrorRepositoryHook$1.call(MirrorRepositoryHook.java:127) [plugin.640321809486732222.stash-hook-mirror-1.9.0_1483467141180.jar:na]\r\n\tat com.englishtown.stash.hook.MirrorRepositoryHook$1.call(MirrorRepositoryHook.java:115) [plugin.640321809486732222.stash-hook-mirror-1.9.0_1483467141180.jar:na]\r\n\tat com.atlassian.stash.internal.concurrent.StateTransferringExecutorService$StateTransferringCallable.call(StateTransferringExecutorService.java:147) [stash-platform-3.7.1.jar:na]\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source) [na:1.7.0_17]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) [na:1.7.0_17]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source) [na:1.7.0_17]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) [na:1.7.0_17]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.7.0_17]\r\n\tat java.lang.Thread.run(Unknown Source) [na:1.7.0_17]\r\n\t... 1 frame trimmed\r\nCaused by: com.atlassian.utils.process.ProcessTimeoutException: process timed out\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:656) ~[atlassian-processutils-1.6.0-m2.jar:na]\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161) ~[atlassian-processutils-1.6.0-m2.jar:na]\r\n\tat com.atlassian.stash.scm.BaseCommand$CommandFuture.get(BaseCommand.java:218) ~[stash-spi-3.7.1.jar:na]\r\n\t... 11 common frames omitted\r\n\r\n\r\nAny thoughts?\r\nThanks in advance", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/39/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/270857357", "body": "i forgot to mention that i've already tryed the steps on #18.\r\nRunning manually it was showing the certificate error. Then i fixed it and it now runs manually.\r\nThen i tried using the mirror hook and that's when it started to show this process timed out error in the logs.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/270857357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "BertTMC": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/35", "title": "After a push with REST-API, the changes are not reflected in the mirror", "body": "In Bitbucket server 4.02, we've added a tag and pushed it using the REST API. If we create a clone from the Bitbucket repository, we see the tag in the respository. If we create a clone from the mirror, we don't see the tag in the repository.\n\nIf we create a tag using the git cli and do a push, the tag is in the repository and in the mirror.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/35/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gadg3ts": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/34", "title": "Is there a a timescale for when the plugin will be data-centre compatible?..", "body": "According to here:\nhttps://confluence.atlassian.com/display/ENTERPRISE/Stash+Data+Center+Add-ons\nIt's flagged as 'in progress'.\n\nThanks,\nSean\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/34/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "val0": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/33", "title": "Mirroring process hangs and never cleared out", "body": "During mirroring huge repository sometimes process hangs. Why plugin can't clear out hangs process?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "samarshall": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/32", "title": "Hook is not longer syncing repo for existing branches", "body": "Hi there,\nIt has been demonstrated that commits to existing branches in the repo enabled with the mirror-hook are no longer syncing to remote repos. We are running stash 3.5.1 and it appeared this stopped working after we upgraded to 3.5.1.\n\nIt does work if commits are made to empty feature branches. \nAny help to investigate this would be great since we rely on this plugin for production work.\n\n-Scott\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/32/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "drauch": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/30", "title": "Sync internal Stash-Repo to GitHub -> what happens in case of pull requests?", "body": "I take it, that this is not a two-way mirror. So what happens if we accept a pull request on GitHub? Sounds like the mirror would need to force push then? Is that assumption true? As soon as someone pushes something else to the mirror-repository it stops working?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/30/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/93720935", "body": "No comments? Is this plugin no longer maintained?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/93720935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wesblume23": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/29", "title": "Cannot Mirror branch of repository rather than entire repository", "body": "Having issues syncing repository with server...would like to mirror individual branches. Any advice?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/29/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/57476629", "body": "Would you mind pointing me in the right direction as to where I'd look for your UI src?\nI'd like to submit a PR to choose a specific branch from a dropdown, and then use that value as the ref spec\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/57476629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "svante66": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/28", "title": "Error when trying mirroring a repo", "body": "Hey,\n\nI am setting up this mirror for some of my Stash repos and it works well most of the times. However, for some repos I get the following error message in the log:\n\n2014-09-04 13:49:27,903 ERROR [threadpool:thread-4178050] svante.gustafsson 825x62977372x0 1qr1w8r 1_._._._,127.0.0.1 \"POST /rest/branch-utils/latest/projects/ESUP/repos/gitolite-admin/branches HTTP/1.0\" c.e.stash.hook.MirrorRepositoryHook Failed to mirror repository gitolite-admin after 5 attempts.\ncom.atlassian.stash.exception.ServerException: An error occurred while executing an external process: '/usr/bin/git push --prune gitosis@git.internal.machines:gitolite-admin.git --force +refs/heads/_:refs/heads/_ +refs/tags/_:refs/tags/_' exited with code 129 saying: error: --mirror can't be combined with refspecs\nusage: git push [<options>] [<repository> [<refspec>...]]\n\n```\n-v, --verbose         be more verbose\n-q, --quiet           be more quiet\n--repo <repository>   repository\n--all                 push all refs\n--mirror              mirror all refs\n--delete              delete refs\n--tags                push tags (can't be used with --all or --mirror)\n-n, --dry-run         dry run\n--porcelain           machine-readable output\n-f, --force           force updates\n--recurse-submodules[=<check>]\n                      control recursive pushing of submodules\n--thin                use thin pack\n--receive-pack <receive-pack>\n                      receive pack program\n--exec <receive-pack>\n                      receive pack program\n-u, --set-upstream    set upstream for git pull/status\n--progress            force progress reporting\n--prune               prune locally removed refs\n--no-verify           bypass pre-push hook\n--follow-tags         push missing but relevant tags\n\nat com.atlassian.stash.scm.git.common.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:120) ~[na:na]\nat com.atlassian.stash.scm.git.common.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:163) ~[na:na]\nat com.atlassian.stash.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:34) ~[stash-spi-2.11.2.jar:na]\nat com.englishtown.stash.hook.PasswordHandler.onExit(PasswordHandler.java:46) ~[plugin.2602867967957298015.stash-hook-mirror-1.9.0_1409046838000.jar:na]\nat com.atlassian.stash.scm.BaseCommand.callExitHandler(BaseCommand.java:143) ~[stash-spi-2.11.2.jar:na]\nat com.atlassian.stash.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:256) ~[stash-spi-2.11.2.jar:na]\nat com.atlassian.stash.scm.BaseCommand$CommandFuture.get(BaseCommand.java:225) ~[stash-spi-2.11.2.jar:na]\nat com.atlassian.stash.scm.BaseCommand.call(BaseCommand.java:78) ~[stash-spi-2.11.2.jar:na]\nat com.englishtown.stash.hook.MirrorRepositoryHook$1.call(MirrorRepositoryHook.java:127) [plugin.2602867967957298015.stash-hook-mirror-1.9.0_1409046838000.jar:na]\nat com.englishtown.stash.hook.MirrorRepositoryHook$1.call(MirrorRepositoryHook.java:115) [plugin.2602867967957298015.stash-hook-mirror-1.9.0_1409046838000.jar:na]\nat com.atlassian.stash.internal.concurrent.StateTransferringExecutorService$StateTransferringCallable.call(StateTransferringExecutorService.java:131) [stash-platform-2.11.2.jar:na]\nat java.util.concurrent.FutureTask.run(FutureTask.java:262) [na:1.7.0_45]\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) [na:1.7.0_45]\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) [na:1.7.0_45]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_45]\nat java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\n... 1 frame trimmed\n```\n\nCaused by: com.atlassian.utils.process.ProcessException: Non-zero exit code: 129\n    at com.atlassian.stash.scm.SummarizingProcessHandler.complete(SummarizingProcessHandler.java:49) ~[stash-spi-2.11.2.jar:na]\n    at com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:659) ~[atlassian-processutils-1.6.0-m1.jar:na]\n    at com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161) ~[atlassian-processutils-1.6.0-m1.jar:na]\n    at com.atlassian.stash.scm.BaseCommand$CommandFuture.get(BaseCommand.java:223) ~[stash-spi-2.11.2.jar:na]\n    ... 10 common frames omitted\n\nI have no clue why this happens for some repos and not for other. I have checked our gitolite settings on the target server and the repos I am mirroring to have the same permission settings setup.\n\nCan you help out here?\n\nThnx in advance!\n\n// Svante\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/28/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/27", "title": "Feature Request: Make log messages available in UI", "body": "Hi,\nThnx for a great plugin! It works fine when it is configured properly.\n\nOne thing I miss though is that there is no feedback in the UI when setting up the replication. The user is unaware if something is wrong and will usually notice this when he/she realizes that nothing is replicated.\nThe docs says to look into the Stash logs but regular users usually don't have access to these logs. This means that I as the Stash System Admin is overhauled with questions about what is going on behind the scene.\n\nI think adding some status check and report back in the GUI would make this plugin really user friendly!\n\nCheers,\n// Svante\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/27/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/26", "title": "Cannot mirror repos within the Stash instance", "body": "Hi,\nI am using the plugin and it works fine when we mirror repos to a remote git server but I tried to mirror a repo to another project in Stash and ran into problems,\nExcerpt from log\n2014-08-28 14:11:11,840 ERROR [threadpool:thread-3965223] svante.gustafsson 847x60717387x0 4x0p6k _._._._,127.0.0.1 \"PUT /rest/api/latest/projects/ESI/repos/test-repo/settings/hooks/com.englishtown.stash-hook-mirror%3Amirror-repository-hook/settings HTTP/1.0\" c.e.stash.hook.MirrorRepositoryHook Failed to mirror repository test-repo after 5 attempts.\ncom.atlassian.stash.exception.ServerException: An error occurred while executing an external process: '/usr/bin/git push --prune ssh://git@stash.internal.machines:7999/~admin/test-repo.git --force +refs/heads/_:refs/heads/_ +refs/tags/_:refs/tags/_' exited with code 129 saying: error: --mirror can't be combined with refspecs\n\nI have defined the repo URL as:\nssh://git@stash.internal.machines:7999/~admin/test-repo.git\n\nCan you see what has gone wrong?\n\nThnx in advance!\n\n// Svante\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/26/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lkremerlogmein": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/24", "title": "plugin usage allowance for projects", "body": "We need an allowed list of projects for the plugin in the admin section of stash. There are projects which may be mirrored to github, but not all of them. \n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/24/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "xaviershay": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/23", "title": "Adding a new mirror for a large repo causes too many git processes", "body": "To repro:\n- Add a large repository to stash.\n- Start pushing a heap to that repository - branches as well.\n- Add a new mirror.\n\nResult: each push spawns a full push of the repo to the remote. Net effect is massive number of git processes all competing with each other and starving the machine. (We saw CPU saturation and a load average of over 400!) We also concurrency related issues (can't lock refs, etc) due to concurrent git operations.\n\nExpected: pushes to a remote should be serialized, so only one git operation happens at a time.\n\ncc @simoleone\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/23/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/3cb6b32bd1d3ab99f146bf08b60fab13234d8321", "message": "Add --force option when pushing."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/baa6fa37d487aeb0fd8c43442fb0fee2fd28445c", "message": "Workaround for AMPS-1112 to fix build."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c44495900b0c4ce487c44fd9ac9880a53337b468", "message": "Don't mirror empty repositories.\n\nThis was retrying 5 times before failing."}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/36913152", "body": "See linked.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/36913152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39811473", "body": "I can't imagine why you would have that enabled on a mirrored repository though? In my mind, \"mirror this repository\" means the remote should be an exact copy of the current one. The only way to guarantee that is with force pushes.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39811473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40036939", "body": "> Preventing local writes to the mirror target is ultimately the responsibility of whoever controls access to the remote repository\n\nIn my experience with thousands of repos, some of them always get in a weird state. But if it works for you, seems like option to disable (or enable, w/e) makes sense.\n\n> there's never a case where we want a forced push to be accepted.\n\nthis is surprising to me. I can't imagine a development workflow that didn't allow force pushes. (or more technically: I can't imagine convincing an entire engineering team that they shouldn't use force pushes.)\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40036939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40037337", "body": "I got no idea how do a UI :/\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40037337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40037354", "body": "and fwiw if you reverted this I'd just keep running my fork so nbd.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40037354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/43687596", "body": "might have a poke it.\n\nThis also happens when remote repository is slow, processes stampede over themselves.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/43687596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "popen2": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/16", "title": "Allow \"delete first\" option for remote repository", "body": "Sometimes the administrator of stash doesn't control the remote repository to which we're mirroring to.\nIn such cases, the remote repo might not allow \"push -f\", while the local repo may allow force push, as stash allows for per-branch permissions and it is easy to deny \"push -f\" on important branches like master and allow it for personal feature branches.\nIt would be great to toggle a behaviour in which when a regular push fails (because it is not a fast-forward), the plugin will attempt to first delete the remote branch and re-push into it.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/16/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/23072943", "body": "Yes, when the push fails with this output (as an example):\n\nremote: error: denying non-fast-forward refs/heads/test (you should pull first)\n  To ssh://....repo.git\n   ! [remote rejected] test -> test (non-fast-forward)\n\nThe plugin should, if the option is set, to go ever all the branches for which push is non-fast-forward and delete them (push remote :branch)\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/23072943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "friesoft": {"issues": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/9", "title": "Mirroring not working with SubGit (on same host)", "body": "Hi,\n\nI'm using Atlassian Stash 2.5.0 with SubGit 2.0.0 and Repository Mirroring 1.3.0.\n\nThe repository is set to sync to and with SubGit. As long as I commit from git and push it works - as soon as I'm commiting from within SVN it doesn't work (the push is not recognized and the changes are not mirrored to the remote mirror).\n\nYou have already answered me in the reviews of the addon:\n\n<pre>\nThanks for the feedback.  Unfortunately the plugin uses the stash repository hook api AsyncPostReceiveRepositoryHook:\n\nhttps://developer.atlassian.com/static/javadoc/stash/latest/spi/reference/com/atlassian/stash/hook/repository/AsyncPostReceiveRepositoryHook.html\n\nThis only fires for pushes and pull request acceptance.\n\nAre you running subgit locally on the stash server?  If you run subgit on a different machine and then perform a push it should work.  I suppose one way to fix this would be to create a git hook that can trigger the stash repository hook to run.  Feel free to enter an issue here: https://github.com/englishtown/stash-hook-mirror/issues (and contribute if you'd like)\n</pre>\n\n\nHow do I create such a trigger?\n\nRegards,\nBernhard Friedreich\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/9/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "adrianluisgonzalez": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/5fae527ec64a242fa19ca96fd61c3764c17ee6fd", "message": "[maven-release-plugin] prepare for next development iteration"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/4ce99737822428a1a221b21510fb8c778c71b197", "message": "[maven-release-plugin] prepare release 2.3.1"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/f06a3a814c511e251d140c79ac5abad6c91ed73e", "message": "Add checkbox for atomic flag (fixes #57)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d9f79380a2cadad3969ec366bef97ea7618c5aa7", "message": "[maven-release-plugin] prepare for next development iteration"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d57dc6bf9d5efd62ad56d4774d9b27b09f737f79", "message": "[maven-release-plugin] prepare release 2.3.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/09b41719d3cc195d3bcb688cfc426bc4003ef17d", "message": "Bump bitbucket 5.5.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/88639c44654e3868419b80f8aa7e00f63c974a82", "message": "Merge pull request #55 from hoppermann/develop\n\nsetting form can not handle multiple mirrors anymore"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/0538b269ad2424b5ff73a0d99fa0ff8283c9e4b5", "message": "[maven-release-plugin] prepare for next development iteration"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/8ec9c9bb3134789c32c12c6d1230ef6f31108cba", "message": "[maven-release-plugin] prepare release 2.2.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/9dd15bb3510d1b52c07480efc330956d51c74db7", "message": "Add distributionManagement"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/9d6c0b020587286c83776cd02372b1bf872a130d", "message": "Merge branch 'feature/mirror-ref-spec' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d46441d23c04facbcf73347b979eb783aa1d05e2", "message": "Add checkboxes for optionally mirroring tags and notes"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/0a88e0d2b8dd1790386de1d26af1701d904d71bf", "message": "Mirror specific refspecs instead of using regular expressions"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/61a7c3edd9530d7b9804e2dc0f64b87ba2da080f", "message": "Merge pull request #52 from dflock/patch-1\n\nFix heading markdown syntax"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/db64eba6ed3d042cbcea67a31ad1acb911aedb79", "message": "Merge pull request #54 from christiangalsterer/i53\n\ni53: Mirror only specific branches"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c60aa2820387b5b2f784f5d657f1d11ba443b831", "message": "[maven-release-plugin] prepare for next development iteration"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c7217d9e492f307272f2300f869a6e70cef4c525", "message": "[maven-release-plugin] prepare release 2.1.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/fa642b70b5e587ab0e486fcd66de8830bd493fa2", "message": "pom.xml - fix scm"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c768280660d8ba8c194cbfceb25137e7aeaa72b5", "message": "Bump bitbucket 5.0.2"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d090b1578c0bba6fdf732ccba3c147374e4f5f21", "message": "Start 2.1.0-SNAPSHOT"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/622ee4ec2b87ecc63d82492ec3fd63032f05ec7d", "message": "Merge pull request #46 from herrphon/patch-1\n\nUpdate travis-ci link in README"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/3c7e226ab35a896ffa1e33baf5587fdb82edb5a5", "message": "Merge pull request #47 from herrphon/develop\n\nFix tests and update links"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/21427ecf02ff96012cf63aa2ce63c66633f17fba", "message": "Merge pull request #40 from drieks/develop\n\nmirror notes"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/92a857f634dc82018afe05b645466fe8b03cecf0", "message": "Merge branch 'release/2.0.0' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/a7aae7ddc6323a86bf46158fc0f531949b5d01e8", "message": "Release 2.0.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/4e67b18a2c60916ce45b5c5e92041a806eecb13e", "message": "Soy template fixes for bitbucket server"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/fc5316370c39e4433f3ce6c01e5ced949d2ea2c5", "message": "Upgrade to bitbucket server 4.0.1 (WIP)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/32a9b9951d9f401adc52117e4629d6da42fe0274", "message": "Start 1.10.0-SNAPSHOT"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/1f89cf588fdfb3f014e7328fbe3f3e5ab10bc35f", "message": "Merge branch 'release/1.9.0' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/fbdeef73fedcba914a44218f8ecb3cb16322dab3", "message": "Bumped version to 1.9.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/cd58f9838f42b8634fb2ed7e4c311c9b0f6d42c2", "message": "Bumped Atlassian maven plugins to 4.2.20"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/dddfe5666e408bc6207c425a2b7c8ca8f1f3ce8b", "message": "Merge branch 'master' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/51174e0e4ba59a7b8e64bfd2080e792cdb461e72", "message": "Merge pull request #21 from xaviershay/force-push\n\nForce push"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/48e9ea36623e8a039615aad435316a4cec3c82a5", "message": "Merge branch 'release/1.8.0' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/6265a01b47972c0a25402a7add075b5f9f459101", "message": "Merge branch 'release/1.8.0'"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d12ef8b1518f302bb178fa29673288288c879d1b", "message": "Bumped version to 1.8.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/387d9367932652a401d0667c5047f06d67ce52f8", "message": "Merge pull request #20 from xaviershay/issue-19\n\nDon't mirror empty repositories."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/72c3fd1bfc883f8ea1654a490c94f5386fa183a3", "message": "Merge branch 'release/1.7.0' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/59c169b9443e547c9da0a89976d00e41cfa64db3", "message": "Merge branch 'release/1.7.0'"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/7b93f99f977fba3d4eee6b48ee4c15697c6e21d4", "message": "Bumped version to 1.7.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/36d293fee2847f7ae3e1c00a81a68113dfa6dab8", "message": "Relaxed remote repository url validation.  (fixes #15)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/6afef3861ca5b1873a9186aab71cdb02313d0ecb", "message": "Merge branch 'release/1.6.0' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/aa9bb95a7a12227a752e1fba5dd2460b3630cc13", "message": "Merge branch 'release/1.6.0'"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/43a5d6fe8b54b42b290faa27dab4fef5285f6d0d", "message": "Bumped version to 1.6.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/3b3e1a56261846cb3425d91d1dec211ff1df27a0", "message": "Removed config form css file.  The css file was breaking the form loading in Stash 2.6+ (fixes #14)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/7adf764efc9b0e352222cacba6943b7aa9610e59", "message": "Merge branch 'release/1.5.0' into develop"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/105c2cbc28f1b47595554b9e3779c3c55dedbb29", "message": "Merge branch 'release/1.5.0'"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/234c1faf06dce39d9303f7fc6c5d6c9a0474f3b4", "message": "Bumped version to 1.5.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/3ccc1073b2676c2f85177b3e6889c97276c8db07", "message": "Removed dependency stash-scm-git, use reflection to get at GitCommandExitHandler (fixes #12)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/9c99073419d0f54109ca7279e44bf542976ce1f1", "message": "Added marketplace link"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/0a07cf3669cfe4d1f191be6afc8466e803a27110", "message": "Updated version to 1.4.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/43ceffafde7da86454c32cbac6bc5ed0f754f174", "message": "Added support for ssh remote mirrors (fixes #10)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c845d276c759b606c9d8c9b20ae663a928b507df", "message": "Changed git command to use --prune with refspecs +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/* instead of --mirror to avoid mirroring pull-request refspecs. (fixes #11)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/922113e3cf05110c361ff213ea5c6431af31d718", "message": "Removed coveralls badge, java is not supported yet."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/83b4a462af0178082109cd8c24772008fb1b597e", "message": "Added coveralls badge"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/e0fe356ab4656deffc704d96af9832d552f9601a", "message": "Updated version to 1.3.0 and added some component-imports in atlassian-plugin.xml"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/379f62dbc16db1645b4020bc952093dba8557946", "message": "Updated version to 1.2.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/0e72e645a65afe4329582d34692d5c38a0898135", "message": "Updated Stash from 2.3.1 to 2.4.1"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/0c614b16261afe1b526a65a8bfe8a1a745f98214", "message": "pom.xml - updated version to 1.2.0-SNAPSHOT"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/5276cb0f033a2828642c52f2c5ad7aed5f2d8bb2", "message": "Renamed plugin as requested by Atalssian"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/4f8ee8ccdfb43a13121d7c99d85ac0e08ae3e237", "message": "Set version to 1.1.0-SNAPSHOT"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c8d682d3f8cacbd0eb10b9a8f9c9703c76b3d9b9", "message": "Set version to 1.0.0"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/9ca56c7467a7fe2b55ee97829d925473b9725ce3", "message": "Merge pull request #7 from englishtown/feature/multi-mirrors\n\nFeature/multi mirrors"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/e09a6ed6d64bdd5b3f4975fd48976a88618a89a1", "message": "Changed settings to always have a numeric suffix starting with 0."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/44c289296471ac6afd9af1a558dc779bae0d1eeb", "message": "Added unit tests"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c29ed9183697ee9a33c22f098819f04b1ac374f5", "message": "Added support for multiple remote mirror repos"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/c1a8e69501e4d38b85dffd654bfcd4ee6106a120", "message": "Merge pull request #6 from englishtown/feature/encrypt-password\n\nAdded password encryption (fixes #1)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/f227a6cca410b92c712c09a230f315fbb973b8aa", "message": "Added password encryption (fixes #1))"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/56c170b2b1a7700cdd46ee27e3fdf7a6624a11d7", "message": "Added travis build status image"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/929da53154cdce217192e0260c8edda742e73691", "message": "Added .travis.yml"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/83cd6530f9b6ce9b2b554c5ee8fe5c685c4bc367", "message": "Merge pull request #5 from englishtown/feature/retry-on-error\n\nMirrorRepositoryHook - the mirror command is attempted up to 5 times wit..."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d0308a968ca362012ba41b0736ba1633fcd84646", "message": "MirrorRepositoryHook - the mirror command is attempted up to 5 times with 1 minute intervals if it fails.  Saving hook settings will trigger the mirror command to run. (fixes #3 and fixes #4)"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/f63aec0b4c4ca6bbe604b7f571fc64a70d6bba62", "message": "pom.xml - added scm, issueManagement etc."}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/1f0025c66edcf1b85d230ffaa462d306ef2dac78", "message": "Initial commit"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/17232411", "body": "See this pages on the Google Closure Templates:\nhttps://developers.google.com/closure/templates/docs/commands#foreach\nhttps://bitbucket.org/atlassian/aui/src/auiplugin-5.0-m26-stash/auiplugin/src/main/resources/soy/atlassian/form.soy\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/17232411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/17243561", "body": "The problem is the settings are internally stored in an immutable map which makes it difficult to modify values before they are persisted.  One option would be to schedule a handler to reload the settings and save them encrypted after a short delay.\n\nRepositoryHookResource.java\n\n``` java\n@PUT\n    @Path(\"{hookKey}/settings\")\n    public Response setSettings(\n            @Context Repository repository,\n            @PathParam(\"hookKey\") String hookKey,\n            Map<String, Object> rawSettings) throws IOException {\n        Settings settings = createSettings(rawSettings);\n\n        settings = repositoryHookService.setSettings(repository, hookKey, settings);\n        return ResponseFactory\n                .ok(settings.asMap())\n                .build();\n    }\n```\n\nDefaultRepositoryHookService.java\n\n``` java\n    public Settings setSettings(@Nonnull Repository repository, @Nonnull String hookKey, @Nonnull Settings settings) throws FormValidationException {\n        checkNotNull(settings, \"settings\");\n        return repositorySettingsService.save(repository, hookKey, settings);\n    }\n```\n\nDefaultRepositorySettingService.java\n\n``` java\n    public Settings save(@Nonnull Repository repository, @Nonnull String moduleKey, @Nonnull Settings settings) throws FormValidationException {\n        checkNotNull(repository, \"repository\");\n        checkNotNull(moduleKey, \"moduleKey\");\n        checkNotNull(settings, \"settings\");\n        ModuleDescriptor<?> enabledPluginModule = pluginAccessor.getEnabledPluginModule(moduleKey);\n        Preconditions.checkArgument(enabledPluginModule instanceof ValidatorModuleDescriptor,\n                \"Module '\" + moduleKey + \"' does not implement ValidatorModuleDescriptor\");\n        ValidatorModuleDescriptor<?> moduleDescriptor = (ValidatorModuleDescriptor<?>) enabledPluginModule;\n        validate(moduleDescriptor.getValidator(), repository, settings);\n        save(convertToInternalRepository(repository), moduleKey, serialize(settings));\n        return settings;\n    }\n\n    private void validate(RepositorySettingsValidator validator, Repository repository, Settings settings) throws FormValidationException {\n        if (validator != null) {\n            Errors errors = new SettingsErrors(settings);\n            validator.validate(settings, new SettingsValidationErrorsImpl(errors), repository);\n            if (errors.hasErrors()) {\n                throw new FormValidationException(i18nService.getKeyedText(\"stash.repository.setting.validation.error\", \"Validation errors occurred when saving settings\"), new ErrorsWrapper(errors));\n            }\n        }\n    }\n```\n\nThe RepositorySettingsValidator validate method does not allow modifying the settings.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/17243561/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/17843092", "body": "Fixed with pull request #7 \n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/17843092/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18422614", "body": "Sorry, looks like there was a problem with v1.1.0 build.  A new v1.2.0 is available in the Atlassian Marketplace that should work.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18422614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18423928", "body": "May have spoken too soon.  I'm seeing a different error with v1.2.0.  Will get back to you ASAP.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18423928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18426398", "body": "Ok, version 1.3.0 should work.  Sorry, not sure why 1.2.0 was working in my development environment but not a normal stash instance.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18426398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21079773", "body": "As long as you install the ssh key for the user stash runs as, this should be fine.  I should be able to get to this in the next day or so.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21079773/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21080204", "body": "Standard git hooks (vs stash repository hooks) are shell scripts, so one option would be to investigate the REST api exposed by Stash.  It may not be possible to force an AsyncPostReceiveHook to run via current REST operations and may require adding additional operations for this hook.\n\nFrankly this sounds like a fair amount of effort and I would personally work around this by running subgit on a different server and push the changes to the Stash server.\n\nPlease feel free to submit a pull request if you want to contribute.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21080204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21080376", "body": "Makes sense, I will try to add this in the next couple days.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21080376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21118450", "body": "The code has not been modified yet, I will make the change in the next couple days.  This issue has been added to the Release 1.4.0 milestone.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21118450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21141545", "body": "Released v1.4.0 on the Atlassian marketplace\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21141545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21141553", "body": "Released v1.4.0 on the Atlassian marketplace\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21141553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22379313", "body": "Thanks for giving some details on this, someone else mentioned this problem in the Atlassian Marketplace without providing any information.\n\nI think there is a problem with the plugin handling localization correctly.  After upgrading to the latest version of Stash I am also seeing this problem.  I will try to have a new version ASAP.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22379313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22387052", "body": "After some trial and error, the problem is caused by the css file returning 404, the actual batch.js file correctly returns the merged soy template plus the external js file from the static resources directory.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22387052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22434775", "body": "Released version 1.6.0 to the Atlassian Marketplace.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22434775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22437199", "body": "Makes sense, the constraint is purely the configuration validation.  I can relax it further to allow any valid URL.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22437199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22453112", "body": "One thing to keep in mind is stash repositories are bare bone repositories, if you have a non-bare bone remote repository you will get an error like this:\n\n``` shell\n$ git push --prune file:///Users/adriangonzalez/git/stash/test/rep_1 +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/*\nCounting objects: 79, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (47/47), done.\nWriting objects: 100% (79/79), 7.70 KiB | 0 bytes/s, done.\nTotal 79 (delta 14), reused 0 (delta 0)\nremote: error: refusing to update checked out branch: refs/heads/master\nremote: error: By default, updating the current branch in a non-bare repository\nremote: error: is denied, because it will make the index and work tree inconsistent\nremote: error: with what you pushed, and will require 'git reset --hard' to match\nremote: error: the work tree to HEAD.\nremote: error: \nremote: error: You can set 'receive.denyCurrentBranch' configuration variable to\nremote: error: 'ignore' or 'warn' in the remote repository to allow pushing into\nremote: error: its current branch; however, this is not recommended unless you\nremote: error: arranged to update its work tree to match what you pushed in some\nremote: error: other way.\nremote: error: \nremote: error: To squelch this message and still keep the default behaviour, set\nremote: error: 'receive.denyCurrentBranch' configuration variable to 'refuse'.\nTo file:///Users/adriangonzalez/git/stash/test/rep_1\n * [new branch]      basic_branching -> basic_branching\n * [new branch]      branch_mod_merge -> branch_mod_merge\n * [new branch]      out_of_order_branch -> out_of_order_branch\n * [new tag]         backdated_annotated_tag -> backdated_annotated_tag\n * [new tag]         retagged_signed_tag -> retagged_signed_tag\n * [new tag]         signed_tag -> signed_tag\n ! [remote rejected] master -> master (branch is currently checked out)\nerror: failed to push some refs to 'file:///Users/adriangonzalez/git/stash/test/rep_1'\n```\n\nYou can run `$ git init --bare` to initialize your remote.  However, I don't think a bare bone repository will work for the use case you describe to deploy configuration files.\n\nThe other option is to set receive.denyCurrentBranch = ignore:\n\n``` shell\n$ git init\n$ git config receive.denyCurrentBranch ignore\n$ touch .git/hooks/post-receive\n$ chmod +x .git/hooks/post-receive\n$ nano .git/hooks/post-receive\n```\n\nAnd use something like the following for your post-receive hook:\n\n``` shell\n#!/bin/bash\n\ntest \"${PWD%/.git}\" != \"$PWD\" && cd .. \nunset GIT_DIR GIT_WORK_TREE\n\ngit reset --hard\n```\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22453112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/23034671", "body": "The hook generates a git commande like this:\n\n``` shell\ngit push --prune https://username:password@github.com/englishtown/stash-hook-mirror.git +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/*\n```\n\nCan you describe how you envision this to work with git commands and reading failure responses?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/23034671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34071524", "body": "Hi, the error message suggests either the remote repository url is invalid, or you don't have access.\n\nTo verify I would try running the git command manually **as the user stash runs as**.  Make sure the private key is installed for that user.  From the command line, go to the appropriate repository directory (you can find the location on the Repository Settings tab -> Repository details -> Location on disk).  Run `$ git push --prune git_repository_url +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/*`\n\nIf this works, let me know as it sounds like a bug with the plugin.  If this does not work then it seems like one of the following: \n- The git_repository_url you are using is not valid or is blocked in a firewall or some other network problem.\n- There is a problem with your ssh key, make sure you have installed the public key with an account on the remote git provider and the user has access to create/delete branches\n\nHope this helps.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34071524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34071745", "body": "Sorry, lost track of this issue.  If you are still using an older version of git, I would be happy to accept a PR that checks the stash version, and if it is less than 1.8 use --mirror.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34071745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34459831", "body": "Glad to hear it is working, I'll add this to the wiki.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34459831/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/36112664", "body": "Any interest in submitting a PR?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/36112664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/36952989", "body": "Thanks!  1.8.0 is available on the Atlassian Marketplace https://marketplace.atlassian.com/plugins/com.englishtown.stash-hook-mirror\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/36952989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39783407", "body": "Some remote repositories actively block `git push --force`.    Looks like you have commented on it here: https://answers.atlassian.com/questions/256607/how-to-disable-reject-force-push-plugin\n\nI think this would require a checkbox in the UI to enable the force argument (off by default).  What do you think?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39783407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39855822", "body": "Fair point.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39855822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39864188", "body": "v1.9.0 is available on the marketplace.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39864188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39978530", "body": "The steps are for the remote target repo.  Any suggestions on how to clarify?\n\nWould changing the following be enough?\n\"If you need to have a non-bare remote repository, it is possible with the following steps:\"\nto:\n\"If you need to have a non-bare remote repository, it is possible with the following steps on the remote machine:\"\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39978530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39989854", "body": "Updated the text.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39989854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992426", "body": "@landonf, any interest in contributing a UI checkbox to enable/disable the --force argument?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992917", "body": "The horse is roaming free, will need to release a new version to the Atlassian marketplace.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/43024893", "body": "Hi @yclian, do you still have any interest in creating a PR?  If not, I will close this issue.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/43024893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/43025058", "body": "Definitely makes sense, did you want to create PR?  I'm pretty busy on some other projects these days so don't have much bandwidth.  I'm not sure when I would be able to get to this.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/43025058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/48263391", "body": "Any interest in submitting a PR?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/48263391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/57397468", "body": "The current implementation mirrors the following ref specs:\n`+refs/heads/*:refs/heads/*`\n`+refs/tags/*:refs/tags/*`\n\nhttps://github.com/englishtown/stash-hook-mirror/blob/develop/src/main/java/com/englishtown/stash/hook/MirrorRepositoryHook.java#L132\n\nIf you wanted to submit a PR to allow specific ref specs, that could work.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/57397468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/57477372", "body": "Atlassian use soy templates.  The UI is here:\nhttps://github.com/englishtown/stash-hook-mirror/blob/develop/src/main/resources/static/mirror-repository-hook.soy\n\nAlthough, what you describe might be easier to achieve with pure git hooks:\nhttp://git-scm.com/docs/githooks\nhttps://answers.atlassian.com/questions/215927/use-git-hooks-with-stash\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/57477372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/93733838", "body": "Correct, it is not a two mirror.  \n\nAn example git mirror command is:\n\n```\ngit push --prune git@github.com:englishtown/stash-hook-mirror.git --force +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/*\n```\n\nhttps://github.com/englishtown/stash-hook-mirror/blob/develop/src/main/java/com/englishtown/stash/hook/MirrorRepositoryHook.java#L127\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/93733838/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94066693", "body": "@alasdairdc, I haven't looked at this plugin for a while, but it is due for some attention.  If subgit does not trigger the Stash web hooks to run, there is not much the stash-hook-mirror plugin can do.  \n\nDo you have a suggestion on how to handle this?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94066693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/163752975", "body": "There is no limit in the plugin.  This sounds like the git (Stash?) instance you are mirroring to is out of licenses.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/163752975/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/194328235", "body": "It originally used `--mirror`, but issue #11 requested a change to avoid mirroring all ref specs like pull requests.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/194328235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/249195961", "body": "It's one directional, the remote should be considered a read only mirror.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/249195961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/270676943", "body": "Does it work if you manually run the git mirror command?\r\n\r\n`C:\\Git\\bin\\git.exe push --prune ssh://git@pre-bitbucket.xxx.pt:7999/visioncenter/test.git --force +refs/heads/:refs/heads/ +refs/tags/:refs/tags/`\r\n\r\nIs the ssh key added for the user bitbucket runs as?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/270676943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/290223508", "body": "Are you using https or the git protocol?\r\n\r\nTake a look at the [troubleshooting section](https://github.com/ef-labs/stash-hook-mirror/wiki#troubleshooting).  Are you able to issue the mirror command directly from your bitbucket server:\r\n\r\n```\r\ngit push --prune https://username:password@github.com/englishtown/stash-hook-mirror.git +refs/heads/*:refs/heads/* +refs/tags/*:refs/tags/*\r\n```", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/290223508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/290275411", "body": "Can you use ssh keys with git protocol?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/290275411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/303217468", "body": "As @nathansgreen suggests, verify the github ssh key is being used by the bitbucket user.\r\n\r\nYou can try a manual mirror command:\r\nhttps://github.com/ef-labs/stash-hook-mirror/wiki#troubleshooting\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/303217468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/303218792", "body": "What changes would be required for CodeCommit?  \r\n\r\nIt looks like it supports https and ssh with granular IAM control:\r\nhttp://docs.aws.amazon.com/codecommit/latest/userguide/getting-started.html#getting-started-permissions\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/303218792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/306932286", "body": "Sorry for radio silence.  I will get to this soon.  Hopefully this Friday.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/306932286/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/307954504", "body": "Thanks", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/307954504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/307954688", "body": "Thanks", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/307954688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/310361988", "body": "No, it is just a one way mirror.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/310361988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/311092989", "body": "It looks like you are trying to use the Atlassian mirroring that comes with DataCenter: `com.atlassian.bitbucket.server.bitbucket-mirroring-upstream:mirroring-upstream-support-info`.\r\n\r\nThis plugin can be installed from the Atlassian marketplace here:\r\nhttps://marketplace.atlassian.com/plugins/com.englishtown.stash-hook-mirror/server/overview\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/311092989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/338990023", "body": "You're welcome to try, but you will have unpredictable behavior if two people commit at the same time.  Someone is going to have their changes overwritten.\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/338990023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/342269300", "body": "Have you tried the troubleshooting steps [here](https://github.com/ef-labs/stash-hook-mirror/wiki#troubleshooting)?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/342269300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347641103", "body": "Thanks for this!  Could you add some unit test coverage for your changes?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347641103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347641551", "body": "Thanks for the contribution, this is definitely something I have thought about and see value to adding.  The code looks good, just missing some unit test coverage for your changes.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347641551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/348801894", "body": "Sorry, will try to look at this and merge tomorrow. ", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/348801894/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349126511", "body": "@christiangalsterer I was just running the mirror plugin after merge and I noticed everything is still mirrored when first set up:\r\n\r\n```\r\n        // if an empty list of RefChanges was provided we assume this was caused by triggering after a config change.\r\n        // same if no branch pattern was specified we sync all branches\r\n        if(refChanges.isEmpty() || settings.branchesIncludePattern.isEmpty()) {\r\n            builder.argument(\"+refs/heads/*:refs/heads/*\");\r\n        } else {\r\n            .....\r\n```\r\n\r\nRather than using regular expressions, would it be easier to just specify the refspecs to mirror?  That would ensure only the appropriate branches are ever mirrored.  For example, if I only want to mirror `master` and `feature/*` branches I could have the following: \r\n```\r\n+refs/heads/master:refs/heads/master\r\n+refs/heads/feature/*:refs/heads/feature/*\r\n```\r\n\r\nThoughts?\r\n\r\nSee this feature branch [commit](https://github.com/ef-labs/stash-hook-mirror/commit/76ed3a78c5418a3ee875e36f5977feb2ba52c960) (https://github.com/ef-labs/stash-hook-mirror/tree/feature/mirror-ref-spec)\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349126511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349127412", "body": "Thanks, will be doing a new build shortly and will include this.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349127412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349442500", "body": "Thanks for being understanding.  \r\n\r\nI see a few benefits to supporting refspec such as it allows you to do mapping to different namespaces on the remote mirror.  Additionally you can control mirroring tags, pull requests, notes, etc.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349442500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349739328", "body": "v2.3.0 is released to the Atlassian marketplace.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349739328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/351535622", "body": "Correct, it should be an SSH key for the OS user that bitbucket server runs as.  I agree it is a bit confusing.  Feel free to suggest clearer text.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/351535622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/352108097", "body": "Released v2.3.1", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/352108097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [], "review_comments": []}, "christiangalsterer": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/a242e9b6fffe2a258640df666a8d72a0a9dd0e3c", "message": "i53: Mirror only specific branches"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347231498", "body": "I had some time and have already an implementation available. I will submit a PR tomorrow.\r\n\r\nThere is one open question. When the user specifies a branches pattern and saves the configuration the correct implementation still mirrors everything and not only the branches which matches the pattern.\r\n\r\nShall we keep this or shall we also change it in a way that it only mirrors the branches with matches the branch pattern? The second option would require an additional git command call to get all available branches (this would be my preference).", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347231498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347600349", "body": "Just submitted PR #54 for your review. Please let me know of any comments, changes, etc.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347600349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347657550", "body": "Thanks for the fast reply. Will add some unit tests tomorrow.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347657550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347982549", "body": "Added unit tests. Please let me know in case of questions, comments.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/347982549/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/348798966", "body": "Unit tests are added, please let me know in case of questions.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/348798966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349024606", "body": "np", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349024606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349371307", "body": "Hi,\r\n\r\nthanks for merging the PR. W.r.t your first question, this is also where I was not sure about how to deal with it, see my second comment in this issue. \r\nW.r.t. regex vs. refspec, I was also thinking about this and based on my experience, I see regex in add-ons more often than refspecs, therefore I went for regex. But refspec is also fine and feature branch looks ok for me. Maybe the only change to consider to rename the \"SETTING_REFSPEC\" variable to something like \"SETTING_BRANCHES_INCLUDE_REFSPEC\" to allow a potential extension in the future for excluding some refspecs.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349371307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349753174", "body": "sure makes sense. Do you already have an idea when you can provide a next release including the changes?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349753174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349754221", "body": "Please ignore my last comment, just saw that you already the releases.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349754221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/351804696", "body": "Ok, thanks for the clarification and now it is working. Maybe the documentation can be updated with an example to make it more clear.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/351804696/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "dflock": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d1ed3803773e996ed1f6ca1addcb18d73163213a", "message": "Fix heading markdown syntax"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "avonrent": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/d6741599562fa6914af2458fe4a3e1d272c858c4", "message": "use java8 at travis.ci"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/5b67b4078628b1f65edb1dcdb7688c4cf72ac767", "message": "use java8 at travis.ci"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/91f638f0712027c31f1721e3001b7e5e449d34bd", "message": "fix tests"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/aaf159d25b28aa36b86a3a049d5acf26d66c2360", "message": "pom.xml: move compiler versions into properties"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/3337d84ea484c26429b4c2a2505220c51fbaa685", "message": "update links in pom.xml"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "herrphon": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/e33b8aa6319863accf2105f991093e9d80e74a45", "message": "Merge pull request #1 from herrphon/develop\n\nFix Tests in patch-1"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/2e97e7c744363aa4df18667723e82400ac91a2c0", "message": "Update travis-ci link in README"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/306746609", "body": "Bitbucket 5 is supported. I just checked and no Java API calls were removed that this plugin is using. So although it's not marked as compatible in the marketplace yet, it'll work just fine.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/306746609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "drieks": {"issues": [], "commits": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/commits/5f3b576678fd996f2d5350aed809c84abbf27ce6", "message": "mirror notes"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "bbanzai": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18423207", "body": "Outstanding.. thanks! will update momentarily\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18423207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18426639", "body": "Ok, I have updated, will close this one now.  If I find anything else, will add a another issue.. Thank you for the fast response!.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/18426639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "orbitz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/20977251", "body": "I lied, it is a different plugin I was using that didn't require this.  But it would be really awesome if this did.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/20977251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21102343", "body": "How do I enable the plugin and create a mirror then?  When I type in anything like git expects it says it must be an https URL.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21102343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21131791", "body": "Fantastic!\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21131791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "efuquen": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21146365", "body": "I've confirmed this is now working, thanks for the quick fix!\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21146365/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "vs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21147951", "body": "Hi,\n\nI'm one of SubGit developers and I've just come across your discussion here.\n\nIndeed, current version (both SubGit 2.0.x and SVN Mirror Add-on 2.0.x) do not trigger any Git/Stash hooks when translating SVN revisions to Git commits. That's something we're going to fix a bit later. Please follow the issue for more updates on that: http://issues.tmatesoft.com/issue/SG-34\n\nFrom Git mirror side it would make sense to attempt mirroring new commits periodically in order to workaround the issue.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/21147951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94554726", "body": "Updates from our side:\n\n[SubGit 3.0 EAP](http://subgit.com/eap)\n\nSince version 3.0 it is possible to make SubGit trigger `user-post-receive` hook every time it fetches new changes from SVN repository:\n\n```\n$ edit REPO/subgit/config\n[svn]\n...\ntriggerSvnPostReceive = true\n\n$ subgit install REPO\n```\n\nSo, this should be possible to trigger necessary Stash hooks from `user-post-receive` in order to enable mirroring for changes arrived from SVN repository.\n\n[SVN Mirror add-on for Atlassian Stash](https://marketplace.atlassian.com/plugins/org.tmatesoft.subgit.stash-svn-importer)\n\nSince version 2.0.15 our plugin fires SvnFetchEvent implements RepositoryRefsChangedEvent every time it fetches new changes from SVN repository. I think it makes a lot of sense for Git mirroring plugin to listen to updated refs via RepositoryRefsChangedEvent mechanism. If that is done, the mirroring should work properly.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94554726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "temp": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22477748", "body": "Works fine now, thanks!\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22477748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "jasonmueller": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22504824", "body": "Thank you.  I'll give it a try.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/22504824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "weirdfoo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34397273", "body": "Interesting, once I did it in command-line once and accepted the ssh fingerprint of the remote server it's now working correctly with the mirror plugin.\n\nThanks :)\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/34397273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "eightnoneone": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39985866", "body": "Yep. It was obvious once I read it a few time, but since I'd recently been troubleshooting the stash repo via the shell, I was in a mindset of making changes there. Thanks. \n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39985866/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "landonf": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992221", "body": "Late to the party, but I'm uncomfortable with --force being the default here, and the ramifications for failure.\n\nPreventing local writes to the mirror target is ultimately the responsibility of whoever controls access to the remote repository, and we _do_ have --force disabled on _all_ repositories by default, as there's never a case where we want a forced push to be accepted.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992748", "body": "Since @xaviershay had the need for a very large hammer, I agree with your original request to include a UI to enable it.\n\nHowever, the horse has left the barn; unless you're comfortable rolling this change back, I'll take a look at putting together a patch.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/39992748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40037112", "body": "> In my experience with thousands of repos, some of them always get in a weird state. But if it works for you, seems like option to disable (or enable, w/e) makes sense.\n\nIs that volunteering? :-)\n\n> I can't imagine a development workflow that didn't allow force pushes. (or more technically: I can't imagine convincing an entire engineering team that they shouldn't use force pushes.)\n\nIt depends on your engineering team and their notions of best practices, I imagine.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/40037112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "phemmer": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/46203374", "body": "I'd be interested in this as well. Trying to use the plugin on ubuntu 12.04 (the previous LTS release) and it does not work. The logs don't show any error other than `c.e.stash.hook.MirrorRepositoryHook Failed to mirror repository foo, retrying in 1 minute (attempt 1 of 5)`. I'm guessing it's because of this as ubuntu 12.04 uses 1.7.9.5\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/46203374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "tschirmer": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/52473695", "body": "My issue's solved, but it would've helped a lot to have those logs.\n\nWhat was happening was some bad file encoding in the post-receive hook, and that was causing git to not read the file correctly. Not a terribly hard problem, but without to those logs took a fair amount to time to track down.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/52473695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "yclian": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/55852062", "body": "Sorry @adrianluisgonzalez, I lost track of this too. ;) My systems are now using newer Git, so I am migrated away from this problem.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/55852062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "djdesign": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/63267202", "body": "I second the request\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/63267202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "alasdairdc": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94042667", "body": "Has any work been carried out on this yet?  I noticed it's tagged as wontfix, is there a reason for that? It would be great if it fired the hooks when translating SVN into Git commits.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94042667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94189762", "body": "ah okay its down to subgit.  may take a look at it and see if theres anything that can be done.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/94189762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "halltony": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/147326715", "body": "Atlassian has published guideline on writing cluster safe add ons.  Is there a timeline for this plugin to be tested or amended to confirm DC support?\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/147326715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "apocyber": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/163755070", "body": "That is EXACTLY what it is. :)  Handled it this morning. :)  Thanks Adrian.\n\nHu\n\nOn Thu, Dec 10, 2015 at 3:21 PM, Adrian notifications@github.com wrote:\n\n> There is no limit in the plugin. This sounds like the git (Stash?)\n> instance you are mirroring to is out of licenses.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/englishtown/stash-hook-mirror/issues/36#issuecomment-163752975\n> .\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/163755070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wherget": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/194334180", "body": "Ah, I see. Thanks for clarifying. Somehow I missed that issue when searching.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/194334180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "d-k-b": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/235918046", "body": "Has there been any work on this? I'd love to use this but I need to be able to customize the particular branches that get mirrored.\n", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/235918046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "Shrobs": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/283730452", "body": "Issue was on my setup, gitlab mirror user didnt have the privileges to remove tags", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/283730452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "nathansgreen": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/289844453", "body": "Can you SSH from the bitbucket server to your remote host when logged in as the bitbucket user? (Default is `atlbitbucket` I think.)", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/289844453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mgillespie": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/312603938", "body": "I too would like to only mirror certain branches, not every branch (many are development temporary branches)", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/312603938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "bram1028": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/313585539", "body": "I just did this myself. You have to use an IAM user. Create or edit an existing IAM user and at the bottom of the \"Security credentials\" tab, there's a section called \"HTTPS Git credentials for AWS CodeCommit\" to generate a username/password for HTTPS access. You can also use SSH by uploading a public key and then it generates an \"SSH key ID\" which you use as the username.\r\n\r\nYou'll have to attach a policy that grants access to the repo ARN. See the IAM docs for that.\r\n\r\nSee http://docs.aws.amazon.com/codecommit/latest/userguide/setting-up-without-cli.html for more information.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/313585539/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "rushsimonson": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/318857324", "body": "Experiencing the same issue. Appears to be tied to the size of the repository. I was able to mirror using HTTPS from the same Bitbucket server to CodeCommit, but our largest repo which is around 15GB is not Mirroring. \r\n\r\n`.\r\ncom.atlassian.bitbucket.ServerException: An error occurred while executing an external process: process timed out\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.evaluateThrowable(GitCommandExitHandler.java:113) ~[na:na]\r\n\tat com.atlassian.bitbucket.scm.git.command.GitCommandExitHandler.onError(GitCommandExitHandler.java:201) ~[na:na]\r\n\tat com.atlassian.bitbucket.scm.DefaultCommandExitHandler.onExit(DefaultCommandExitHandler.java:31) ~[bitbucket-spi-4.11.1.jar:na]\r\n\tat com.englishtown.bitbucket.hook.PasswordHandler.onExit(PasswordHandler.java:46) ~[na:na]\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.callExitHandler(BaseCommand.java:146) ~[bitbucket-spi-4.11.1.jar:na]\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.internalGet(BaseCommand.java:280) ~[bitbucket-spi-4.11.1.jar:na]\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:244) ~[bitbucket-spi-4.11.1.jar:na]\r\n\tat com.atlassian.bitbucket.scm.BaseCommand.call(BaseCommand.java:83) ~[bitbucket-spi-4.11.1.jar:na]\r\n\tat com.englishtown.bitbucket.hook.MirrorRepositoryHook$1.run(MirrorRepositoryHook.java:142) ~[na:na]\r\n\tat com.atlassian.stash.internal.concurrent.StateTransferringExecutor$StateTransferringRunnable.run(StateTransferringExecutor.java:70) [bitbucket-platform-4.11.1.jar:na]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_71]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_71]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_71]\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_71]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_71]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_71]\r\n\t... 1 frame trimmed\r\nCaused by: com.atlassian.utils.process.ProcessTimeoutException: process timed out\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.wrapUpProcess(ExternalProcessImpl.java:679) ~[atlassian-processutils-1.7.8.jar:na]\r\n\tat com.atlassian.utils.process.ExternalProcessImpl.finish(ExternalProcessImpl.java:161) ~[atlassian-processutils-1.7.8.jar:na]\r\n\tat com.atlassian.bitbucket.scm.BaseCommand$CommandFuture.get(BaseCommand.java:242) ~[bitbucket-spi-4.11.1.jar:na]\r\n\t... 10 common frames omitted`", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/318857324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "royeectu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/337640076", "body": "+1", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/337640076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mbadawi23": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/343556295", "body": "I have this plug in installed on two repos to have two-way mirror. The `--prune` and the use of force flag (`+`) is a little scary, but in the case of two pushes at the same time, wouldn't at least one user get a failed push?", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/343556295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "hoppermann": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349596684", "body": "we have add an encosing div to the setting dialog to be independent from changes outsite.", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/349596684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "stweise": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/351980426", "body": "Having the same issue. +1", "reactions": {"url": "https://api.github.com/repos/ef-labs/stash-hook-mirror/issues/comments/351980426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}}}}