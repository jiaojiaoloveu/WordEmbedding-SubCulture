{"_default": {"1": {"kenmgrimm": {"issues": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/4", "title": "Tomcat - receive: javax.naming.NotContextException: Not an instance of DirContext", "body": "I have this code working fine in webrick.  When I migrate to Tomcat I get the following error:\n\njavax.naming.NotContextException: Not an instance of DirContext\njavax/naming/directory/InitialDirContext.java:92:in `getURLOrDefaultInitDirCtx'\njavax/naming/directory/InitialDirContext.java:248:in`search'\nC:/dev/apps/jruby-1.6.7/lib/ruby/gems/1.8/gems/jruby-ldap-0.0.2/lib/ldap/conn.rb:208:in `search'\n\nIt appears that in Webrick a nil is returned from the call to:\nldap.rb:57:\nenv = javax.naming.directory.InitialDirContext.new.environment rescue nil\n### Here env is nil\n\nand so it takes the default:\nldap.rb:58:\ndefault = {'java.naming.factory.initial' => 'com.sun.jndi.ldap.LdapCtxFactory'}\n\nTomcat on the other hand gives us this:\nldap.rb:57:\nenv = javax.naming.directory.InitialDirContext.new.environment rescue nil\n### Here env is:  {\"java.naming.factory.initial\"=>\"org.apache.naming.java.javaURLContextFactory\", \"java.naming.factory.url.pkgs\"=>\"org.apache.naming\"}\n\nWhen I modify ldap.rb by hand and override Tomcat's naming factory with the jruby-ldap default of  'com.sun.jndi.ldap.LdapCtxFactory', the ldap search works without error.  \n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/4/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/4988237", "body": "For now I have patched using this code and we are now successfully running in webrick and Tomcat.  It would be nice though to come up with an official solution to this problem.\n\nmodule LDAP\n  class << LDAP\n    alias :configuration_orig :configuration\n  end\n\n  def self.configuration(attrs={})\n    configuration_orig(attrs).update(javax.naming.Context::INITIAL_CONTEXT_FACTORY => 'com.sun.jndi.ldap.LdapCtxFactory')\n  end\nend\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/4988237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "nicksieger": {"issues": [], "commits": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/719bf07701aa48468eefe1580d8e2fbe212844b9", "message": "Add release history"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/132f1a4ee3a575041c2a9815c5d5ebd31a4e2033", "message": "Don't need bundler/setup for Rakefile"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/47bfab5077b50d34bb32da9d611d3f96a0e20f00", "message": "Switch to using Bundler to build/release gem\n\nAlso bump version to 0.0.2"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/6ab9f30649e03252f4a99d37d79784414ea2bd5c", "message": "Merge pull request #1 from arkadiyk/master\n\nmake it 1.9 compatible ('then' instead of ':' in case statements)"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/2385904", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/2385904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/comments/1074454", "body": "Sure thing. Here you go: https://rubygems.org/gems/jruby-ldap/versions/0.0.2\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/comments/1074454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": []}, "arkadiyk": {"issues": [], "commits": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/6cfd0b7546472b33726bf6b07b1e3bec68c9c8b1", "message": "make it 1.9 compatible ('then' instead of ':' in case stmt)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "olabini": {"issues": [], "commits": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/39f77cf9b045d5746678d4315d1712566a67c7ee", "message": "Remove something that will be hard to ever implement"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/commits/0f357ca8ae5aea74d6137171ce9a5312e3384181", "message": "Add implementation of modrdn"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "petems": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/pulls/5", "title": "Adds patch for to_hash method", "body": "* As detailed in many posts about issues with jruby-ldap and puppet server:\r\n* https://groups.google.com/forum/#!topic/puppet-users/DKu4e7dzhvE", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "matthauck": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/4586926", "body": "I currently have an LDAP server I'm trying to access via jruby-ldap. The code is as follows:\n\nconn = LDAP::Conn.new 'ldap.company.com', 1389\nbegin\nconn.bind(dn, pass)\nputs \"Authenticated!\"\nrescue LDAP::ResultError => e\nputs \"Sound the alarm! '#{e.message}'}\"\nend\n\nThe funny thing is that when my credentials are wrong, it reports error code -1: \"Can't contact LDAP Server\", even though the proper error code should be 49: Invalid Credentials. When I run the same code with MRI ruby (or with ldapsearch), it properly reports the right error messages.\n\nIt would be helpful to distinguish whether an bind failure is coming from not being able to contact the LDAP server, versus a user's password being wrong and thus a failed authentication.\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/4586926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/4621493", "body": "Using jruby-ldap for a project -- would it be possible to pull this in and make a new version?\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/4621493/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/201081208", "body": "Hmm. looks like you're not going to merge this in... :cry: \n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/201081208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/comments/1073945", "body": "Is there a plan to release a \"0.0.2\" that is 1.9 compatible?\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/comments/1073945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/jruby/jruby-ldap/comments/1074456", "body": "Sweet, thanks =)\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/comments/1074456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "johnsinco": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/5025224", "body": "We have the same issue.  Jruby 1.6.6 with Tomcat 5.  Thanks for the patch!!\n", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/5025224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "vinzent": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/323069349", "body": "@nicksieger or whoever is maintainer here. \r\n\r\nI have the very same issue as @petems and like to see this change to be merged an released. \r\n\r\nHow can this proceed?", "reactions": {"url": "https://api.github.com/repos/jruby/jruby-ldap/issues/comments/323069349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}}}}