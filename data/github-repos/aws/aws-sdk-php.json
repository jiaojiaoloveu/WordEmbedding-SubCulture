{"_default": {"1": {"MatthewBooth": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1476", "title": "Presigned PutObject URLs broken", "body": "For some reason between 3.48 and 3.50 presigned URLs for uploading/PutObject are totally broken.\r\n\r\nI get this error: `The request signature we calculated does not match the signature you provided. Check your key and signing method.`.\r\n\r\nThe key is fine and the signing method is fine. Zero code issues. How do I know this? Because it worked in 3.48 and the same code still generates valid presigned GetObject URLs.\r\n\r\nCode that generates:\r\n\r\n```php\r\n       /**\r\n     * Handles the request based on the given method\r\n     *\r\n     * @param string $objectKey The object key for the request\r\n     * @param string $method    The method used in the request command\r\n     *\r\n     * @return string\r\n     */\r\n    private function handler(string $objectKey, string $method)\r\n    {\r\n        $bucket = $this->adapter->getBucket();\r\n\r\n        $s3Cmd = $this->client->getCommand($method, [\r\n            'Bucket' => $bucket,\r\n            'Key'    => $objectKey,\r\n        ]);\r\n\r\n        $expiry = env('MEDIA_API_EXPIRY_TIME_SECONDS') ?: self::SIGNED_TIME_IN_SECONDS;\r\n\r\n        $s3Request = $this->client->createPresignedRequest($s3Cmd, '+' . $expiry . ' seconds');\r\n\r\n        return $s3Request->getUri()->__toString();\r\n    }\r\n```\r\n`$method` is either \"GetObject\" or \"PutObject\":\r\n\r\n```php\r\n   /**\r\n     * Creates a pre-signed URL to download/access a file that will expire after a given time\r\n     *\r\n     * @param string $objectKey The object key of the file that will be downloaded\r\n     *\r\n     * @return string\r\n     */\r\n    public function download(string $objectKey)\r\n    {\r\n        return $this->handler($objectKey, self::GET_OBJECT);\r\n    }\r\n\r\n    /**\r\n     * Creates a pre-signed URL to upload a file that will expire after a given time\r\n     *\r\n     * @param string $objectKey The object key of the file that will be uploaded\r\n     *\r\n     * @return string\r\n     */\r\n    public function upload(string $objectKey)\r\n    {\r\n        return $this->handler($objectKey, self::PUT_OBJECT);\r\n    }\r\n```\r\n\r\nSpent a couple of hours with this before realising the PHP AWS SDK library updated two days ago and now this is broken, so I suspect they're related.\r\n\r\nFor brevity, the constants:\r\n\r\n```php\r\n    const GET_OBJECT = \"GetObject\";\r\n    const PUT_OBJECT = \"PutObject\";\r\n    const SIGNED_TIME_IN_SECONDS = 300;\r\n```", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1476/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mrmark": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1436", "title": "Issues with NFS mounts and S3", "body": "Hello!\r\n\r\nThe root of the problem is that the SDK does not always close open file handlers.  This is not a problem with non-NFS mounts and it is only a problem if you attempt to delete the folder in which the open file handler is using.\r\n\r\n**File download example use case:**\r\n* Create a temporary directory on the NFS mount.\r\n* Use `\\Aws\\S3\\S3Client::getObject` to download an object *that does not exist in S3*.  Set `SaveAs` to a file path within the temporary directory on the NFS mount.\r\n* Delete the temporary directory by iterating files and deleting each one.  Once the directory is empty, remove the directory.\r\n\r\n*Workaround*: instead of passing in a file path into `SaveAs`, pass in the file `resource` handler itself and ensure it is closed after calling `\\Aws\\S3\\S3Client::getObject`.\r\n\r\n**Multipart upload example use case:**\r\n* Create a temporary directory on the NFS mount.\r\n* Use `\\Aws\\S3\\S3ClientTrait::upload` to upload a large file which would trigger multipart upload (16Mb or larger).\r\n* Delete the temporary directory by iterating files and deleting each one.  Once the directory is empty, remove the directory.\r\n\r\n*Workaround*: None found, need to avoid using multipart uploads by using `\\Aws\\S3\\S3Client::putObject`.\r\n\r\n**Example error:**\r\nBoth of the above use cases result in an error that looks like this:\r\n> Warning: unlink(/path/to/directory/being/deleted/.nfs676dc60d2899deb8000000c5): Device or resource busy in /path/to/script.php on line X\r\n\r\nSome info about the `.nfs` files, http://nfs.sourceforge.net/#faq_d2\r\n\r\n**Solutions:**\r\n* Update the SDK to close these?\r\n* Is it possible for me to add middleware or listen to some events to automatically close these?\r\n* Others? Open to suggestions.\r\n\r\nCheers and thanks for the help.  This is likely an edge case, so I'll understand if there isn't much that can be done.", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "et304383": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1323", "title": "Please add/fix support for assume role CLI profiles in .aws/credentials", "body": "#1030 was closed and appears to remain unresolved as of 3.31.0.\r\n\r\nI expect that if I have this in `.aws/credentials`:\r\n\r\n```\r\n[profile1]\r\noutput = json\r\nregion = us-east-1\r\naws_access_key_id = A**************\r\naws_secret_access_key = *****************\r\n\r\n[profile2]\r\noutput = json\r\nregion = us-east-1\r\nrole_arn = arn:aws:iam::123456789012:role/Developer\r\nsource_profile = profile1\r\n```\r\n\r\nI should be able to simply set the env var:\r\n\r\n```\r\nexport AWS_PROFILE=profile2\r\n```\r\n\r\nAnd then this should work:\r\n```\r\n$ec2_client = new Aws\\Ec2\\Ec2Client([\r\n  'region' => 'us-east-1',\r\n  'version' => 'latest'\r\n]);\r\n```\r\n\r\nThis does not.  As I noted on the other issue, CredentialsProvider is throwing this error:\r\n\r\n```\r\nFatal error: Uncaught Aws\\Exception\\CredentialsException: No credentials present in INI profile 'profile2' (/var/www/.aws/credentials) in /var/www/html/vendor/aws/aws-sdk-php/src/Credentials/CredentialProvider.php:394\r\n```\r\n\r\nThis should work exactly like boto3 and just work.  The SDK should detect that the profile is an assume role type with a role_arn value and perform the assume role call to get credentials.  **I should not have to modify the code to explicitly declare a credentials provider**.\r\n\r\nIf I am simply missing a step please clarify, but I believe code should be agnostic to whether it's running with the env var AWS_PROFILE set or running on EC2.", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1323/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "justin-yan": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1301", "title": "Default Region for Client Instantiation", "body": "Tried to find existing or similar issues but didn't spot any - #1239 might be kind of similar.\r\n\r\nThe immediate problem I'm facing is that I would like to be able to have a default region that comes from the credential provider chain.  An example from the Java SDK: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-region-selection.html#default-region-provider-chain\r\n\r\nThanks!", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "bradynpoulsen": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1239", "title": "Feature: Configure Services' Endpoint URLs via Environment Variables", "body": "I've been looking the documentation about environment variables and see that you are able to configure credentials, regions, and profiles using environment variables, but I do not see a way to configure the endpoint url option to point to our internal proxy.\r\n\r\nMy suggestion is to configure the endpoint url if either the `AWS_<REGION>_<SERVICE>_ENDPOINT` or `AWS_<SERVICE>_ENDPOINT` (in that order of priority) environment variables are available.\r\n\r\nI suggest making this change in one of these locations (that I have found so far) in order of suggestion preference:\r\n * [`Aws\\ClientResolver::_default_endpoint_provider`](https://github.com/aws/aws-sdk-php/blob/master/src/ClientResolver.php#L615-L619)\r\n * [`Aws\\Endpoint\\PartitionEndpointProvider::getPartition`](https://github.com/aws/aws-sdk-php/blob/master/src/Endpoint/PartitionEndpointProvider.php#L38-L47)\r\n\r\nFor reference purposes:\r\n * [`Aws\\Credentials\\CredentialsProvider`](https://github.com/aws/aws-sdk-php/blob/master/src/Credentials/CredentialProvider.php#L214-L229) use of environment variables\r\n * [PHP `getenv` Documentation](http://php.net/manual/en/function.getenv.php)", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/1243", "title": "Added support to configure client endpoints through environment variables", "body": "Closes #1239", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "umesecke": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1101", "title": "Discussing MultipartUploader's handling of seekable streams", "body": "The multipart uploader does some 'special' handling of streams I'd like to discuss.\n\nStreams are only treated as seekable if the underlying resource is a filehandle (\"wrapper_type = plainfile\", see [AbstractUploader::getUploadCommands()](https://github.com/aws/aws-sdk-php/blob/master/src/Multipart/AbstractUploader.php#L46)). In the MultipartUploader implementations for S3 and Glacier there is even access to the underlying url and a new stream is created opening the file for each part, bypassing the original stream (see [MultipartUploader::createPart()](https://github.com/aws/aws-sdk-php/blob/master/src/S3/MultipartUploader.php#L90)).\n\nAs a result, all streams that don't have an underlying file are first copied into a new stream backed by \"php://temp\". That means they are written into a temporary file in a location provided by sys_get_temp_dir(). PHP writes the data to disk if the size is larger than 2 MB which is the case for every but maybe the last part of a multipart upload.\n\nThis all brings (a) latency because of copying data to disk, (b) additional space requirements on disk, (c) additional open filehandles and (d) the risk of the disk running full. This is done even if the stream is declared as seekable by it's implementation. And in case of an error and restarting the uploader all this buffering is repeated for parts that are still to be transmitted.\n\nIs there a reason for doing this and depending on the underlying source of a stream? Shouldn't it be the responsibility of the stream's implementation to handle all that?\n\nThe only reason I can think of is that multiple streams all have their own seek position and don't interfere with other consumers of the underlying file in an async program execution context. But shouldn't it be sufficient to call seek() before reading from the stream to make sure it is back in the right position? I am not aware of current multithreading features in other php implementations (HHVM, etc) but at least in plain old PHP I have no situation in mind where a seek() directly followed by a read() in the same \"unit of work\" should be disturbed by other code re-seeking the stream.\n\nFor non-seekable streams I can see that this buffering is necessary because the parts are uploaded concurrently. But if the source stream is seekable I don't think all this is needed.\n\nIn my case (and the reason I am writing all this) I have a seekable stream implementation that handles reading parts of a large file from multiple third-party API calls. Providing that stream to the multipart uploader first buffers the parts on disk which has the high risk of the disk running full in case of multiple concurrent requests in my application. This leaves me with either implementing multipart uploads using the low-level API myself or creating a stream wrapper for my stream implementation faking to be a \"plainfile\".\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1101/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "assembledadam": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1081", "title": "Using the SDK for CloudSearch is a pain", "body": "A snippet from a call like this:\n\n```\n$cloudSearchClient->search([\n    'query' => \"(phrase field=_id 'some-permalink')\",\n    'queryParser' => 'structured',\n])->get('hits');\n```\n\nGives me this result:\n\n```\narray:2 [\n  \"id\" => \"some-permalink\"\n  \"fields\" => array:10 [\n    \"category\" => array:1 [\n      0 => \"screenshots\"\n    ]\n    \"permalink\" => array:1 [\n      0 => \"some-permalink\"\n    ]\n    \"date\" => array:1 [\n      0 => \"2016-06-21T11:25:22Z\"\n    ]\n    \"site_permalink\" => array:1 [\n      0 => \"videogamer\"\n    ]\n    \"created_at\" => array:1 [\n      0 => \"2016-06-21T11:24:40Z\"\n    ]\n    \"subtype\" => array:1 [\n      0 => \"images\"\n    ]\n    \"keywords\" => array:2 [\n      0 => \"dead by daylight\"\n      1 => \"pc\"\n    ]\n    \"name_en\" => array:1 [\n      0 => \"Dead by Daylight Screenshots\"\n    ]\n    \"type\" => array:1 [\n      0 => \"content\"\n    ]\n    \"body_en\" => array:1 [\n      0 => \"Check out these screenshots from Dead by Daylight\"\n    ]\n  ]\n]\n```\n\nWhy on earth is every result field an array? Even single value fields (like INT fields) return an array with a single value, which is extremely unhelpful.  \n\nIt wouldn't be SO bad if you could put this straight back into CloudSearch with uploadDocument(), but you can't - the API complains that array types are not accepted for fields with single values, e.g.: `\"Field \"category\" must have array type to have multiple values\".`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/1081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Alorel": {"issues": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/808", "title": "[suggestion] split the composer package into separate components?", "body": "Hi!\n\nOur company only uses the S3 and SQS libraries, however, in order to have these installed via Composer, the entire AWS package needs to be downloaded, inflating Composer's autoload files. Would it perhaps be possible to split the AWS SDK into separately installable components (e.g. `composer require aws/s3-php-dk`) which would then have some requirements of their own (e.g. the s3 package would require aws/common-php)?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/808/reactions", "total_count": 6, "+1": 6, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "kstich": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/421217ceff7de350cf9fc61c9bfc5ff363ef894f", "message": "Retry Specific cURL Error Codes (#1463)\n\n* Test for missing functionality.\r\n\r\n* Retry on a set of CURLE_*_ERROR based failures.\r\n\r\n* Add Changelog Document.\r\n\r\n* Update for PHP 5.5 string array access reference compatibility.\r\n\r\n* Update to method_exists check on ConnectException, style updates."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/05ebeb7d15abef349f39068f0647088b4569186c", "message": "Add AWS_EC2_METADATA_DISABLED Environment Variable (#1473)\n\n* Tests for InstanceProfileProvider disabling flag.\r\n\r\n* Short-circuit InstanceProfileProvider request for credentials.\r\n\r\n* Update credentials guide to reflect AWS_EC2_METADATA_DISABLED environment variable.\r\n\r\n* Add Changelog Document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/c682b8d0f1d5cf4a933f89e4304e4fb8e4fa78f6", "message": "RDS PreSignedUrl Missing DestinationRegion Fix (#1471)\n\n* Add DestinationRegion to RDS models and documentation overrides for PresignedUrlMiddleware use.\r\n\r\n* Add Changelog Document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/25bd24905fff81cf375f67c72d28928e16035289", "message": "S3 \"Size\" Update for ListObjects, ListObjectsV2, ListObjectVersions, and ListParts (#1466)\n\n* Update S3 Size object to reflect being a long.\r\n\r\n* Add Changelog Document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/aa80759463253d9877e081340014d13fdadac6cc", "message": "Correct phpunit/phpunit version for 7.2 with lowest. (#1470)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/e4785a016936017ceed000e9f632f6d950c5cabe", "message": "Update Travis to send coverage for optimal and lowest settings of PHP 7.1. Update CodeCov to report after receiving both coverages. (#1469)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/4f70fc24e5404b1859cdd7bea4eec79cd0878d03", "message": "Redirect old AWSSDKforPHP paths. (#1451)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/321e15b25784687a59d635c16549bfcfa85ae31d", "message": "Retry RequestThrottledException (#1448)\n\n* Retry on code RequestThrottledException\r\n\r\n* Changelog document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/9ad17d6240e5bff849f4bad1f9e2c5110f960de4", "message": "Add S3EncryptionMultipartUploader (#1433)\n\n* Trait buildouts for cipher building and param parsing.\r\n\r\n* Trait buildout for testing param parsing trait implementers.\r\n\r\n* Move static methods to trait members for re-use.\r\n\r\n* Update tests due to move of static methods to trait members for re-use.\r\n\r\n* Define required functionality through tests.\r\n\r\n* Update test for new prepare_data_source step\r\n\r\n* Update to add prepare_data_source step.\r\n\r\n* Adds S3EncryptionMultipartUploader.\r\n\r\n* Changelog document.\r\n\r\n* Update service guides.\r\n\r\n* Update prepare_data_source invocation.\r\n\r\n* Update expected called value to match updated test.\r\n\r\n* Update to remove breaking change on interaction with isSupportedCipher.\r\n\r\n* Update doc to complete class reference.\r\n\r\n* Undo doc file name change."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/9f5b1912af6d59755dd92ff0d8799b99f6eae2f0", "message": "Add changelog document. (#1441)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/4c6ff58a0b3059b856359e94b90dcbd8c34fa09a", "message": "Fix getEndpoint Naming Collision (#1440)\n\n* Overcomes a PinpointClient::getEndpoint naming collision with AwsClient::getEndpoint.\r\n\r\n* Add operation collision verification tests. Verify no override of AwsClient methods."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/316f81b9145f4e01085f2f0d4843d2e4cc2412a1", "message": "Update service guides to be consistent with functionality in url param usage. (#1434)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/65dfc35f2863c06d4766206841b17c30ac355cc2", "message": "Corrects Changelog Entry for Lambda"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/e6568feede0c1e36b629594c833a30108e9d5164", "message": "Corrects Changelog Entry for Lambda"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/9ce5b8c3132a23400d9272e77daf2c83790246f8", "message": "Corrects Changelog Entry for Lambda"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/d35b91f4906dfc066b4d3e5d6e2021fe0ace1748", "message": "Corrects Changelog Entry for Lambda"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/990776fdecb76b700be9d5b82ad1d23c94c3e091", "message": "S3EncryptionClient getObjectAsync CipherOptions Fix (#1427)\n\n* Fix loading @CipherOptions on getObjectAsync decryption.\r\n\r\n* Changelog document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/a2f90a9c97ce100f93905d91da38385a1c6faadc", "message": "S3 Client Side Encryption (#1395)\n\n* Define a base AesStreamInterface.\r\n\r\n* Define a CipherMethod interface and a CBC implementation based on it.\r\n\r\n* Streams for Encrypting and Decrypting that take CipherMethods.\r\n\r\n* Streams for Encrypting and Decrypting that use PHP 7.1 GCM support.\r\n\r\n* Tag appended GCM Encrypting stream.\r\n\r\n* MetadataEnvelope to store envelope encryption metadata.\r\n\r\n* MaterialsProvider abstract definition. KmsMaterialsProvider that uses KMS to provide abstract pieces of MaterialsProvider.\r\n\r\n* MetadataStrategyInterface to save and load data from a MetadataEnvelope.\r\n\r\n* Define, and provide some, base functionality for crypto handling clients.\r\n\r\n* Traits that provide encrypt() and decrypt() functionality, using the provided AesStreamInterface based classes.\r\n\r\n* Strategy that saves/loads MetadataEnvelope contents from S3 Object Metadata Headers.\r\n\r\n* Strategy that saves/loads MetadataEnvelope contents from an instruction file on S3.\r\n\r\n* Adds the S3EncryptionClient with CBC and GCM support. Uses pluggable strategies for handling a MetadataEnvelope in conjunction with a MaterialsProvider. Supports putObject[Async] and getObject[Async] operations.\r\n\r\n* Update apigen version to handle trait overlap.\r\n\r\n* Remove Crypto *Stream Keys from traces.\r\n\r\n* Tests for CBC cipher and Aes streams.\r\n\r\n* Tests for KmsMaterialsProvider.\r\n\r\n* Tests for MetadataEnvelope. Adds a trait for future MetadataEnvelope related tests.\r\n\r\n* Tests for both MetadataStrategyInterface implementers.\r\n\r\n* Tests for S3EncryptionClient functionality.\r\n\r\n* Integration tests.\r\n\r\n* Service Guide for S3EncryptionClient.\r\n\r\n* Changelog document.\r\n\r\n* Only run codecov on 7.1 for GCM availability.\r\n\r\n* Minor service guide updates for consistency with code updates.\r\n\r\n* Fallback to setExpectedException for older versions of PHPUnit.\r\n\r\n* Send coverage to CodeCov for only 7.1 with latest dependencies.\r\n\r\n* Proper multibyte character testing.\r\n\r\n* Update docs to clarify instruction file handling after a failure.\r\n\r\n* Psr2 + SDK conventions fixes. Namespaces for S3 specific test classes.\r\n\r\n* Update documentation around CEKs.\r\n\r\n* Update supportedCiphers setup. Fix doc typo.\r\n\r\n* Remove extraneous break statements.\r\n\r\n* Remove need for AesTaggedGcmEncryptingStream and its use via AppendStream. Remove object reference from encrypt signature."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/05f49277b7171934dd4afc138d9f13e38a1dd947", "message": "PresignUrlMiddleware 'require_different_region' Option (#1420)\n\n* Update test class name.\r\n\r\n* Prove broken functionality.\r\n\r\n* Update PresignUrlMiddleware to potentially require different regions to supply Urls for, set this to true for the RdsClient.\r\n\r\n* Changelog document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/6a78d96f59ac5e80fe492be1e5736840daad542e", "message": "Add HHVM version to User-Agent if it is defined. Expand ClientResolver test to handle it optionally. (#1414)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/b25d8010b2a32fdc47cff9f4c0c3c5c40f672601", "message": "Cleanup for each() calls (#1419)\n\n* Replace list() = each() with key() + lookup assignments.\r\n\r\n* Replace an each() extraction with key() based extraction."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/050aa33af11ed41bbba7a82446fe9256edae3efa", "message": "Analytics JS Fixes (#1417)\n\n* Update analytics setups.\r\n\r\n* Depth formatting."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/87b49e19e1cb912c6671b91c13ca84e9fe3c641f", "message": "ResultPaginator createNextCommand Arguments Fix (#1406)\n\n* Test to prove that marker doesn't move.\r\n\r\n* Merge args in instead of appending, which will override old starting keys.\r\n\r\n* Changelog document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/772b5c41d2fa85d44d6c02616c03442b417871ad", "message": "Obey 'use_path_style_endpoint' in PostObject[V4] (#1403)\n\n* Tests to verify functionality difference.\r\n\r\n* Obey use_path_style_endpoint client configuration in PostObject[V4] form generation.\r\n\r\n* Changelog document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/84b76a74f67f4464054a5551ce425da35d2d235c", "message": "Multipart ContentType fix (#1397)\n\n* Change contentType only when no param ContentType\r\n\r\n* change from !isset to empty, update comment\r\n\r\n* add changelog\r\n\r\n* Tests that solidify base functionality and overrides.\r\n\r\n* Update changelog document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/85b15fba8402f02c6804075a14df0f240a99b156", "message": "Update a chunk of broken or redirecting links in documentation. (#1391)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/1ba6da5273d31ec493a63687466be8e37e2efd0b", "message": "Changelog Cleanup\n\nFix group title."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/a7ec17343580a1888b84b95aefc8cbb6da3ba106", "message": "S3 Stream Uri Parsing (#1385)\n\n* Properly parse s3:// uri used with StreamWrapper. Tests to prove functionality."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/0dcdebfe9a34da840bab659dcde70e7fdb7aa5c5", "message": "Move release notes doc (#1384)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/5f10172f8beec4524501a6d57e9f43c91035d556", "message": "Travis Updates (#1382)\n\n* Update for 7.2 lowest and codecov in non 5.5/hhvm/nightly"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/5c0defc169229ac57a5f9579706872aff7285f7b", "message": "Travis updates (#1373)\n\n* Update to trusty, add PHP 7.2, remove xdebug from runs as it's causing failures."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/35fc6ca2c3e730b983c1c33a4fc591d359933e8b", "message": "Update SES RawMessage documentation to reflect that it will be base64 encoded automatically. (#1360)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/852e3d67e5114a0939a9aeec1ce3de61251fb651", "message": "Guzzle5 Exception SaveAs Fix (#1359)\n\n* Tests to prove broken functionality.\r\n\r\n* Load response body for exceptions when sink is not a stream."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/8449a90604fa222487c4ed54b9104f6b152847a5", "message": "Config option message fix (#1353)\n\n* Tests to show issue.\r\n\r\n* Fix for null required argument details.\r\n\r\n* Changelog Document."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/53eaf23bf6f62d1729740f6c1687e07dd0b5349d", "message": "Fix broken services listing link. (#1349)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/7c34cf04cc03046c8a20e74e72e1a1b5d8f3b8f2", "message": "Move back to precise while we work on the trusty build issues (#1339)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/e7f9884e48e63f2c5af37ef9e2147698e000fa4f", "message": "fix count(): Parameter must be an array or an object that implements Countable (#1318)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/2d0508ddeac51bbb0e0f86465db6b7ac50a597fb", "message": "Fix for S3MultiRegionClient receiving AuthorizationHeaderMalformed with host-style (#1330)\n\nProperly handle reading mismatched regions from S3's AuthorizationHeaderMalformed exception for S3MultiRegionClient, updated host-style tests to reflect correct behavior and added additional tests for coverage."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/4da9a3b61473b378dea34c2b211cb3654ec3effb", "message": "ContentLength Fix for MultipartUploader::createPart (#1328)\n\n* Set ContentLength for all stream parts, not just unseekable."}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/c0321509cccc20e6f0051ce9e36369e465388029", "message": "Bug Fix + Functionality Updates for MultipartUploader/Copy and ObjectUploader/Copier (#1313)\n\n* Tests that prove broken functional expectations. Added 'params' passthrough for MultipartUploader/Copy. Increased functionality of ObjectUploader/Copier with regards to 'params'. Added 'before_lookup' option to ObjectCopier to operate on its 'HeadObject' command. Allow additional options to be passed through to MultipartUploader from ObjectUplaoder instead of only those defined by ObjectUploader"}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/22682964", "body": "Apologies for the issue here @KnutHelland. There was another comment in a similar regard on #1299 and a follow up to that  in #1309 with better handling around what causes what version changes and how they're messaged.", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/22682964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "qmcree": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/970347647c2f8e73478960b2b47d97274c2d752d", "message": "Update `Aws\\PhpHash::$context` docblock with `HashContext` type. (#1465)\n\n* Update `Aws\\PhpHash::$context` docblock with `HashContext` type for PHP 7.2.\r\n\r\nWith PHP 7.2, the `hash` extension was updated to use objects instead of resources. See https://secure.php.net/manual/en/migration72.incompatible.php#migration72.incompatible.hash-ext-to-objects .\r\n\r\n* HashContext DocBlock changes per @kstich"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "carusogabriel": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/511bba986e36d2831e3719e7755036110f90584f", "message": "Simplify return (#1474)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/6357a8f3639393fb46da98600e3dd576e4cc3fd2", "message": "Fix misspelling class PresignUrlMiddleware (#1461)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/b54f7504bc68dd1f4f760298a1d80c46b5562fa2", "message": "[CS] Clean up extra lines from documentation (#1455)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/3898e17733dfe62a5502a8981d0ae58b752d4d13", "message": "[CS] Remove unused imports (#1453)\n\n* [CS] Remove unused imports\r\n\r\n* Adjusted unused imports"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/88171efe2ad8b048cd0459957ae69eaf656dbf80", "message": "Clean elses (#1443)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/706e503fc7ad3539a54e988106470b241baa8331", "message": "Use fluent interface when defining mocks (#1445)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/91deac8bbd7869b3c1a49d825e0c1183eefede86", "message": "Refactoring more tests (#1435)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/5e78de5f3fa77e30931824241175a7c6f0e64957", "message": "Refactored some tests with PHPUnit assert methods (#1430)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/ee11f5140ae83c2cbffa1d336ab9e25442c089d3", "message": "Use PHPUnit\\Framework\\TestCase instead of PHPUnit_Framework_TestCase (#1423)\n\n* Use PHPUnit\\Framework\\TestCase instead of PHPUnit_Framework_TestCase"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "kkopachev": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/cb9f2baaaa13ae9cdb6e8299789a4e725626f766", "message": "Change default timeouts documentation to reflect real world value (#1460)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mudhoney": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/9ac39085d84e39e6ca06d3d13dbcd641b78f9341", "message": "use AwsException and fix usage of exception (#1464)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "PauloMigAlmeida": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/77aa275016492f6b61558b96f7f4efe32659a6f9", "message": "Add required IAM permissions for DDB Session Handler (#1444)\n\n* Add required IAM permissions for DDB Session Handler\r\n\r\n* Update changes requested during PR review\r\n\r\n* Add introduction to required IAM permissions section"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ryanguest": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/a6d17d32de05a7848380cce60ff165b078dded84", "message": "Fix a couple typos (#1411)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rquadling": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/b481b4cec9a18296165e9c4d14b372d0352e8275", "message": "Optionally preserve iterator keys when using a CommandPool (#1376)\n\n* Optionally preserve iterator keys when using a CommandPool"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/4f74d759a1ccfabbdb2649d47cdbcc348f8ebed3", "message": "Introduce DBSnapshotAvailable and DBSnapshotDeleted waiters for RDS DBSnapshot (#1370)\n\n* Introduce DBSnapshotAvailable and DBSnapshotDeleted waiters for RDS DBSnapshot. Original json and compiled php."}], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/24668495", "body": "Aha! Got it. Thanks.", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/24668495/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "imshashank": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/7399a885a849b0745ed53eb2007623def5ac61e1", "message": "Update smoke test to use v2 version for CloudHSM (#1362)\n\n* Update smoke test to use v2 of CloudHSM"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/99fd287caec5b9dc74067dd9359ead91eba6ee62", "message": "Move required dependencies to Composer `require` (#1342)\n\n* Move dependencies to require\r\n\r\n* Update compatibility test\r\n\r\n* Update update-composer-dependencies.json"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/43ffbe1cbddb06adfa9d4254b1e57daca79e04c3", "message": "Fix typo in variable name (#1357)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/243d281e2b3584b5290a2d28824439759e62bcf8", "message": "Reduce CodeCov targe to 91 (#1343)"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/ca4f07051ade74909c4dc6adf89c3cd6cd7faecd", "message": "Update smoke tests for APIGateway (#1340)\n\n* Update smoke tests for APIGateway"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/20539a38dc643a2700f80ae8647dbd1a05d3f7a9", "message": "3.30.2 release"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/c0b0882a4ddd577cf4491486b3965c0076ae5e22", "message": "Update models for release"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/d234cb5e111945eb4bfca7eda0eef07a25750b29", "message": "3.30.1 release"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "wjgilmore": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/b123d0799924f3217fb209b70448f59629354eeb", "message": "Fixed typo (#1352)\n\nFixes typo, timestamp was mistyped as timesamp."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "TakesTheBiscuit": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/fced426ba4518b229b4ea4ad422666fa7d88afed", "message": "Minor README.md changes (#1320)\n\n* Minor README.md change - move V2 way down out of the way into 'related' subsection"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "daum": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/e49a54124e38a132ce0453c4c4008a88aba07922", "message": "Move expires timestamp in SignatureV4 to be generated before startTimestamp (#1325)\n\n* Added relativeTimeBase option to specify a base time for all relative timestamps, based on start_time on a presign request (defaults to current time.) Added changelog document. Updated Signature Presign tests to not use reflection to test different expiration timestamp formats so it only uses public API."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "remicollet": {"issues": [], "commits": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/commits/44871720568abaf53e21d1b3243d2b390c7aad3f", "message": "Fix for upcoming PHP 7.2 (#1298)\n\n* fix count(): Parameter must be an array or an object that implements Countable (php 7.2)\r\n\r\n* fix session_set_save_handler(): Cannot change save handler when headers already sent (php 7.2)\r\n\r\n* enable nightly (7.2)"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "DeepDiver1975": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/1424", "title": "Add support for verionId to class StreamWrapper", "body": "This change adds support for versionId to the stream wrapper. This allows to read a version of an object by appending the versionId query string\r\n\r\n```PHP\r\n $s = file_get_contents('s3://bucket/key?versionId=1234567890');\r\n```\r\n\r\nUnit tests have been added.\r\n\r\nPlease let me know if you agree on this change. THX", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mtdowling": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10028966", "body": "Thanks for submitting the first PR!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10028966/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10171410", "body": "You can use both SDK1 and SDK2 in the same application without any conflicts. SDK1 does not use namespaces, so the namespaces in SDK2 will never cause a conflict. We have a detailed guide that can help walk you through installing both SDKs and using them side by side in the same application: http://docs.amazonwebservices.com/awssdkdocsphp2/latest/sidebysideguide/sdk-php2-welcome-side-by-side-guide.html. This should help you take advantage of the features in the new SDK while still allowing you to use the old version of the SDK until you are able to migrate your application.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10171410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10375589", "body": "Client objects have factory methods for each HTTP method. You don't have to use a RequestFactory directly; calling things like `$client->get()`, `$client->put()`, `$client->post()`, etc will use the RequestFactory object owned by the client to create and return a RequestInterface object.\n\nHere's an example of using the client factory methods to create a signed URL (I'm also using a time helper):\n\n```\necho $s3->createPresignedUrl($s3->get(BUCKET . '/testing123.jpg'), '+5 minutes');\n```\n\nHope that helps.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10375589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10433299", "body": "Here are a couple examples from recent forum posts:\nhttps://forums.aws.amazon.com/thread.jspa?threadID=109840&tstart=0\nhttps://forums.aws.amazon.com/message.jspa?messageID=399919#399919\n\nWe'll work on putting a strategy in place to provide better high-level documentation.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10433299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10616190", "body": "Thanks for pointing this out. It looks like our service description is missing PartNumber and UploadId parameters. We'll get those added as soon as possible.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10616190/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11065532", "body": "Can you reopen this with a clean pull request against a feature branch? Looks like other commits are being pulled into this PR.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11065532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11137019", "body": "You should also try increasing the apc.shm_size even more than 64MB. The size this setting needs to be depends on the other libraries you're using as well. As an example, many Magento (a large framework) users recommend an apc.shm_size of 256M.\n\nOn Dec 7, 2012, at 8:42 AM, Jeremy Lindblom notifications@github.com wrote:\n\n> Nope, APC just needs to be enabled in your INI so that opcode caching is in effect. Is there any other information that would be useful to help us find out why it appears to be slower on your system? What kind of environment are you on? How are you benchmarking the two session handlers?\n> \n> I was comparing them yesterday, and with APC enabled, version 2 was always faster than version 1. Here are samples of two scripts I was using to test.\n> \n> For SDK version 1:\n> \n> <?php\n> \n> $time = microtime(true);\n> \n> require 'aws-sdk-for-php/sdk.class.php';\n> require 'config-sdk1.php';\n> \n> $db = new AmazonDynamoDB();\n> $db->register_session_handler(array(\n>     'session_locking' => false,\n>     'table_name'      => 'sessions',\n>     'hash_key'        => 'id',\n> ));\n> \n> session_start();\n> $_SESSION['random_value'] = rand(0, 100);\n> session_commit();\n> \n> echo microtime(true) - $time;\n> For SDK version 2:\n> \n> <?php\n> \n> $time = microtime(true);\n> \n> require 'vendor/autoload.php';\n> $aws = Aws\\Common\\Aws::factory('config-sdk2.php');\n> \n> $db = $aws->get('dynamodb');\n> $db->registerSessionHandler(array(\n>     'locking_strategy' => null,\n>     'table_name'       => 'sessions',\n>     'hash_key'         => 'id',\n> ));\n> \n> session_start();\n> $_SESSION['random_value'] = rand(0, 100);\n> session_commit();\n> \n> echo microtime(true) - $time;\n> These scripts include the time to bootstrap the SDK, instantiate the DynamoDB client, register the session handler, read from the session, and write to the session. I ran them hundreds and hundreds of times, took averages, etc. I also has some other scripts that measured each part of these scripts in more finer grained steps.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11137019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11594060", "body": "One of the ways we're working on addressing this is in the form of end-user documentation. You can see our current progress on the docs branch: https://github.com/aws/aws-sdk-php/tree/docs/docs. Do docs like that help?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11594060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11594094", "body": "Thanks. We'll take a look at this and see if we can make the error message more informative.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11594094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11600166", "body": "Yeah, we'll generate these docs and host them somewhere. The intent of using reStructuredText and Sphinx is that it will be easy to contribute to them.\n\nWe'll see about how to best link between docs. Thanks for your feedback.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11600166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11863529", "body": "I was unable to reproduce this error, and I added an integration test to the Amazon S3 client to ensure that spaces are able to be used in pre-signed URLs.\n\nCan you provide more information on what is failing? How are you downloading the objects with the pre-signed URL? What's the name of the key?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11863529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12019583", "body": "Thanks, Clay!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12019583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12030939", "body": "I'm going to go ahead and close this issue. Please feel free to reopen it if you can provide a test case to reproduce. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12030939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12182314", "body": "What's the size of the file you're uploading?\n\nDoes this error happen consistently for particular files on multiple systems?\n\nOn Jan 12, 2013, at 1:40 AM, Johannes notifications@github.com wrote:\n\n> On some system, I get the above error when trying to upload a file to Amazon S3.\n> \n> Triggering Code:\n> \n> UploadBuilder::newInstance()\n>     ->setClient($this->s3)\n>     ->setSource($url)\n>     ->setBucket($this->bucketName)\n>     ->setKey($key)\n>     ->build()\n>     ->upload()\n> ;\n> The error can be prevented by switching the source to be in memory:\n> \n> UploadBuilder::newInstance()\n>     // ...\n>     // Pass the content instead of just the URL\n>     ->setSource(EntityBody::factory($content))\n>     // ...\n> ;\n> Maybe you have seen this before, and have an idea how to fix this automatically?\n> \n> Complete Stack Trace:\n> \n> Aws\\Common\\Exception\\MultipartUploadException: An error was encountered while performing a multipart upload: Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.\n> \n> vendor/aws/aws-sdk-php/src/Aws/Common/Model/MultipartUpload/AbstractTransfer.php:177\n> vendor/aws/aws-sdk-php/src/Aws/Common/Exception/NamespaceExceptionFactory.php:75\n> vendor/aws/aws-sdk-php/src/Aws/Common/Exception/ExceptionListener.php:55\n> vendor/symfony/event-dispatcher/Symfony/Component/EventDispatcher/EventDispatcher.php:164\n> vendor/symfony/event-dispatcher/Symfony/Component/EventDispatcher/EventDispatcher.php:53\n> vendor/guzzle/guzzle/src/Guzzle/Http/Message/Request.php:757\n> vendor/guzzle/guzzle/src/Guzzle/Http/Message/Request.php:466\n> vendor/guzzle/guzzle/src/Guzzle/Http/Message/EntityEnclosingRequest.php:66\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:499\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:426\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:387\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:278\n> vendor/guzzle/guzzle/src/Guzzle/Http/Client.php:363\n> vendor/guzzle/guzzle/src/Guzzle/Service/Client.php:223\n> vendor/guzzle/guzzle/src/Guzzle/Service/Command/AbstractCommand.php:167\n> vendor/guzzle/guzzle/src/Guzzle/Service/Command/AbstractCommand.php:206\n> vendor/aws/aws-sdk-php/src/Aws/S3/Model/MultipartUpload/SerialTransfer.php:73\n> vendor/aws/aws-sdk-php/src/Aws/Common/Model/MultipartUpload/AbstractTransfer.php:167\n> \n> Caused by\n> Aws\\S3\\Exception\\RequestTimeoutException: Your socket connection to the server was not read from or written to within the timeout period. Idle connections will be closed.\n> \n> vendor/aws/aws-sdk-php/src/Aws/Common/Exception/NamespaceExceptionFactory.php:89\n> vendor/aws/aws-sdk-php/src/Aws/Common/Exception/NamespaceExceptionFactory.php:75\n> vendor/aws/aws-sdk-php/src/Aws/Common/Exception/ExceptionListener.php:55\n> vendor/symfony/event-dispatcher/Symfony/Component/EventDispatcher/EventDispatcher.php:164\n> vendor/symfony/event-dispatcher/Symfony/Component/EventDispatcher/EventDispatcher.php:53\n> vendor/guzzle/guzzle/src/Guzzle/Http/Message/Request.php:757\n> vendor/guzzle/guzzle/src/Guzzle/Http/Message/Request.php:466\n> vendor/guzzle/guzzle/src/Guzzle/Http/Message/EntityEnclosingRequest.php:66\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:499\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:426\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:387\n> vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:278\n> vendor/guzzle/guzzle/src/Guzzle/Http/Client.php:363\n> vendor/guzzle/guzzle/src/Guzzle/Service/Client.php:223\n> vendor/guzzle/guzzle/src/Guzzle/Service/Command/AbstractCommand.php:167\n> vendor/guzzle/guzzle/src/Guzzle/Service/Command/AbstractCommand.php:206\n> vendor/aws/aws-sdk-php/src/Aws/S3/Model/MultipartUpload/SerialTransfer.php:73\n> vendor/aws/aws-sdk-php/src/Aws/Common/Model/MultipartUpload/AbstractTransfer.php:167\n> \u2014\n> Reply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12182314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12183009", "body": "Ah interesting. The UploadBuilder is used for multipart uploads. The size of a multipart upload file for Amazon S3 has to be greater than or equal to 5MB (see http://docs.amazonwebservices.com/AmazonS3/latest/dev/qfacts.html). If this is in fact the error, we will see about adding a check to ensure the size of the file meets the minimum size of the uploader.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12183009/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12235972", "body": "I've commented on this issue on the forums. Please let us know if my response on the forums does not resolve the issue.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12235972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12443048", "body": "The Type enum can be used for full-names like this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12443048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12443096", "body": "We generate enums based on service descriptions.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12443096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12822996", "body": "Support was added in 2.1.0\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12822996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12929348", "body": "Sorry to hear that you are having trouble with this. Thanks for trying to dig in with some details on the failure cases. I'll take a look at this and post back when I have more information.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12929348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12972657", "body": "This issue is now fixed in master. It looks like there was an error the documentation on how a signed URL is created. I'll work with the documentation team to have this corrected.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12972657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12974403", "body": "What does the variable `$url` contain? A string that contains a URL (e.g. 'http://www.example.com'), a resource returned by fopen('http://example.com', 'r'), an EntityBody object, or the path to a file? If it's the path to a file, is it possible that the file is frequently being changed and [fstat cache](http://php.net/manual/en/function.clearstatcache.php) isn't picking up size changes in the file, thus reporting an erroneous filesize()?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12974403/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13094128", "body": "The reason this is happening is because cURL is being told that it is going to send more data than it actually has. I'm not sure where the erroneous length is being specified, but clearing fstat cache should help to narrow down the possibilities. Does this still fail for you after the change I made to clear the fstat cache?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13094128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13095502", "body": "The value you should pass is actually `Filters` not `Filter`. Does that fix the issue for you?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13095502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13254032", "body": "This has not yet been released. This will change will be present in the phar and PEAR package after the next release. We don't have a definitive timeframe for the next release, but it should be soon. In the meantime, you could grab the latest version of the SDK from master using Composer.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13254032/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13343330", "body": "Thanks for the information, ralph-tice. The problem is that, for some reason, the request is being resent internally inside of cURL. This could be caused by some sort of intermittent networking issue. When cURL needs to resend data that is previously sent, it attempts to rewind the data stream. Unfortunately, PHP does not allow a custom seek or ioctl function to be passed to cURL, so when cURL attempts to rewind our custom stream, it fails. Here's the related issue on PHP.net-- I would be grateful if you upvoted this issue: https://bugs.php.net/bug.php?id=47204\n\nI've disabled the use of streaming requests when interacting with JSON services like Amazon DynamoDB. This will prevent cURL error 65 from occurring because cURL is able to rewind a string of POST data internally. This fix will be present in the next release.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13343330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13344303", "body": "Thanks for the information, @tblanchard. This has now been fixed in the master branch and will go out in the next release.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13344303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13469111", "body": "This should be much easier to do using the master branch. One of the changes that will go out in the next release is the addition of the getInstanceProfileCredentials() method to `Aws\\Common\\InstanceMetadata\\InstanceMetadataClient`: https://github.com/aws/aws-sdk-php/blob/d18023be217df1e350e5caf545bc22b71de89c42/src/Aws/Common/InstanceMetadata/InstanceMetadataClient.php#L73\n\nIt would be much easier to mock this method to return a special credentials object. Does that help, or would you still want help mocking the current implementation?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13469111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13470717", "body": "> I'm attempting to do this with PHPUnit but for some reason it is expecting that I send a parameter to send() which is strange since the real object is not expecting this.\n\nThe send method you're mocking requires a `Guzzle\\Http\\Message\\RequestInterface` object. You'll need to ensure that a request is passed to the method in order to mock it correctly.\n\n> OK, so lets say I mock getInstanceProfileCredentials(), how do I get from\n> there to the user-data? Will this solution work offline? (just curious\n> about the offline thing, not that I need it, but I DO need to work with the\n> user-data!)\n\nMocking that method wont actually help you retrieve user data.\n\nHow you mock the various behavior of retrieving things from the instance metadata server is up to you. You can add an abstraction layer over the client and mock your abstraction layer. Alternatively, you could add a `Guzzle\\Plugin\\Mock\\MockPlugin` to the client and queue up an array of HTTP responses with the plugin: http://guzzlephp.org/guide/plugins.html#mock-plugin. We actually use this technique in some of our tests of the client. Here are a mocked HTTP responses: https://github.com/aws/aws-sdk-php/tree/master/tests/mock/metadata. Our unit test for the metadata client gives a good example of how to use the mock plugin: https://github.com/aws/aws-sdk-php/blob/master/tests/Aws/Tests/Common/InstanceMetadata/InstanceMetadataClientTest.php.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13470717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13580285", "body": "Thanks. I had to make a few other changes in order for this to work. This will work with Guzzle's built-in URI template expansion, but will not currently work with the PECL URI template extension. I have an open issue filed with them to look into it: https://github.com/ioseb/uri-template/issues/3\n\nThe best way to avoid any edge cases related to this is to let the SDK handle all URL encoding for you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13580285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13582520", "body": "I actually found a couple of other edge cases (these will be merged into master soon). In the above case, it seems like you wish for a literal to be placed into the key of the object, so it should be encoded over the wire as \"%2520\" and not \"%20\".\n\nThis will work in all cases except you will need to rawurlencode() the key before creating a pre-signed URL. This is because the URI template expansion does not encode already encoded literals (i.e. won't convert %20 to %2520), but it will urlencode non-encoded special characters (i.e. \" \" -> \"%20\"). Because of this, it's impossible to know how after creating a request object which %20 should be double encoded and which should not.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13582520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13752147", "body": "I doubt that there will be anything we can do here other than add documentation, but can you give us more information about your environment?\n- What platform are you using (OS, which version, what web server, PHP version, etc)?\n- What version of the SDK are you using?\n- Are you running in Apache and seeing this problem?\n- Did this occur after recently updating?\n- Did you try manually clearing the APC cache?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13752147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925139", "body": "Thanks for digging into this. Actually though, [APC does not support phar files](http://www.reddit.com/r/PHP/comments/13uwgk/phar_performance/c77kmjb). If you're worried about performance, you should probably use Composer with an optimized autoloader: http://getcomposer.org/doc/03-cli.md#install. I'll try to reproduce this behavior and update our documentation to reflect this.\n\nWe do actually have downloadable distributions of the SDK available if you'd like to use them instead of installing through Composer. Take a look at http://pear.amazonwebservices.com. Each version listed provides a tarball containing the phar as well as the raw source code. You'll need to register your own autoloader if you use a tarball. We follow PSR-0, so this should fit in well with whatever autloaders you are currently using.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925458", "body": "Yeah, phars work, but according to the author of the phar extension, APC doesn't cache them at all. We need to communicate this better in our documentation.\n\nWe currently support three distribution formats: Composer, PEAR, and a phar file. Have you considered using Composer?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925650", "body": "If we were to create another distribution of our SDK, then what sort of package layout are you looking for? The SDK has a dependency on Guzzle and the Symfony2 EventDispatcher. How would we add all of that to an archive in a way that would work for all project structures?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14136705", "body": "This is now fixed in https://github.com/aws/aws-sdk-php/commit/ec5f32c7ef55c192a28587b82ba45f8d89f1f31d\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14136705/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14203367", "body": ":shipit: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14203367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14259958", "body": "This would not be something that we could add to the SDK before it is added as a feature in Amazon S3 (because the SDK is client-side and this would require being enforced server side).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14259958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14304724", "body": "@RamyTalal What version of PHP are you using, what version of cURL, and what arch is your system (i386, x86_64)?\n\n``` bash\nuname -a\nphp --version\ncurl --version\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14304724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14340592", "body": "It seems that this error occurs intermittently when uploading to Amazon S3. I've updated the Amazon S3 client to automatically retry these specific failures using exponential backoff.\n\nIf you continue to see this issue, please ensure that you are not sending an incorrect Content-Length header in your requests.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14340592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14460312", "body": "Thanks for the report. I've made the necessary changes to the SDK. These changes can be found in the master branch and will be present in the next release.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14460312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14691385", "body": "Removing files from this repository and replacing them with git submodules would be a major breaking change for users who are installing the SDK using git and would add a great deal of overhead to maintaining the SDK. I recommend using [Composer](http://getcomposer.org) to manage your dependencies and bring the SDK into your projects as needed.\n\nWe offer a number of alternative ways to [install](http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/installation.html) the SDK: Composer, PEAR, GitHub, Phar.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14691385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14736597", "body": "Our user guide documentation is now hosted at http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/index.html. This documentation includes various examples for common tasks. We will continue to update these guides and work to improve our API documentation.\n\nPlease note that our documentation is open source, and we are happy to accept pull requests that help to improve them: https://github.com/aws/aws-sdk-php/tree/master/docs\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14736597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14736657", "body": "I was unable to reproduce this error, but we've made a few changes in the latest release of the SDK that may address this issue. Can you update your SDK installation and version of Guzzle to see if this issue still persists?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14736657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15143457", "body": ":ship: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15143457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15249268", "body": "@ralph-tice Thanks for your feedback.\n\n> I don't think you should default to the php.ini gc probability if it's recommended to run it on a cron instead, and I think it's pretty important to run it on a cron instead of the default PHP way so you don't have throughput problems, but instead of changing functionality you could just say set this:\n> session.gc_probability = 0\n\nThis is a tough one. While it isn't optimal, defaulting to these settings also allows the session handler to work in more restrictive PHP environments like shared hosting where users do not have access to the shell or cron.\n\n> auto_prepend_file = /var/www/dynamodb_session_handler/register_sessionhandler.php seem warranted to go over, unless there's a reason not to use auto_prepend.\n\nI'm not a big fan of auto_prepend_file. It often leads to confusion because it fragments the bootstrapping process of an application. Another downside: what if you don't want all of your PHP scripts to start a session (e.g. command line scripts)?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15249268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15249276", "body": ":shipit: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15249276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15741500", "body": "Thanks for the thorough error report. This has been fixed in master and will be available in the next tagged release.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15741500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15741556", "body": "This has been fixed in the latest release of the documentation.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15741556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16021110", "body": "Hi. There's no need to add any additional features for any AWS client to support the AsyncPlugin. You can just use the async plugin with the SimpleDbClient object as you normally would.\n\n``` php\nuse Guzzle\\Plugin\\Async\\AsyncPlugin;\n$client = $aws->get('SimpleDb');\n$client->addSubscriber(new AsyncPlugin());\n```\n\n_Edit: This is an example of how to use it, though I highly discourage using it._\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16021110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16066656", "body": "I just downloaded the phar and was unable to reproduce this error. What operating system are you using? What version of PHP?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16066656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16094346", "body": "APCs and phar files don't get along very well, especially when running under the CLI SAPI. Does running PHP through php5-fpm run PHP through the CLI SAPI? If so, then you'll likely not want to use the phar. I'd recommend installing the SDK using Composer: http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/installation.html#installing-via-composer.\n\n> Btw, are there any sample codes with full implementation?\n\nI'm not sure what you want to see a full implementation of, but here is a link to our user-guide that contains plenty of sample code on using various clients and information to help you get started: http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/index.html\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16094346/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16539994", "body": "It's definitely possible to send a request that uses an HTTP stream.\n\nThe problem here is that the SDK could not determine the Content-Length of the request because you passed in a stream. Because there is no Content-Length header and the HTTP protocol being used is HTTP/1.1, the SDK (specifically Guzzle) sent the request with the `Transfer-Encoding: chunked` header. Because Amazon S3 does not support chunked uploads, you received a 501 response.\n\nYou should specify a \"ContentLength\" parameter in your `$s3->putObject()` call to tell the SDK the size of the file. Try something like this:\n\n``` php\n $s3->putObject(array(\n    'Bucket' => 'my-bucket',\n    'Key'    => 'my-object',\n    'ContentLength' => filesize($url),\n    'Body'   => fopen( $url, 'r' ),\n    'ACL'    => Aws\\S3\\Enum\\CannedAcl::PUBLIC_READ\n));\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16539994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16839552", "body": "I wasn't able to reproduce this error. Which version of the SDK are you using? Can you provide a minimal sample we can use to reproduce this?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16839552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16839996", "body": "I'm not sure why this error is triggered on your system and not one mine, but my guess is that you have a custom autoloader that sits in front of the SDK's autoloader. Is this the case? Does the backtrace related to this warning indicate that it's caused by an autoloader?\n\nThe only reference to \"PutObjectCopy\" I could find was an incorrect command alias in the S3Client class. While I wasn't able to reproduce this error, I'd be curious if this has any effect on you. Can you please pull from master of the SDK and see if the warning is still triggered?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16839996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16873941", "body": "Another question: how are you installing the SDK and what version are you using?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16873941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16875581", "body": "Thanks for letting us know the issue is now resolved.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16875581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16881713", "body": "This issue is now resolved and the fix will be available in the next tagged release. In the meantime, if you use the master branch of the SDK and the master branch of Guzzle, then you can use non-seekable HTTP streams in your PutObject requests immediately. Here's the related commit in Guzzle: https://github.com/guzzle/guzzle/commit/487250f2c62783a5e57451810116deb46ff8ecc0\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16881713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16905303", "body": "I saw this on StackOverflow earlier: http://stackoverflow.com/questions/16153960/php-aws-sdk-throwing-unknown-error.\n\nIt's strange that you'd get this error. CURLE_COULDNT_RESOLVE_HOST is a valid cURL constant that has been around since well before PHP 5.3 (looks like it's been in cURL since 2004). Are you building PHP and curl from source for some reason? Are you able to use other cURL error codes like CURLE_COULDNT_CONNECT correctly?\n\nDoes a script that just calls `curl_version();` complete successfully?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16905303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16950941", "body": "All requests sent to Amazon EC2 from the SDK should be POST requests. Are you seeing GET requests? We'll look into the `charset=UTF-8` addition.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16950941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16979416", "body": "Thanks for the fix! I made a change in Guzzle that addresses this issue. You can update to the master branch of Guzzle or wait for the next tagged release of Guzzle.\n\nhttps://github.com/guzzle/guzzle/commit/026a68286dee6ce6c7e5f76baa4543acc25d1573\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16979416/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17458184", "body": "We need to add this to our documentation, but there's a simple way to delete a large number of objects from a bucket using the results of a ListObjects operation. I don't we will implement a wildcard option for the deleteObject operation because Amazon S3 objects can actually contain \"*\" characters in the keys.\n\nInstead of trying to pass a large array of keys to the deleteObject operation, you could use the `ClearBucket` object  and provide a custom iterator that only returns the keys from a bucket you wish to delete.\n\n``` php\nuse Aws\\S3\\Model\\ClearBucket;\n\n$iterator = $s3Client->getIterator('ListObjects', array(\n    'Bucket' => 'test_bucket',\n    'Prefix' => '/subfolderprefix/'\n));\n\n$clear = new ClearBucket($s3Client, 'test_bucket');\n// Be sure to set the custom iterator to ensure that you only delete keys with the prefix\n$clear->setIterator($iterator);\n// Clear out the matching objects using batches in parallel\n$clear->clear();\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17458184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17463918", "body": "Can you try just looking at the results of what the iterator returns? That way you can make sure the iterator settings are correct. Try something like this:\n\n``` php\n$iterator = $s3Client->getIterator('ListObjects', array(\n    'Bucket' => AWS_FS_BUCKET,\n    'Prefix' => /myprefix/' // top level pseudo \"folder\" in bucket\n));\n\nforeach ($iterator as $object) {\n    var_export($object);\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17463918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17507027", "body": "Calling `S3Client::factory()` will always return a new instance of an `S3Client` class.\n\nIf all you're looking for is network connectivity, have you thought about just doing a `ping` or `telnet` from the command line?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17507027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17507609", "body": "If that's what you're looking for, then yes, the `doesBucketExist()` method should serve this purpose for all cases.\n\nCan you please post to the developer forums if you'd like to discuss this further? It will be easier to track there: https://forums.aws.amazon.com/forum.jspa?forumID=80\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17507609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17508828", "body": "The SDK throws exceptions that you need to catch in order for your script to not exit early.\n\nYou can catch exceptions to check for any specific errors. For example, let's say you just call `$s3client->headBucket()` to send a HEAD request to a bucket. You could catch `Guzzle\\Http\\Exception\\CurlException` to catch network level exceptions. Catch `Aws\\S3\\Exception\\NoSuchBucketException` to check if the bucket does not exist. Catch `Aws\\S3\\Exception\\SignatureDoesNotMatchException` to check if your credentials are invalid.\n\nHere is a direct link to post on the forums: https://forums.aws.amazon.com/post!default.jspa?forumID=80\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17508828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527460", "body": "Sorry about that error. We'll make a fix to check if the key is present. In the meantime, you can use a 'ListObjectVersions' iterator instead.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17680536", "body": "I updated the ClearBucket abstraction to work with a ListObjects iterator. This change will be available in the master branch and present in the next release. Thanks for the help.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17680536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17738629", "body": "Which version of the SDK are you using? I am seeing that the signature in a pre-signed URL is already URL encoded. Adding this additional URL encoding would break the existing implementation.\n\n``` php\n$client = Aws\\S3\\S3Client::factory(array(\n    'key'    => '***',\n    'secret' => '***',\n));\n\n$bucket = 'my_bucket';\n\n$client->putObject(array(\n    'Bucket' => $bucket,\n    'Key'    => 'data.txt',\n    'Body'   => 'test'\n));\n\n$command = $client->getCommand('GetObject', array(\n    'Bucket' => $bucket,\n    'Key'    => 'data.txt'\n));\n\n$signedUrl = $command->createPresignedUrl('+10 minutes');\n\necho $signedUrl . \"\\n\\n\";\necho file_get_contents($signedUrl);\n```\n\nThe output for my test was something like this (notice that the trailing equal sign of the base64 encoding was url encoded to %3D):\n\n```\nhttps://s3.amazonaws.com/t1234/data.txt?AWSAccessKeyId=AKIA*******&Expires=1521212898&Signature=*****drsTSY%3D\ntest\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17738629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17754455", "body": "I did some refactoring to Guzzle (the underlying framework of the SDK), and I've corrected this issue. The problem was that there was a circular reference of a request to a response that was causing the request to and it's associated objects to have a refcount > 0, so they only get cleaned up when the garbage collection runs (cleaning up circular references like this). You can update to the dev-master version of Guzzle to get this change.\n\nIn the meantime, I suggest that you close the file yourself when you're done with it to ensure that memory and resources are managed in a way suitable to your use case.\n\n``` php\n// Open the file handle manually\n$handle = fopen($payloadFile, 'r');\n\n$s3response = $s3->putObject(array(\n    'Bucket'        => self::S3_BUCKETNAME,\n    'Key'           => $targetKey,\n    'Body'          => $handle,\n    'Metadata'      => array(\n        'job_name'  => $this->getAttribute('job_name'),\n        'job_start' => strval($this->getAttribute('job_start'))\n    )\n));\n\n// Explicitly close the file handle when done\nfclose($handle);\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17754455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17766298", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17766298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18353007", "body": "You can catch the CurlException separately or loosen your catch statement to catch a more generic \\Exception class.\n\nFor example:\n\n``` php\ntry {\n    $result = $client->putObject(array(\n        'Bucket' => $this->bucket,\n        'Key' => 'teste/data.txt',\n        'Body' => 'Hello!'\n    ));\n    return $result;\n}  catch (\\Exception $e) {\n    // handle error\n}\n```\n\nAlternatively:\n\n``` php\ntry {\n    $result = $client->putObject(array(\n        'Bucket' => $this->bucket,\n        'Key' => 'teste/data.txt',\n        'Body' => 'Hello!'\n    ));\n    return $result;\n}  catch (S3Exception $e) {\n    // handle error\n}  catch (CurlException $e) {\n    // handle error\n}\n```\n\nDoes that help?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18353007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18596438", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18596438/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18696408", "body": "You're absolutely correctly about the events. We'll take a look ASAP.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18696408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18723506", "body": "Are you attempting to run tests on every single PHP file in the repository? The phar-stub.php file should not be tested alone; it is only used as the stub to the phar file that we generate. Try changing your PHPDepend settings to only examine files under src/.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18723506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447300", "body": "Sounds good to me. I've removed S3_.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447404", "body": "Multiple versions is the goal\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2600446", "body": "If we're following the Symfony2 coding standards, then new lines aren't required for these types of return statements. It's only if the return is the last line of the function and not inside of a conditional block. http://symfony.com/doc/2.0/contributing/code/standards.html#structure\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2600446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2600487", "body": "I don't know. I just fix those by hand. It actually makes the code less readable in my opinion.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2600487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2698763", "body": "Thanks, fixed :)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2698763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959949", "body": "Thanks for pointing this out. This is actually an issue with Guzzle where a Content-Type is not being properly set on a request when a body is specified. I'll update Guzzle to ensure that a Content-Type is set if it can be guessed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959952", "body": "Thanks for the tip! I'll make this change.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959980", "body": "Good catch. I was unable to pass any sort of `$options` variable to the stream wrapper's rmdir() method, so I've removed that bit of code.  I also made it so that specifying more than just a bucket will trigger an error.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959980/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959997", "body": "Good points. I've updated the stream wrapper to use \"seekable\" as a stream_context_option. I've also updated the `getParams()` function to filter out any custom stream context options so that they don't make it into any Amazon S3 command option settings (just calling unset on the known custom options like seekable).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959997/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/3520627", "body": "It is in `suggest`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/3520627/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6391577", "body": "This was part of the v4 compliance tests, but it's never actually used in practice and complicates the implementation unnecessarily.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6391577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6979334", "body": "Thanks for pointing this out. I've pushed a fix that addresses this issue and it will be available in the next tagged release.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6979334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8493783", "body": "You're right that it should also check to ensure that the first key in the array is exactly equal to 0 instead of checking if it is an integer. However, your first example is not a valid list or map because it uses mixed keys. DynamoDB supports only lists or maps -- not a mix of both. You'll need to format your input accordingly.\n\nMixing key formats between strings and numbers will result in a `SerializationException` error from DynamoDB.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8493783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8495981", "body": "The thing to keep in mind here is that what's being discussed is client side versus server side validation. If you provide an array with mixed keys (both strings and integers) it's going to fail server side no matter what. By optimizing the client-side for the most common case (sequential arrays vs associative arrays), we can get a fast client runtime and still utilize server-side validation to let you know your input is not compatible with DynamoDB.\n\nYou simply cannot utilize these types of data structures with DynamoDB. Because of this, the client does not need to account for these types of data structures and you will need to format your data as needed before passing it to the client.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8495981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/9503893", "body": "Note: Guzzle supports resources that are objects implementing __toString, iterators, and callables. Looks like the Guzzle streams docblock needs to be updated too.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/9503893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3473934", "body": "Should this be moved before the ThrottlingErrorChecker?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3473934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3474136", "body": "Same here, right?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3474136/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3516120", "body": "Should this be:\n\n``` php\n} elseif ($global && (!$region || ($region && $description->getData('namespace') !== 'S3'))) {\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3516120/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3984828", "body": "Makes sense\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3984828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6724681", "body": "> Removing the section on not using the Phar because it seems that it is version dependent on whether or not it is supported by APC. PHP 5.5's OPcache also supports Phars.\n\nI don't think this recommendation has enough evidence to keep this section.. There are contradicting statements as to whether phars are cached by APC.\n- http://pecl.php.net/package/phar\n- http://www.reddit.com/r/PHP/comments/13uwgk/phar_performance/c77kmjb\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6724681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8083679", "body": "I think the options should be documented in this docblock.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8083679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8083697", "body": "Should have a better description\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8083697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8083753", "body": "I think that having to pass a CloudTrailClient and S3Client into the iterator would be preferred rather than creating one.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8083753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8104506", "body": "Could just use `+=` here.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8104506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8104841", "body": "Can you add a comment that states why you are doing this and adding the Accept-Encoding header (e.g., \"In order for cURL to automatically inflate response data...\")\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8104841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8983608", "body": "What's the value in defining all of these constants? Do we expect developers to actually use these constants given that the difference between typing \"limit_key\" and `Aws\\Common\\Iterator\\AwsResourceIterator::LIMIT_KEY` is 41 characters (66 characters if you import the class with a `use` statement)?\n\nI don't think constants add any value for data bags like this, and even less sense for data bags that source their data from string values provided from configuration files.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8983608/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8983758", "body": "Regarding the `map` and `filter` functions: Should we add these methods given that PHP already has an idiomatic way of decorating iterators, and that these types of filter and map operations are really simple with generators?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8983758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985535", "body": "These values are part of a configuration format, meaning they are already part of an external API. Being able to change the name of these keys seems like a weak argument considering that changing the name of these keys is a breaking change that should only be done in the most extreme cases.\n\nThis approach of defining constants for configuration keys could also lead to inconsistencies in the SDK. For example, would we add constants for configuration formats that have nested hashes and keys?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502727", "body": "Why is this necessary?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502837", "body": "I don't think this should be changed. Any reason why it was changed?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502982", "body": "I'm not sure why this is better. I prefer not having to repeat the class name here because it means one less thing to worry about if we ever needed to rename a class.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502982/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20617395", "body": "The `$description->getData('namespace') !== 'S3'` part of this if statement was incorrect and caused all endpoints other than S3 with the \"globalEndpoint\" flag to always go to the us-east-1 region.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20617395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20831310", "body": "Maybe mup_threshold, but threshold alone wouldn't be descriptive enough IMO.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20831310/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20831386", "body": "I feel like they're pretty different use cases though. I wanted to keep this one pretty high to better take advantage of concurrent requests. It doesn't make as much sense for a single mup to be as high though.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20831386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20836402", "body": "Yes. Good catch.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20836402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815479", "body": "I wonder if switching off of gettype() would be faster here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815532", "body": "Does this need to be public if marshalItem() is publicly available?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815665", "body": "I understand why you might want to take a JSON string and go directly to a DynamoDB formatted structure, but what's the use case of going from a DynamoDB structure to a JSON string? This really just calls json_encode().\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815733", "body": "Same question about this function. Does this need to be part of the public API?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20815733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20827500", "body": "Specifically, what use cases did you have in mind for this?\n\nThe reasoning for this class I thought was to make it easier to represent JSON like data in DynamoDB documents. I'm not sure that this class was designed for setting single values where you might pass them into something like a create table operation. I think you'd want to be much more explicit in those cases and provide the DynamoDB types directly.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20827500/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20828385", "body": "What's the use case for this method? Is this meant to convert a result object into a JSON document? I am trying to understand why this class needs to have every method as public vs only exposing the minimum and opening it up later if requested.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20828385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20841305", "body": "What do you think about calling this `marshalJson()`? I think it makes it more clear.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20841305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20841320", "body": "I think the name of this still throws me off a bit. If this was called marshalJson, then I think it would be more clear as to what it does.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20841320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21128021", "body": "I thought about that too, but I kept these here for backwards compatibility with v2. Maybe this doesn't matter that much and they should be moved anyway?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21128021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21128155", "body": "Fixed\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21128155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21790805", "body": "Interesting. Maybe these were customized in v2.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21790805/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22672455", "body": "Good catch. This function is now invoked _before_ default parameters are merged in. This function relied on the fact that \"scheme\" was set to \"https\" by default.\n\nI was thinking about updating this function, but now I'm wondering if we should even do this. \"endpoint\" is supposed to be set to an absolute URL. This code here attempts to create a URL using a scheme and treat the endpoint as a host. No other client does this, and I'd like to add clarifications to the \"endpoint\" config option to clarify that it must be absolute. Does that sound OK?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22672455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22673763", "body": "What if we just updated the getDomainClient() function to return an absolute URL? That could do the user a favor of assuming a default scheme of https, while not introducing a one-off behavior of a single client (i.e., endpoint accepting a domain and not an actual endpoint).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22673763/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22678232", "body": "I don't think we should. Maybe to make this distinction more clear, `get*()` should become `create*()` (e.g., `createS3()`)?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22678232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22901214", "body": "Is this used the waiter object somehow? If not, I think this could be removed and the later check for this attribute could be changed to `empty()`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22901214/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22901273", "body": "?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22901273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967691", "body": "Note that this change removed our reliance on PHP's FilterIterator which had the requirement of rewinding it first before the iterator was valid.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967754", "body": "I removed this function because I didn't see a need for it (at least yet). It seems like an implementation detail of the iterator leaking through.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967854", "body": "I removed this as well. Modifying the paginator options after you begin paginating seems potentially problematic. Maybe we could add a setLimit() function if necessary as that seems to be the only option someone would/should change after they begin iterating.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967896", "body": "Note that I added a Subscriber suffix and shallowed up the namespaces.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967939", "body": "No need to rewind now that we're using a generator.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967981", "body": "By tracking the opened path, we can reopen the path when dir_rewinddir is called (used in things like the Symfony Finder).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22967981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968093", "body": "I changed nextStat to a hash so that it caches more than just a single element, but rather caches each element as it is iterated. This significantly reduces the number of requests made in the stream wrapper, and these cached items are cleared out when a dir resource is closed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968146", "body": "This appending of the openedBucket prefix was actually causing cache misses and wasn't necessary.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968285", "body": "Here I've created my own implementation of RecursiveDirectoryIterator that doesn't have weird rewind semantics like PHP's built-in RecursiveDirectoryIterator. The built-in iterator will immediately read the first file using dir_readdir, then it will be rewound and call dir_rewinddir when you begin iterating. This caused the first element of our generators to be skipped.\n\nHere I've just reimplemented RecursiveDirectoryIterator using a generator and a queue of values to yield. This works on any type of stream wrapper and does not call unnecessary rewinds.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968285/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968324", "body": "The generator check was not necessary here.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22968324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22971104", "body": "Whoops! :)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22971104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22971618", "body": "Fixed\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22971618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23049395", "body": "\"type\" is no longer used btw.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23049395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23326583", "body": "Good idea\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23326583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23469790", "body": "_identify_\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23469790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23469873", "body": "Should this be named `isUploaded` to be consistent with the other `is*` methods?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23469873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23469934", "body": "What is \"partData\" here? Can that be documented?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23469934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23470631", "body": "I suggest either marking this class as internal or refactoring it to use private properties with protected accessor methods.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23470631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23884079", "body": "Note: I used `call_user_func` here because it doesn't cause significant overhead and it circumvents the need to use a temporary variable.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23884079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24037860", "body": "I've used `initTransaction` here now that it's public.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24037860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739606", "body": "Is the `strval` necessary here? Aren't the keys always strings?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739660", "body": "Unused use here\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739727", "body": "Could this be called something else like \"errorHandler\"?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739757", "body": "Does this need to pass by reference and return true/false? Could it just return a new value?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24026302", "body": "With the addition of `ignore_invalid` is an `invalid_handler` still necessary?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24026302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24027400", "body": "Looking at how Set works now, I wonder if we actually should make it immutable. This would push validation into the constructor of the Set, cast each value to string (which it looks like is a requirement), and we could drop getValues(). Also note that the other wrappers are immutable.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24027400/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777127", "body": "Can you include the $type value in the message as well?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777372", "body": "What would you think about making $dir required here, and the `defaultProvider` function passes in the relative directory pointing to the models shipped with the SDK?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777534", "body": "Is there anything we can do to show that the versions returned from this function are specific to the manifest file?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24778060", "body": "I think this can be removed in favor of providing the string \"Aws\\Api\\ApiProvider::defaultProvider\" to the \"fn\" attribute of this option.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24778060/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24778134", "body": "One idea might be to make a ManifestApiProvider class that has the static function getApiVersions().\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24778134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27095693", "body": "newline missing\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27095693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27321530", "body": "Fixed\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27321530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27626931", "body": "If this is static, doesn't it leave a reference to this uploader around forever?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27626931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627259", "body": "You can't because it's using $this in the closure. I'd just not make a static cache of the closure.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627394", "body": "ah right... Sorry! How many valid sizes are there? Is there a reason to compute them at runtime?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627471", "body": "What about making this implement PromisorInterface so that calling `promise()` will start an async upload, and calling cancel on the promise will abort the upload? That could possibly remove the need for an uploadAsync method.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627471/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627622", "body": "There's some weirdness around $this->state. It's either a promise or an UploadState object. Because this is a protected property, I would suggest making this always an UploadState or always a promise. I would suggest making it always a promise. When synchronously calling `getState()`, just return the wait result of the promise. By making this always a promise, you can remove a lot of duplicated conditional checks and make subclasses have to know less about how this works.\n\nAlso note that the functions that yield the upload state can just always yield the value regardless of if it's a promise or not.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627629", "body": "This could just become `return $this->state->wait()`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627649", "body": "You can yield regular values and promises. I suggest yielding regardless of it's a promise or not (but I also suggest always making it a promise).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627664", "body": "Same as above: could yield always\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627677", "body": "Could become `$this->state = Promise\\promise_for(new UploadState($id));`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27764164", "body": "Can you document how to pass custom parameters to the different operations?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27764164/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27764185", "body": "Is there a way to pass custom parameters to each operation? If so, can this be documented here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27764185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27764193", "body": "Same as the Glacier class: can we document how parameters work here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27764193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915809", "body": "Why does account_id need special treatment here? I thought that it was added when creating a Glacier command: https://github.com/aws/aws-sdk-php/blob/abstract-http/src/Glacier/GlacierClient.php#L42\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28469927", "body": "Whoops!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28469927/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28835431", "body": "This was dead code that isn't necessary\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28835431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28835449", "body": "No longer relevant\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28835449/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29084283", "body": "I saw that in the flysystem .travis.yml file and copied it over. Does it not do anything?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29084283/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29997796", "body": "This was missing from the debug list for some reason\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29997796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29997797", "body": "This ensures that the first failed transfer fails the aggregate promise\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29997797/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29997798", "body": "This ensures that the first failed transfer fails the aggregate promise.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29997798/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30078324", "body": "Nah, all that's there is:\n- PutObject\n- UploadPart\n- CreateMultipartUpload\n- CompleteUploadPart\n\nShould I just replace `CompleteUploadPart` with `CompleteMultipartUpload`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30078324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30092297", "body": "I think this block of code needs to be updated to not thrown when the credentials file is empty. `parse_ini_file()` could return `[]` on an empty file, which would cause an exception. Perhaps instead we should check if the result if `=== false`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30092297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30095211", "body": "just for readability, I'd probably move the assignment of parsing the ini file into it's own line and then add another conditional to ensure that it is not false.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30095211/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30639195", "body": "Why was this removed? Did it go somewhere else?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30639195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31685334", "body": "Could this be moved up to the beginning of the case statement and simply return a new `stdclass()`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31685334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32471837", "body": "Why this change? Was it not working before?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32471837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32474809", "body": "Ah I see.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32474809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33312547", "body": "Eh, true, but it's more explicit.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33312547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33329156", "body": "These should all be shape references\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33329156/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33392404", "body": "Can you mention that this is calculated automatically? Most users will and should ignore this parameter so I want to make sure the docs are clear.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33392404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33394148", "body": "Ah I see\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33394148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33600906", "body": "Any reason this is protected?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33600906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33601593", "body": "Any reason this is protected? I try to avoid protected members since they expose an implementation detail of an implementation detail to subclasses.\n- https://books.google.com/books?id=ka2VUBqHiWkC&pg=PA89&lpg=PA89&dq=effective+java+protected+members&source=bl&ots=yZFkOmt-NX&sig=oTFs5pu9W45xG6wOQGBnL5nZ4l8&hl=en&sa=X&ei=QdWSVdCBMc_1oASB9KOwAw&ved=0CDoQ6AEwBA#v=onepage&q=effective%20java%20protected%20members&f=false\n- http://programmers.stackexchange.com/questions/162643/why-is-clean-code-suggesting-avoiding-protected-variables\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33601593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33619625", "body": "I think Graham is saying that you can omit the `empty` function and just call `if ($this->members) {`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33619625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065153", "body": "Why do we need the prefixes here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065225", "body": "I don't think this credential provider should have any knowledge of a cache at all. Caching should be a wrapper around other providers.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065334", "body": "Why cache the credentials by default? This only seems valuable if you know that you are using instance profile credentials.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065401", "body": "What does this do? What's the motivation for a default cache here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065511", "body": "I think this carried over from v2, and I'd rather not see it repeated in V3. I don't actually think we should compute a cache key like this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065602", "body": "This should not know about the cache\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065674", "body": "This shouldn't know about the cache either. Caching should wrap other providers like the memoize function.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34065674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34066089", "body": "Don't we already have a default location for AWS caching that the JSON loader uses?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34066089/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34067820", "body": "I wasn't saying the memoize function should have external caching built into it, but rather that there could be another function similar to the memoize function that allows for a customizable external cache. There may be some refactoring that could be done to share code, but I think these are separate abstractions.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34067820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34193984", "body": "Can you add a docblock here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34193984/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194001", "body": "We usually don't put a new line here\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194015", "body": "Missing newline\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194175", "body": "should be a line between the ns and the use statements.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194233", "body": "We don't use inheritdoc in the SDK.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194233/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194248", "body": "I think it might be better to first do a `file_exists` and then a regular `file_get_contents` call.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194473", "body": "I think this conditional is unnecessary\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194601", "body": "This isn't what we want. We want to call `then` on the provider and return a promise that is fulfilled with the credentials. In that callback we'd then set the credentials in the cache.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34194601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34298581", "body": "Ah interesting. I did not know that. Can you add a comment here to reflect that so that we don't forget?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34298581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34300066", "body": "Yeah sounds good to me.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34300066/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34844749", "body": ":+1:  Agreed, let's use casts instead\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34844749/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35919778", "body": "I wonder if `$value = array_map('strval', $value);` would be faster/more clear?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35919778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35934974", "body": "Can the client actually be serialized?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35934974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35939128", "body": "Are you sure that things like the event dispatcher of a client with its anonymous functions can be serialized?\n\n> On Jul 30, 2015, at 5:24 PM, Jonathan Eskew notifications@github.com wrote:\n> \n> In src/Aws/Common/Credentials/RefreshableInstanceProfileCredentials.php:\n> \n> > @@ -42,6 +42,21 @@ public function __construct(CredentialsInterface $credentials, InstanceMetadataC\n> >          $this->client = $client ?: InstanceMetadataClient::factory();\n> >      }\n> > -    public function serialize()\n> > -    {\n> > -        return json_encode(array(\n> > -            'credentials' => parent::serialize(),\n> > -            'client' => serialize($this->client),\n> >   It can. There's no custom serialization defined, so serialize will just capture all object properties. The output is a bit large so I could cut out whatever is unnecessary.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35939128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36541251", "body": "I think we should make this more readable by moving the assignment and conditions to their own lines.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36541251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36563061", "body": "Nitpick: I think we use two spaces between sections.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36563061/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37001902", "body": "I think this should be `@retries` as it is a meta parameter that is not part of the API. We are already using `@` to designate other parameters as SDK related rather than API related (e.g., `@http`), so I think it makes sense.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37001902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37468291", "body": "Instead of two ternary checks here, could we just create an `$instanceProfileProvider` variable that is first created as a stock instance profile provider and then decorated with a cache if the cache parameter is present? I think that would make this easier to follow.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37468291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38482654", "body": "One minor optimization might be to store the count in a variable and compute it once\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38482654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38482677", "body": "Might want to store in a variable and compute strlen only once\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38482677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38669376", "body": "You can just do: `$this->fail('....')`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38669376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38669450", "body": "Can you add a line here that documents the host pattern and what the default value allows?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38669450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38668094", "body": "I think you would at least want to lock to a commit sha here.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38668094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38669284", "body": "Done https://github.com/mtdowling/Burgomaster/releases/tag/0.0.3\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38669284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39084692", "body": "Why not just try/catch around the invocation of `$this->parser`, and catch SimpleXML exceptions? After catching then check if it's one of our known ambiguous errors and throw the appropriate retryable error.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39084692/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39084809", "body": "Why is this code necessary? It also violates the return type as we need to return a ResultInterface here not a promise.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39084809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39107368", "body": "Is this try/catch necessary? Aren't we covered by the error parsing before parsing with the wrapped parser?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39107368/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39107415", "body": "Ah I see. Makes sense.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39107415/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39115867", "body": "So is this parser for when S3 returns a ListObjects response that is invalid XML?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39115867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39115993", "body": "If this is meant to catch errors parsing XML, then I think catching `\\Exception` is a little too broad. In fact, we should only be catching XML parsing errors to ensure that only that specific error is being retried. If we just catch all parsing errors, then we'd be retrying everything multiple times when we fail to parse. Instead of a catch-all like this, I think we should hand-pick what parsing errors are retryable (i.e., XML errors).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39115993/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39187196", "body": "Maybe this should be RetryMalformedResponseParser to better show the intent?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39187196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39909209", "body": "Do these examples actually cause us to try with a 2gb file?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39909209/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303216", "body": "Extra new line\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303242", "body": "Should this be marked `@internal`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303250", "body": "? on the next line\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303514", "body": "This file should at least have a comment to describe what it does and the usage.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303742", "body": "What is this code doing? Are you supposed to pass in the classes to update as an argument?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303881", "body": "Space between variable and array push token\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39303881/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39304314", "body": "Can this just become something much simpler like: `{$this->getApiDefinition()['metadata']['serviceFullName']} client`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39304314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39304580", "body": "What's the motivation for adding the description of the method in the method annotation? It adds a lot of extra weight to each client? I'm not even sure where this text would show up in the editor. I'd prefer the doc be used for just listing which versions of an API the method is compatible with.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39304580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39661551", "body": "Why is enabling the opcache necessary?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39661551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39662108", "body": "Is there a way to comment in latte scripts? If so, this definitely warrants a comment to describe why this is needed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39662108/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39662196", "body": "Can you split this into separate statements for readability?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39662196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "ashishtilara": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10171580", "body": "Thanks for the prompt reply.\n\nHowever, what happens in 6 months time when some of my code uses 1.4, some of it uses 2.0, and some of it uses 2.2? Or in a years time when some is using 3.0?\n\nYou can't (and shouldn't) have to guarantee perfect backwards-compatibility between all future versions.\n\nWhat strategy should I use for using SDKs 2.0, 2.1, 2.2, 3.0, 3.1, etc all in the same PHP context side-by-side? Is there anything that can be done upstream (by you) to help? \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10171580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10208466", "body": "@skyzyx Pardon my frustration, but this doesn't really answer my concerns. We have a massive code base, and it is literally impractical for us to move wholesale to a new library version every time you push out an update. We will likely always have classes that use 1.4, others using 1.5 and now potentially new classes using 2.0, and these classes all need to be able to used together. We don't have the resources or the risk-appetite to update everything all at once.\n\nEven though you say you don't anticipate future breaking changes, you can never guarantee that, so we are stuck in a predicament. If there will never be upstream support for use-cases such as ours, then we will just have to figure something out ourselves. Thanks for your input.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10208466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "jeremeamia": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10175254", "body": "Good catch. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10175254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10237709", "body": "@ashishtilara I'm not sure I fully understand your use case. We've never had anyone come to us that required dependencies on a full gamut of different versions of the SDK within the same codebase. I'd like to better understand what the problem actually is and what solutions you might have in mind. You had mentioned including the version in the namespace, but I have not seen any other libraries that are doing this, and it also is not really compatible with PSR-0. Are their any _other_ libraries that you consume that allow you to run multiple versions in the same codebase? I'd be willing to look at those for ideas, but I'm not personally aware of any other libraries out there that support the type of behavior you are asking for. I really would like to see what we can do to help you, but I'm not sure if there is bulletproof solution that is beneficial to everyone else, that doesn't involve you having to do some refactoring at some point.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10237709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10348761", "body": "I responded to your forum post earlier today with a fix: https://forums.aws.amazon.com/thread.jspa?threadID=109616&tstart=0\n\nThe docs are wrong for the Body option. We will work on getting that fixed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10348761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10349259", "body": "Yes, `file_get_contents()` should work fine.\n\nAlso, you can use the `EntityBody` object from Guzzle in conjunction with `fopen`:\n\n```\n'Body' => EntityBody::factory(fopen($file, 'r'))\n```\n\nThis might work better for larger files since you won't have to load the entire file into memory at once as you would with `file_get_contents()`.\n\nI apologize for misleading you with my previous comment.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10349259/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10371999", "body": "Yep, you got it! For any enum-like values we have classes under the Enum namespace for that client. Hopefully we can better call information like that out as we improve our docs.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10371999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10372321", "body": "Right here on the GitHub issue tracker is going to be the easiest for us to track. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10372321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10373459", "body": "We'll check it out.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10373459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10565363", "body": "Instead of `self` or `static`, does using `Enum` work?\n\n```\npublic static function values()\n{\n    $class = get_called_class();\n    if (!isset(Enum::$cache[$class])) {\n        $reflected = new \\ReflectionClass($class);\n        Enum::$cache[$class] = $reflected->getConstants();\n    }\n\n    return Enum::$cache[$class];\n}\n```\n\nThat was the intention of using `self`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10565363/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10565571", "body": "What happens when you turn on errors beforehand? Do you get any error messages?\n\n```\nerror_reporting(-1);\nini_set('display_errors', 'on');\nrequire 'aws.phar';\n```\n\nWhat version of PHP are you using?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10565571/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10567739", "body": "Suhosin does not allow phars by default. You need to enable phars specifically. I've not personally done this before, but I've read that you can do it by adding a PHP ini setting to the `suhosin.ini` (possibly located at `/etc/php5/cli/conf.d/suhosin.ini` for Ubuntu).\n\n```\nsuhosin.executor.include.whitelist = phar\n```\n\nLet me know how that goes.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10567739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10568480", "body": "Thanks for working through that with me. I seems like something we should add to our documentation as well.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10568480/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10571453", "body": "Some of the parameters have changed in name and function from the 1.x version of the SDK. I think what might be happening is that setting the `session_lifetime` to `0` is actually causing an immediate expiration of your sessions. If you want the session lifetime to be its max, just don't set it all.\n\nTry this:\n\n```\n$result = $client->registerSessionHandler(array(\n    'table_name' => 'my_sessions',\n    'hash_key'             => 'userid',\n//  'session_lifetime'     => 0, // Option changed. If max time is desired, do not specify this option\n    'consistent_reads'     => true,\n//  'session_locking'      => false, // Option changed. Locking is also off by default\n    'max_lock_wait_time'   => 15,\n    'min_lock_retry_microtime' => 5000, // Option name changed\n    'max_lock_retry_microtime' => 50000 // Option name changed\n));\n```\n\nCheck out the [API docs for the session handler](http://docs.amazonwebservices.com/aws-sdk-php-2/latest/class-Aws.DynamoDb.Session.SessionHandler.html). The options are outlined in the docs for the `factory()` method.\n\nLet me know if this works out.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10571453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10611630", "body": "That's correct. We do not have support for SQS yet. We will be working over time to add every service.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10611630/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10611777", "body": "No problem!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10611777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10612913", "body": "Seems like the file extension is enforced through the uploadify option `fileTypeExts`. This will not be 100% accurate since it is just looking at the filename and not the mime. I would do some sort of validation on the object after it has been written to S3 and before you use it.\n\nYou should probably do the URL redirecting in the javascript layer (instead of php) in the `onUploadSuccess` callback with `window.location` perhaps.\n\nIt looks like you're making good progress on this though. Sounds like an interesting blog post once you have it all ironed out.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10612913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10664702", "body": "@isleshocky77 I read through your posts on the forum. After we get the `UploadPart` operation fixed. We can help you with the code.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10664702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10667701", "body": "The `var_dump()` output looks correct. I did notice in your code sample though that you assign the variable as `$eTag` but then us a lowercase \"t\" when you reference it in the `$this->log()` call as `$etag`. Is that why it is not showing up?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10667701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10668562", "body": "The UploadPart operation is fixed in the master branch.\n\n@jsor, you were seeing some unexpected behavior with your example because the SDK was actually executing PutObject instead of UploadPart since the UploadId and PartNumber params were not be handled correctly. That's why a file was uploaded, but it was only the most recent part, and why ListParts didn't return anything. This should work correctly now.\n\n@jsor and @isleshocky77, let me know if you have any additional problems.\n\nYou should look into the `Aws\\S3\\Model\\MultipartUpload\\UploadBuilder`. We'll try to get some more documentation out about this class, but it might be an easier way to manage your uploads.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10668562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10670859", "body": "Can you share you current code on a pastebin? I haven't been having any troubles this morning.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10670859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10671851", "body": "The UploadBuilder/Transfer and related classes are not a part of the batching system. \"Source\" _is_ required, because that is the file/body you are going to upload. The UploadBuilder/Transfer chunks and sends the file for you in parts. Like I said, this feature needs more documentation, which we hope to provide at some point.\n\nYour batch builder example is incorrect though. it should be `transferCommands` instead of `transferRequests`. I think you were having trouble with this on a different thread.\n\nI'm not sure what is causing the signature error in your manual upload example, but it does seem like you are using the `EntityBody` class incorrectly. If I were doing it manually, I would probably read off of a file handler like @jsor was doing in the original post on this ticket.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10671851/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10704879", "body": "@isleshocky77 Did there end up being a problem, or was it just a typo?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10704879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10882766", "body": "This problem may already be addressed. Please test again with the master branch of the SDK. If the problem still persists, we'll definitely take a look.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10882766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10933202", "body": "Well, that's interesting. I'll definitely investigate it. Just to help me reproduce the issue, what are the throughput settings for the dynamodb table and what is the approximate size of your sessions?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10933202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10969046", "body": "Just saw that this was posted on the forums as well: https://forums.aws.amazon.com/thread.jspa?threadID=110788&tstart=0.\n\nLet me know if this is an issue after using the master branch. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10969046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10970262", "body": "Here is an example using the `Aws\\S3\\Model\\MultipartUpload\\*` classes:\n\n``` php\n<?php\n\nrequire '/path/to/vendor/autoload.php';\n\nuse Aws\\Common\\Aws;\nuse Aws\\Common\\Enum\\Size;\nuse Aws\\Common\\Exception\\MultipartUploadException;\nuse Aws\\S3\\Model\\MultipartUpload\\UploadBuilder;\n\n// Get the S3 client\n$s3 = Aws::factory('/path/to/your/config/file.php')->get('s3');\n\n// Create a transfer object from the builder\n$transfer = UploadBuilder::newInstance()\n    ->setClient($s3)                        // An S3 client\n    ->setSource('/path/to/the/source/file') // Can be a path, file handle, or EntityBody object\n    ->setBucket('your-bucket-name')         // Your bucket\n    ->setKey('your-object-key-name')        // Your desired object key\n    ->setMinPartSize(5 * Size::MB)          // Minimum part size to use (at least 5 MB)\n    ->build();\n\n// Perform the upload\ntry {\n    $transfer->upload();\n} catch (MultipartUploadException $e) {\n    echo $e->getMessage() . \"\\n\";\n    $transfer->abort();\n}\n```\n\nThe multipart upload system also has several events you can hook into. For example, if you wanted to add in some event listeners to help with debugging you could do something like the following.\n\n``` php\n// Create a transfer object from the builder\n// ... (See the preceding code sample for this portion)\n\n// Attach event listeners to the transfer object for debugging purposes\n$dispatcher = $transfer->getEventDispatcher();\n$dispatcher->addListener($transfer::BEFORE_UPLOAD, function ($event) {\n    echo \"About to start uploading parts.\\n\";\n});\n$dispatcher->addListener($transfer::AFTER_UPLOAD, function ($event) {\n    echo \"Finished uploading parts.\\n\";\n});\n$dispatcher->addListener($transfer::BEFORE_PART_UPLOAD, function ($event) {\n    $partNumber = $event['command']->get('PartNumber');\n    $size = $event['command']->get('Body')->getContentLength();\n    echo \"About to upload part {$partNumber}, which is {$size} bytes.\\n\";\n});\n$dispatcher->addListener($transfer::AFTER_PART_UPLOAD, function ($event) {\n    $partNumber = $event['command']->get('PartNumber');\n    $eTag = $event['command']->getResult()->get('ETag');\n    echo \"Finished uploading part {$partNumber}, which has an ETag of {$eTag}.\\n\";\n});\n$dispatcher->addListener($transfer::AFTER_COMPLETE, function ($event) {\n    echo \"Upload completed.\\n\";\n});\n$dispatcher->addListener($transfer::AFTER_ABORT, function ($event) {\n    echo \"Upload aborted.\\n\";\n});\n\n// Perform the upload\n// ... (See the preceding code sample for this portion)\n```\n\nYou can add additional parameters like ACL and content-type to the upload by using the `UploadBuilder::setHeaders()` method and the appropriate header keys. We plan on adding additional helper methods to make adding this data easier, but it _is_ currently possible. Also, you can use the `UploadBuilder::setAcp()` method if you want to use the [Acp](https://github.com/aws/aws-sdk-php/blob/master/src/Aws/S3/Model/Acp.php) object for building complex access control lists.\n\nWe hope to make all of the features better documented in the future.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10970262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11051932", "body": "Thanks for verifying. I'm glad it works. We should be tagging a release soon so you don't have to pull off of master.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11051932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11112676", "body": "@etiennea We looked into the issue and verified that the session handler in version 2 can be slower when APC is not installed and enabled. If you do not have APC enabled, we recommend that you do that to ensure the best performance for the session handler. You should also set the `apc.shm_size` ini setting to at least 64MB. This allows various parts of the client instantiation process to be cached, including loading the service description. We saw that session handler in version 2 of the SDK performs close to twice as fast than in version 1 under these conditions.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11112676/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11114765", "body": "Not entirely sure based on this information. If you do `$e->getPrevious()` with the `MultipartUploadException` you received, you will see that it is an `InvalidPartException` being thrown. This means you are getting a 400-level response from one of the calls to S3 (see the [S3 error responses](http://docs.amazonwebservices.com/AmazonS3/latest/API/ErrorResponses.html)), probably `CompleteMultipartUpload`. You should try to attach the wire logger (`$s3->addSubscriber(\\Guzzle\\Plugin\\Log\\LogPlugin::getDebugPlugin()`) to figure out the request that is failing. Seeing the actual request and response going over the wire may help us figure out what's wrong. Let me know when you have more info.\n\nAlso try a full path in `setSource()` just to make sure that's not the problem.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11114765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11115203", "body": "Do me one other favor. We have a couple of issues fixed in the master branch (including one with the `UploadPart` operation) that are not in a tagged version yet (coming soon). Could you make sure you are using the latest copy of the master branch? With Composer you can do this by by setting the SDK dependency to:\n\n``` javascript\n{\n    \"require\": {\n        \"aws/aws-sdk-php\": \"dev-master\"\n    }\n}\n```\n\nGo ahead and give that a shot. If that doesn't work, then I can look into it more.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11115203/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11135739", "body": "Great, I thought it would. Thanks. Keep an eye out for the next tag. Sorry you had to run into that issue.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11135739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11136721", "body": "Nope, APC just needs to be enabled in your INI so that opcode caching is in effect. Is there any other information that would be useful to help us find out why it appears to be slower on your system? What kind of environment are you on? How are you benchmarking the two session handlers?\n\nI was comparing them yesterday, and with APC enabled, version 2 was _always_ faster than version 1. Here are samples of two scripts I was using to test.\n\n**For SDK version 1:**\n\n``` php\n<?php\n\n$time = microtime(true);\n\nrequire 'aws-sdk-for-php/sdk.class.php';\nrequire 'config-sdk1.php';\n\n$db = new AmazonDynamoDB();\n$db->register_session_handler(array(\n    'session_locking' => false,\n    'table_name'      => 'sessions',\n    'hash_key'        => 'id',\n));\n\nsession_start();\n$_SESSION['random_value'] = rand(0, 100);\nsession_commit();\n\necho microtime(true) - $time;\n```\n\n**For SDK version 2:**\n\n``` php\n<?php\n\n$time = microtime(true);\n\nrequire 'vendor/autoload.php';\n$aws = Aws\\Common\\Aws::factory('config-sdk2.php');\n\n$db = $aws->get('dynamodb');\n$db->registerSessionHandler(array(\n    'locking_strategy' => null,\n    'table_name'       => 'sessions',\n    'hash_key'         => 'id',\n));\n\nsession_start();\n$_SESSION['random_value'] = rand(0, 100);\nsession_commit();\n\necho microtime(true) - $time;\n```\n\nThese scripts include the time to bootstrap the SDK, instantiate the DynamoDB client, register the session handler, read from the session, and write to the session. I ran them hundreds and hundreds of times, took averages, etc. I also has some other scripts that measured each part of these scripts in more finer grained steps.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11136721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11313625", "body": "Whoops! Thanks for letting us know. We'll get it fixed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11313625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11362129", "body": "It's a small but good change. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11362129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11362356", "body": "OK, this this should be fixed now. Sorry for the troubles.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11362356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11885775", "body": "Thanks! We are working on some end-user documentation on the [docs branch](https://github.com/aws/aws-sdk-php/tree/docs/docs). I'll have to add a page about the session handler soon.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11885775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11887985", "body": "More flexibility. The docs branch is setup for static site generation with Sphinx and reStructured Text. That way we have flexibility in the location and look of the docs. There are several PHP projects using Sphinx for docs already. If you install it, you can generate the docs site locally right now with a single command. We just haven't published the site anywhere yet. With the holidays over now, we plan to get moving on this. Restructured text is very similar to Markdown, so we hope to have others contribute to the docs as well once we get the ball rolling.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11887985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11968520", "body": "Awesome! Thanks for doing this. I believe @mtdowling has already reached out to you with a CLA, correct?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11968520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11976994", "body": "Yeah, why don't you send two separate ones, that way we can get this approved and use it for some other clients.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11976994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12120055", "body": "Thanks for letting us know. We'll look into it. The API docs are all generated based on the service descriptions. There is likely something we need to tweak in one of our generation processes, so there isn't really anything to submit a PR to. Thanks for offering though. :-)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12120055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12297904", "body": "I'm not sure I if what you are saying is correct. Have you tested out what you are describing? `Item::fromArray` uses `Attribute::factory` to make intelligent guesses at what each attribute's type should be. Nothing in the example you are referring to should result in there being a `StringSet`. It's possible I might also be misunderstanding you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12297904/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12298472", "body": "OK, we'll look into that too. Thanks for letting us know.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12298472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12300501", "body": "It sure is, Dr. Laravel. :smile:\n\nUnfortunately we cannot share any specific roadmaps, but since service coverage is pretty much the top priority for us right now, it hopefully won't be too long.\n\n(Sorry about the \"Dr. Laravel\"-thing, but it does have a ring to it.)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12300501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12337410", "body": "Hey, no worries! Thanks for looking back into it for us. :smile:\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12337410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12624583", "body": "The update to the Elastic Beanstalk platform in December now supports PHP 5.4. Running the SDK on the new platform should have better results.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12624583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12664216", "body": "It'll happen soon! We are actively working on expanding service support. Unfortunately, I can't give you an exact timeline.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12664216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12710413", "body": "Tarzan Core? Wow, you've been using the SDK a long time, haven't you. :smile: I'll make sure to post back here when we have SimpleDB ready to go. FYI, we've started support for this in the [refactor_descriptions branch](https://github.com/aws/aws-sdk-php/commits/refactor_descriptions).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12710413/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12768155", "body": "Hmmm... interesting project, but no thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12768155/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12865531", "body": "Thanks Todd. We'll look into making this work better.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12865531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13103219", "body": "See the [API docs for DescribeInstances](http://docs.aws.amazon.com/aws-sdk-php-2/latest/class-Aws.Ec2.Ec2Client.html#_describeInstances).\n\n`Values` should also plural (i.e.,`Value` should be `Values`). Sorry we didn't catch that the first time around. It should look like:\n\n```\n'Filters' => array(\n    array(\n        'Name'   => 'instance-state-name',\n        'Values' => array('running')\n    )\n)\n```\n\nThere is also an example in the [EC2 integration tests](https://github.com/aws/aws-sdk-php/blob/master/tests/Aws/Tests/Ec2/Integration/BasicOperationsTest.php#L51-54).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13103219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13103358", "body": "SQS support is now complete in master!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13103358/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13204306", "body": "Added it here: 6ea519a. Let me know if that works for you. Thanks for the suggestion!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13204306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13249732", "body": "I'm assuming you are looking at the [upload example on the README](https://github.com/aws/aws-sdk-php#uploading-a-file-to-amazon-s3), right? Config files are addressed in the README as well: https://github.com/aws/aws-sdk-php#using-a-custom-configuration-file.\n\nAlso, you are not required to use a config file, [here is an example without one](https://github.com/aws/aws-sdk-php#using-the-service-builder).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13249732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13256017", "body": "No problem!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13256017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13323041", "body": "For **[1]**, I just committed something that should fix that: 807cec5. Seems related to #13.\n\nFor **[2]**, hmmm... off hand, I have no idea, so I'll have to investigate. If you are able to debug a little and find out which part of the session handler (writes, reads, etc.) it is happening in that would help. Also, some questions:\n1. How often does this happen?\n2. How big are your sessions?\n3. What is your table throughput?\n4. Do you know for sure it is happening in the session handler?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13323041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13340683", "body": "Yeah, I'd try using a shutdown function or custom exception handler and see if you can get a better stack trace or `debug_backtrace` and see what part of the session handler is being used before the cURL exception occurs. Thanks. I'll look more into it this week.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13340683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13367800", "body": "Thanks for letting us know. In this case, it is actually intentional, since we do not have SQS in any _tagged_ release at this time. Once we tag our next release we will update the website, since at that time SQS (and SNS, SES, Auto\nScaling, and CloudWatch) will available through all mediums, including GitHub, Composer, PEAR, and the phar.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13367800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13980575", "body": "Thanks for pointing this out. We'll look into it.\n\nPossibly related: https://forums.aws.amazon.com/thread.jspa?threadID=117580&tstart=0\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13980575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14130504", "body": "The PHP SDK supports the entire SNS API. The functionality you are describing doesn't sound immediately familiar to me, but for a question like this you should consult the [Amazon SNS documentation](http://aws.amazon.com/documentation/sns/) or ask a question of the [Amazon SNS forum](https://forums.aws.amazon.com/forum.jspa?forumID=72). If the service supports it, then so does the SDK.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14130504/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14133672", "body": "Ah ha, I see what you are asking about now. Neither version 1 or 2 of the SDK provides that functionality, so as of right now it would be something you'd have to implement yourself. There are two pages in the documentation that might help with this though: [Verifying the Signatures of Amazon SNS Messages](http://docs.aws.amazon.com/sns/latest/gsg/SendMessageToHttp.verify.signature.html) and [Example Code for an Amazon SNS Endpoint Java Servlet](http://docs.aws.amazon.com/sns/latest/gsg/SendMessageToHttp.example.java.html).\n\nI will definitely make note that you requested this feature and bring it up with the team to see if it's something we want to add. However, if it's something you want to take a crack at, we wouldn't mind a pull request either. :smile:\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14133672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14140137", "body": "Awesome, sounds great! Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14140137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14209714", "body": "Thanks! This looks great. I'll take a deeper look to come up with some suggestions and testing advice. Do you have any example code for using it? A gist maybe?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14209714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14210178", "body": "Looks great. We'll get to you with some more feedback tomorrow. I've also submitted this to our internal review process. We will find out if we need you to sign a CLA. Thanks again.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14210178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14260311", "body": "Alright, I gave this a good look through, and it looks really good. Thank you! The logic all seems to be in place and you have some nice serparation of concerns. I do have some suggestions though, so bare with me. First, There are definitely some names I want to change. Second, I see what you did with the strategies, which is good, but I think it might be better to organize it a little differently, which will also make the whole thing eaiser to test as well.\n\nCurrently, you have a setup like this (disregarding the exceptions)\n- `Aws\\Sns\\Validator\\SnsValidator`\n- `Aws\\Sns\\Validator\\Strategy\\StrategyInterface`\n- `Aws\\Sns\\Validator\\Strategy\\NotificationStrategy`\n- `Aws\\Sns\\Validator\\Strategy\\SubscriptionConfirmationStrategy`\n\nAnd you are using `stdClass` to pass around the message data.\n\nI think it would make more sense to have message classes that encapsulate the data and creates the strings to sign. I would prefer a structure like this:\n- `Aws\\Sns\\MessageValidator\\MessageInterface`\n- `Aws\\Sns\\MessageValidator\\AbstractMessage`\n- `Aws\\Sns\\MessageValidator\\NotificationMessage`\n- `Aws\\Sns\\MessageValidator\\SubscriptionConfirmationMessage`\n- `Aws\\Sns\\MessageValidator\\MessageValidator`\n\nBasically the `AbstractMessage` would contain the factory logic for creating the concrete message classes, include common logic like getting the data, and defining an abstract `getStringToSign()` function. This function would be the same as the `buildSignatureBody` method of your strategy classes but would be defined in the concrete message classes instead. I'd prefer the method to be named `getStringToSign()` because we typical use the term \"string to sign\" when we're dealing with the other signature classes in the SDK.\n\nSince all of the message and message factory logic will be in the Message objects, you can update your validator object to be a stateless object that basically only has one method: `validate()`. The constructor should still check for the presence of openssl, and all of the openssl calls should be in that class only, like you have it now.\n\nThe benefit of this new setup is that it is much easier to unit test. The message class is very straight forward to test, and the only tricky stuff would be in the validator. We would gain the ability to mock the Message object though, which could help with testing the validator. It's also not a difficult change since it is mainly just moving existing code around.\n\nAs far as usage goes, it would like only a little different from what you showed me yesterday. This is what I would picture:\n\n``` php\n<?php\nuse Aws\\Sns\\Model\\MessageValidator\\AbstractMessage;\nuse Aws\\Sns\\Model\\MessageValidator\\MessageValidator;\n\n$message = AbstractMessage::fromArray(json_decode($HTTP_RAW_POST_DATA, true));\n$validator = new MessageValidator();\nif ($validator->validate($message)) {\n    echo 'Yay! The message came from AWS.';\n} else {\n    echo 'Uh oh. The message may NOT have come from AWS.'\n}\n```\n\nSo again, thank you so much for doing this! I'd love to see my suggestions incorporated into your code if you have time. If not, I totally understand, and I can take what you've done and work on it myself. As I see it, you've done the hard part for me already. Just let me know what you feel like doing and if your up to doing a little more work.\n\nI do need you to sign a CLA for me though. Please send an email to the email address I have listed on my GitHub profile, and I'll prepare that for you. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14260311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14459803", "body": "This is looking really good! I made a pull request to your pull request from my personal fork with some additional changes and a start on the unit tests.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14459803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14465756", "body": "Sounds good. Thanks for your work on this. Just so you are aware, I added some todos at the top of this PR (not all of them are for you; they are for my benefit). Let me know if you have any questions or concerns.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14465756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14530312", "body": "We are looking into this. Thanks for pointing it out.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14530312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14765097", "body": "Hello!\n\nYou can use `getCredentials()` method to get the Credentials object, which has setters for the keys. See the section in our brand new user guide called [Manually Setting Credentials](http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/configuration.html#manually-setting-credentials).\n\nAs far as mocking goes, we mock client-server interactions all throughout the SDK tests. One way to do this is to mock `Command` objects to return a particular result (`Model` object). Another way is to use [Guzzle's mock response](http://guzzlephp.org/guide/service/testing_clients.html#queueing-mock-responses) feature like we do in this [S3 iterators integration test](https://github.com/aws/aws-sdk-php/blob/master/tests/Aws/Tests/S3/Integration/IteratorsTest.php).\n\nLet us know if you need more help or if you have any suggestions about how we can improve our docs or code to facilitate your use case.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14765097/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14806821", "body": "Well, you are right, I don't think that works right after all. When you do `$s3 = S3Client::factory();` It creates the default credentials object which is a `RefreshableInstanceProfileCredentials` object. Even though you've set explicit credentials, an expiration has not been set, so the `RefreshableInstanceProfileCredentials` considers the credentials as expired. Because of this, it tries to refresh the credentials by looking for an Instance Profile in your environment, which is only something available on a configured EC2 instance.\n\nSo, to get around this limitation right now you can add `$credentials->setExpiration(null)` like this:\n\n``` php\n$s3 = S3Client::factory();\n\n$credentials = $s3->getCredentials();\n$credentials->setAccessKeyId('key');\n$credentials->setSecretKey('secret');\n$credentials->setExpiration(null);\n```\n\nThat should tell the `RefreshableInstanceProfileCredentials` object that your credentials don't expire. You should only have to so that once regardless of how many times the credentials are modified.\n\nHowever, it does show that having a public `setCredentials` method would be handy so that you don't have to worry about refreshable credentials, if you don't need them. Then, in the future you could do:\n\n``` php\n$s3 = S3Client::factory();\n$s3->setCredentials(new Credentials('<key>', '<secret>'));\n```\n\nWe will add this feature and updating the docs to our TODO list.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14806821/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14815600", "body": "I created a branch on the repository called [`feature-snsmsg`](https://github.com/aws/aws-sdk-php/tree/feature-snsmsg) with all of our changes so far. I think you might be able to change this pull request to point to that branch, but you'll definitely want to pull from that branch as well. I updated the tests for the SNS Message Validator and rebased to get all of the current code from `master`. You can quickly see my changes on this commit: b7f70c0.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14815600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14826287", "body": "Thanks Ryan!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14826287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14915739", "body": "Great! I also went ahead and updated the master branch to add a `setCredentials` method. See 23092ec.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14915739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14918325", "body": "This is now a part of the SDK: https://github.com/aws/aws-sdk-php/tree/master/src/Aws/Sns/MessageValidator. Thank you! since I merged this into a feature branch before merging to master. I'm going to go ahead an close the PR.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14918325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14918537", "body": "This is now a part of the SDK: https://github.com/aws/aws-sdk-php/tree/master/src/Aws/Sns/MessageValidator. Here is an example of how to use it.\n\n``` php\n<?php\n\nrequire 'vendor/autoload.php';\n\nuse Aws\\Sns\\MessageValidator\\Message;\nuse Aws\\Sns\\MessageValidator\\MessageValidator;\n\n$message = Message::fromRawPostData();\n$validator = new MessageValidator();\nif ($validator->isValid($message)) {\n    echo $message->get('Message');\n} else {\n    echo 'INVALID MESSAGE';\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14918537/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15208458", "body": "Hey,\n\nWe recently published our user guide here: http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/index.html.\n\nI have written up a guide to the session handler that we'll be adding soon. Care to review? You can see the content here: https://github.com/jeremeamia/aws-sdk-php/blob/399d736a347d190e3d10883db413c371f593fd66/docs/feature-dynamodb-session-handler.rst. Let me know if you think anything is missing or could be clarified. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15208458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15250871", "body": "I don't want to suggest `auto_prepend_file`, because as Michael points out, it's not always good for every use case. It also makes it hard to reuse the same DynamoDB client in other parts of your app, which you definitely should try and do since you can take advantage of the persistent connection created the first time it's used and not have to make the SSL handshake again.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15250871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15252595", "body": "OK, all good now?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15252595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15272767", "body": "I added some more advisory text in [this commit](https://github.com/jeremeamia/aws-sdk-php/commit/68fb546a658eb4ed262028e81fe2737f641833bc). Do you think that this helps?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15272767/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15305952", "body": "@ralph-tice Thanks! \n\n@amenadiel To address your comments\u2026\n\n> I've seen no mention for session autostart setting\n\nThe `session.auto_start` setting is not meant to work with custom session handlers built for use with `session_set_save_handler()`.\n\n> at least for me dynamodb sessions just doesn't work\n\nWhat do you mean by this? Are you saying that you think there is a bug or that it just does not fit your use case?\n\n> I'm pretty happy with elasticache handling my sessions though\n\nSure, ElastiCache can also be a good solution for sessions.\n\n> I'm eager to see more sdk sintactyc sugar upcoming related to elasticache\n\nDo you have any specific ideas for what we could do in the SDK?\n\n> a good drop in replacememt for vanilla memcache drivers.\n\nThe ElastiCache team has a custom memcache driver that supports [auto discovery](http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/AutoDiscovery.html) of all the nodes in your cache cluster. See [Installing the ElastiCache Cluster Client for PHP](http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/Appendix.PHPAutoDiscoverySetup.html) in the ElastiCache service's Developer Guide.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15305952/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15313388", "body": "I will add a task for myself to add a `BatchGetItem` example in the user guide. The API docs do still have an outstanding issue (#28) though.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15313388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15314446", "body": "We're still working on examples and getting the API docs corrected.\n\nIn the meantime, here is another example using the `BatchGetItem` Iterator and \"calculated\" keys.\n\n``` php\n<?php\n\n$keys = array();\nforeach (range('a', 'z') as $key) {\n    $keys[] = array('HashKeyElement' => array('S' => 'key-' . $key));\n}\n\n$items = $dynamodb->getIterator('BatchGetItem', array(\n    'RequestItems' => array(\n        'your-table-name' => array(\n            'Keys' => $keys\n        )\n    )\n));\n\nforeach ($items as $item) {\n    print_r($item);\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15314446/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15426472", "body": "Closing this issue now. @amenadiel feel free to comment back on here if you get a chance. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15426472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15489250", "body": ":ship:\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15489250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16096332", "body": "We don't have any examples in our user guide yet, but you might find the integration test useful: https://github.com/aws/aws-sdk-php/blob/master/tests/Aws/Tests/Ses/Integration/IntegrationTest.php#L115-L130.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16096332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16277780", "body": "That looks awesome. I'll have to look at the .rst file more closer in the morning.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16277780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16588482", "body": "The guide is now published: http://docs.aws.amazon.com/aws-sdk-php-2/guide/latest/feature-dynamodb-session-handler.html\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16588482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16695204", "body": "It seems like we might have an issue with this particular scenario, as it seems like the Content-Length is not set properly, even when it's provided. We'll look into this and see what we can do. Sorry it is causing you problems.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16695204/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16695258", "body": "This issue is also [duplicated on the AWS forums](https://forums.aws.amazon.com/thread.jspa?messageID=444329). We will track the issue here and post the resolution on the forums.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16695258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16946175", "body": "Ha ha, no worries. At least it is an easy fix.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16946175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17670934", "body": "Yeah, that definitely looks like a problem. Thanks for letting us know.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17670934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17671006", "body": "Thanks for letting us know. We'll look into getting this fixed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17671006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17671113", "body": "Interesting. We'll definitely look into this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17671113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17831348", "body": "Did you get everything working?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17831348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17835508", "body": "Awesome. I appreciate your work here very much. We'll get it merged in soon after the internal review is complete.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17835508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17977688", "body": "@tdondich We are shipping a zip starting today. You can grab it at http://pear.amazonwebservices.com/get/aws.zip.\n\nWe will also be adding this section to the user guide: https://github.com/aws/aws-sdk-php/blob/master/docs/installation.rst#installing-via-zip\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17977688/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18025380", "body": "I have been asked to see if you are willing to sign a CLA (see our [CONTRIBUTING.md](https://github.com/aws/aws-sdk-php/blob/master/CONTRIBUTING.md) for more info). Please send me an email using the address on my GitHub profile and I'll send you the CLA. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18025380/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18151007", "body": "Thanks for letting us know. We'll get that fixed soon. In the meantime (and if you are not using the phar), you can try changing `NetworkInterfaceSet` to `NetworkInterface` on line 6828 of [the EC2 service description](https://github.com/aws/aws-sdk-php/blob/master/src/Aws/Ec2/Resources/ec2-2013-02-01.php#L6828).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18151007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18157137", "body": "Hmmm... there seems to be a couple of serialization problems here. We'll definitely try to get this fixed soon.\n\nI pushed a temporary fix to my personal fork of the SDK, so I could show you the diff: https://github.com/jeremeamia/aws-sdk-php/commit/136280c3bea5d5105e6cad0efc53f55691216a5b. These changes _should_ fix the issue.\n\nHowever, you may have an issue with the parameters you are sending in your code. I fixed up the structure of your `NetworkInterfaces` parameter here: https://gist.github.com/jeremeamia/d958021e02b4c22fdc36. While this request doesn't succeed for me (since these values are specific to your account), it no longer was triggering parameter structure validation errors from the service. So give it a shot, and let me know if that works.\n\nI'm sorry you are running into this issue, but thanks for bringing it to our attention and helping us debug.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18157137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18168536", "body": "Interesting. I'm definitely not seeing that error anymore. Can you share the code that you are using? You said you are using PEAR; how are you including the SDK?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18168536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18182242", "body": "What source file are you editing to make the changes I have suggested? Are you editing the actual `aws.phar` somehow? Otherwise, I don't think it will pick up your changes. If you send me an email to the address on my GitHub profile, I could send you a copy of the phar with the changes applied.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18182242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18359912", "body": "Well, that explains why it wasn't installing for me last week. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18359912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18568250", "body": "Thanks Carl!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18568250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18597737", "body": "@tomsmaddox Can I get your email address? Please send an email to the email address on my GitHub profile. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18597737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18625428", "body": "Yup, that is a mistake, and is also pointless. For `__call` magic methods, PHP **always** sets `$args` to an array. Tests are still passing, so I'll go ahead and merge. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18625428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2413929", "body": "Happy New Year!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2413929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2567973", "body": "We need to audit which regions we use for the service docs since not all services support us-west-2 or require a region.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2567973/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2580186", "body": "Whoops!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2580186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2580191", "body": "Be careful or else soon you'll have to work on Boto. :smile:\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2580191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2600474", "body": "Do I need to pass something different to cs-fixer to not do that?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2600474/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2718706", "body": "Awesome! This will be really helpful. Great work.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2718706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2960412", "body": "Good work @mtdowling. And thanks @gwkunze for the helpful insights on this commit.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2960412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6435637", "body": "what happened here and below?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6435637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6556562", "body": "Nope, this was intentional. Because Guzzle 3 does not strictly follow semver, I cannot guarantee that versions of Guzzle 3 will work with the SDK until they have been tested. So versions of Guzzle 3 that are `3.10.0` and up, if they ever come into existence, are not necessarily valid for use with the SDK. Maybe I should have done `\">=3.7,<3.10\"`. I'm not sure why that didn't occur to me at the time. I'll update it later, since it doesn't particularly matter at the present time.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6556562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8806152", "body": ":shipit:\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8806152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/10211833", "body": "This commit actually made me happier than I would have anticipated.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/10211833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/10402908", "body": ":+1: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/10402908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/11091651", "body": "This sentence needs to be rewritten.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/11091651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/11437723", "body": "Removes ~3.75 MB from the distributable.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/11437723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/18180737", "body": "We had several customers that needed to use SNS validator, but did not need to call any of the AWS APIs, and wanted this to be separate.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/18180737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3474082", "body": "Hmmm... yeah, it probably should be. \"Good eye!\", as my little league coach would say.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3474082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3474659", "body": "Yep, I already changed that one. Running tests.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3474659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3982702", "body": "Maybe a more specific runtime exception like UnexpectedValueException would be better. Also, I think checkIntegrity() would be better returning a boolean value and the download() method should throw the exception. What do you think about that?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/3982702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6701930", "body": "What is the rationalization for removing this section? Is there anything that should be kept or recommended in a different way?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6701930/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6726395", "body": "Makes sense.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6726395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985117", "body": "Actually, I wish we would have had them earlier. It would've made refactoring a lot easier. I would consider them useful to the internals in case we end up changing our iterator spec in the future.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985217", "body": "You are thinking about a future world in which people are exclusively using PHP 5.4+ or PHP 5.5+. The reason you implemented the MapIterator and FilterIterator classes in Guzzle is because, while PHP does have an idiomatic way of decorating iterators, there are no iterators in PHP 5.3 worth using to decorate with to get this behavior. I thought it would be a nice little addon to expose the usefulness of those iterator classes without having to find and import them. Not an altogether important feature, so if you want to object, I'll remove it.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985217/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985680", "body": "> These values are part of a configuration format, meaning they are already part of an external API. Being able to change the name of these keys seems like a weak argument considering that changing the name of these keys is a breaking change that should only be done in the most extreme cases.\n\nGood point there. The changes I made then are technically breaking changes since 3 of the keys changed names. We should probably discuss this a little more to see how we can prevent breaks but still  move forward to adopting the new spec.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985693", "body": "They are chainable, but this is for the Iterator objects, not the Model objects.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985693/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/10956434", "body": "I forget... why is `--prefer-source` a good idea here?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/10956434/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/10957808", "body": "That makes sense. Thanks for clarifying.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/10957808/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502931", "body": "Yeah, I didn't follow that either.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16502931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829289", "body": "iterators...\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829859", "body": "I called this \"threshold\" in the [`S3Client::upload` method](https://github.com/aws/aws-sdk-php/blob/s3transfer/src/S3/S3Client.php#L205). We should probably be consistent, but I don't care what name we use.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829859/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20830172", "body": "I used a different value in [the `S3Client::upload` method](https://github.com/aws/aws-sdk-php/blob/s3transfer/src/S3/S3Client.php#L224). We should probably use the same value.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20830172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20831381", "body": "That seems good.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20831381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20832213", "body": "Got it.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20832213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20833236", "body": "Why 5? Should this be `$this->concurrency`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20833236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20819526", "body": "Yeah, it seems a little faster to use `gettype` at the top and do string comparisons instead of `is_*` checks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20819526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20827265", "body": "We originally had a `formatValue` function. There are places in the API where you only need to provide a single `[TYPE => VALUE]` value. I don't know how valuable it actually it though.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20827265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20827370", "body": "`unmarshalItem` returns associative arrays for maps, but has an option to return `stdClass` instead, which is the most lossless format. The `unmarshalDocument` document calls `unmarshalItem` with that option.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20827370/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829087", "body": "Yeah, this method is necessary to roundtrip JSON documents essentially. If anything, we could make the `[un]marshalValue` methods private.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829087/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829225", "body": "Mostly for things in the `UpdateItem` operation. I think we could probably make this method and it's inverse private though, since I don't think they are as useful.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20829225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20841637", "body": "I'm cool with that. :+1: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/20841637/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21120468", "body": "We should move these constants to the Provider class, since they aren't used in the Credentials class anymore.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21120468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21126516", "body": "It would be better to set `$args['credentials']` to the provider callable than to its result.\n\n```\n$args['credentials'] = Provider::ini($args['profile']);\n```\n\nCurrently, if the provider returns `null` (like if you specify a non-existent profile), then the user gets a cryptic error like\n\n> Uncaught exception 'InvalidArgumentException' with message 'credentials is a required option'\n\nThis happens because the `ClientFactory::handle_credentials` method does not do anything with `null` values, and passes that straight into the client object.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21126516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21129034", "body": "I would be surprised if someone was actually referencing these directly.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21129034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21781409", "body": "??? - These 2 lines shouldn't have changed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/21781409/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22664781", "body": "Why this change?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22664781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22664891", "body": "Are we going to provide any kind of client \"caching\" feature (i.e., `$sdk->getS3() === $sdk->getS3()`) in V3?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22664891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22665426", "body": ":wink:\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22665426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22673489", "body": "Hmmm... there is a potential problem, because `CloudSearchClient::describeDomains` does not include a scheme when you retrieve the endpoint. This is because the endpoints are accessible via http and https, and it is left up to the user to choose. I had the code set up the way it was, because it is likely that the endpoint provided won't include a scheme, especially when using the [`CloudSearchClient::getDomainClient` method](https://github.com/aws/aws-sdk-php/blob/v3/src/CloudSearch/CloudSearchClient.php#L21).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22673489/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22673907", "body": "Sounds good to me!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22673907/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22901602", "body": "Doh! Looks like I forgot about something there...\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22901602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22970333", "body": "You might want to review/update this section a little. :wink: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22970333/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23324483", "body": "Could also do `$this->{\"missing_{$key}\"}($args)`. I usually avoid `call_user_func*` when I can. It doesn't really matter much though, so whatever you prefer is fine.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23324483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23324619", "body": "I almost feel like maybe a `<<<` would be better here. Meh...\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23324619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739986", "body": "Sure.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23739986/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23740057", "body": "Well, you need to be able to change the type and value. Maybe it could return the same type of array that marshalValue returns or null. That might be better.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23740057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23740109", "body": "You would think that, but PHP treats numerical keys as numbers no matter how hard you try to make them strings.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/23740109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24026839", "body": "Well, they are 2 solutions to the same problem. With ignore_invalid, they are simply dropped from the marshaled data. With invalid_handler, you can massage the data (e.g., convert empty strings to null values). I'm not sure I would want to remove one or the other. What do you think?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24026839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777764", "body": "I wasn't sure what to do with this, since there are no instances of providers any more. Any specific ideas?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24777764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24779430", "body": "Ah, nice!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/24779430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27321216", "body": "content-type?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27321216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627147", "body": "Probably. Stupid closure bindings. If I make the closure static (unbound), it should fix that, right?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627295", "body": "Oh wait, it's not storing the closure. It's calling `array_map` and just storing the result.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27627295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27629085", "body": "I use `$this->state->{methodOnUploadState}` everywhere though, so it needs to be an `UploadState`. Maybe I should track the promise that resolves to the `UploadState` in a different variable, private to the `AbstractUploader`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27629085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27629173", "body": "Aborting as a cancel action doesn't make sense. It's a decision you make. For example, you might create a Uploader object for the sole purpose of aborting the upload. That is why I made upload/uploadAsync and abort/abortAsync. Trying to combine them is very weird. I at least chose the same convention as our client objects though, with the async suffix.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27629173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27629200", "body": "13 items. I'll just go head and precompute them.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27629200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915452", "body": "Added to the constructor.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915508", "body": "There is in the `params` option. This is now documented in each concrete MUP.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915525", "body": "Added to the constructor\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27915525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27917110", "body": "It's needed so it can be overridden if the archive is for an account other than the one performing the operations, but I updated the docblock to remove \"required\" and added a clarification.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/27917110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30073786", "body": "It's already there, a few lines down.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30073786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30079300", "body": "Yep. Apparently, I can't read or write.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30079300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30092659", "body": "Yeah, that makes sense. That way, the next block of code throws the exception, which is a more accurate message for that case. I'll update the PR.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30092659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30094054", "body": "Updated.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30094054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30642200", "body": "Not needed because this middleware's sole reason to exist now is to handle bucket endpoints.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/30642200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31686327", "body": "good call\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31686327/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32763707", "body": "Whitespace\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32763707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32763824", "body": "Are you going to replace this with the protocol test?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32763824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32764208", "body": "You could use the [manifest file](https://github.com/aws/aws-sdk-php/blob/master/src/data/manifest.json) for this data. It's best not to repeat it, because we'll forget to update it.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32764208/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32778187", "body": "Gotcha. I'm working on something that will allow you to remove the rest of that array except the EFS region.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32778187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33393869", "body": "Happens a few lines down.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33393869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33404057", "body": "Yep, the changes to this middleware make it so the user can provide the `x-amz-content-sha256` header. The Signature checks for the presence of the header before doing the work to calculate the signature. Setting the header manually is basically on optimization, or in the case of a non-seekable stream, a necessity.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33404057/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33517987", "body": "No worries! We appreciate you taking a look at the PR. :-)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33517987/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35831307", "body": "We used underscores instead of hyphens for other config options.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35831307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35831484", "body": "aws-sdk-php/{version} needs to be the first part.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35831484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34933366", "body": "Feels like cheating. You should at least be able to override the directory in the constructor, IMO.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34933366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36321110", "body": "- Changing `$name` to `$method` doesn't work at all.\n- I don't believe there is a need to remove the `array` typehint.\n- But yes, the `= []` should be removed.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36321110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36555662", "body": "I don't use that function very often, but when you need it, it's just what the doctor ordered.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36555662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37465552", "body": "These types should probably be sorted in some kind of reasonable way.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37465552/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39106941", "body": ":disappointed: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39106941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "skyzyx": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10178857", "body": "> However, what happens in 6 months time when some of my code uses 1.4, some of it uses 2.0, and some of it uses 2.2? Or in a years time when some is using 3.0?\n> \n> You can't (and shouldn't) have to guarantee perfect backwards-compatibility between all future versions.\n\nThe SDK should be viewed as a complete set by itself. Once SDK 2.x has complete support for all services, you should plan to migrate fully, and all of the 2.x code in your project should all come from the same version of the SDK.\n\nSDK 1.x started life in 2005 as a third-party open-source project called Tarzan. That codebase lasted for 7 years, and we expect that the code that we've recently shipped should last us another several years \u2014 even if we eventually version it as 3.0, 4.0, etc.\n\nThe reason why this particular change is so impactful is because of the changes that occurred in the PHP language when 5.3 came out. Switching to namespaces forced us to break everything. From the changes we've seen in 5.4 and in previews of 5.5, we don't see changes of this magnitude having to happen again for a long time.\n\n> What strategy should I use for using SDKs 2.0, 2.1, 2.2, 3.0, 3.1, etc all in the same PHP context side-by-side? Is there anything that can be done upstream (by you) to help?\n\nYou shouldn't. Any SDK code that you use should all be the same version of 1.x or all the same version of 2.x (and possibly 3.x and 4.x). Again, it took us 7 years before we had to go back and do a ground-up rewrite of the code.\n\nInstead of thinking in terms of version numbers, think in terms of generations.\n\n**First Generation:**\n- Tarzan 1.0 (2005)\n- Tarzan 1.1 (2005)\n- Tarzan 2.0 (2008)\n- CloudFusion 2.5 (2010; renamed)\n- AWS SDK for PHP 1.0 (2010; renamed; formerly CloudFusion 3.0)\n- ...\n- AWS SDK for PHP 1.5.15 (2012; equivalent to CloudFusion 3.5.15)\n\n**Second Generation:**\n- AWS SDK for PHP 2.0 (2012; equivalent to Guzzle-based SDK for AWS 1.0)\n- ...\n\nWe currently provide compatibility for jumping between _generations_ of SDK. You should use all the same version of one generation alongside all the same version of the other generation. Even though this _appears_ to be a jump from 1.x to 2.x, you shouldn't necessarily expect the same kinds of changes from our eventual 3.0.\n\nIt would be reasonable to suggest that a future 3.0 release might leverage Traits (new in PHP 5.4; not compatible with 5.3). In this case, _some_ changes might be required, but we anticipate them being _adjustments_ to the existing SDK 2.0 API, instead of being a wholesale rewrite that we're presently experiencing with the move from the older Tarzan/CloudFusion codebase to the new Guzzle-based codebase.\n\nAny time we've been forced to release a breaking change, we've made it a point to call it out **very specifically** in our release notes, change log, API reference documentation, and other update-related documentation. On the off-chance that a minor breaking change has to be made, we will continue to thoroughly document those changes in the places that we think people will look (it's _always_ a good idea to read release notes before upgrading, but we know that some customers don't).\n\nIf you're using Composer to install either SDK (definitely a best practice, and the de-facto successor to PEAR/Pyrus), it would be wise to scope updates down to minor releases (e.g., 1.5._, 2.0._) to make sure that you don't jump up to a new major version (e.g., 1._, 2._) without knowing it (whereas I'm defining version numbers as `<architecture>.<major>.<minor>`, like the Linux kernel, Mac OS X, and Firefox releases before 4.0).\n\nMake sense? :)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10178857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10563845", "body": "Could you submit a pull request and any relevant unit tests for this?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10563845/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12442619", "body": "Apparently this also includes some doc assets that don't impact the code.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12442619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12752344", "body": "Whoa\u2026!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12752344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18596534", "body": "@jeremeamia: I've already implemented something like this in another project, but it's not as _clean_ of an implementation as is ideal. Essentially, you take the key pair `*.pem` file and ping the hostname using the `ssh` shell command in a loop until it connects. Once it's _connectable_, you return `true`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18596534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18597030", "body": "If you were to want to implement it (presumably via a custom Waiter), would you rather rely on the `ssh2_connect()` function exposed by the SSH2 extension, or a pure-PHP implementation such as [phpseclib](https://github.com/phpseclib/phpseclib)? There's nothing in the web service API for this, so it would need to be coded in PHP instead of extending the existing Waiter DSL. Right?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18597030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2415421", "body": "Yay!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2415421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447141", "body": "Should this really be called `Aws\\S3\\Enum\\Event::S3_REDUCED_REDUNDANCY_LOST_OBJECT`?\n\nIt seems we can strip \"S3_\" from the constant name since it's just a namespace in the S3 API itself.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447141/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447257", "body": "`x86_64` and `i386` seem like perfect candidates for Enums (i.e., `X86_64` and `I386`). Perhaps aliased to `64_BIT` and `32_BIT`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447271", "body": "In the Double Rainbow version of the repository, I'd added plain-english versions of some of these constants. They were grouped under STANDARD_, HIGH_MEM_, HIGH_CPU_, HIGH_IO_ and CLUSTER_.\n\nThinking about readability, CLUSTER_GPU_4X (or even CLUSTER_GPU_4XLARGE) reads better than CG1_4XLARGE IMO.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447271/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447337", "body": "Is the intention here to move to supporting multiple versions of a service? Or simply to notate which version we're working with?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447341", "body": "Sexy. Thanks. :)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2447341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/2023247", "body": "Was removing this return intentional?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/2023247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5337386", "body": "Actually, PSR-1 explicitly avoids making recommendations for variable/property names\u2026 only method names.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5337386/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985599", "body": "Allowing `map()` and `filter()` methods which are _chainable_ would be farking awesome.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/8985599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "martinbean": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10348879", "body": "Thanks, @jeremeamia. I tried the wrapping the file name in `fopen()` as per your suggestion, but get the following exception now:\n\n> Validation errors: [Body] must be of type string or object\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10348879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10348983", "body": "Actually, I think I may have solved it: I used `file_get_contents()` instead.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10348983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10349422", "body": "Hi Jeremy. No problem. Thanks for clearing this up for me! Much appreciated. I\u2019m new to this Guzzle :wink: \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10349422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10362302", "body": "Another question: how do I mark a uploaded file as public? I\u2019m reading the API documentation again (http://docs.amazonwebservices.com/aws-sdk-php-2/latest/class-Aws.S3.S3Client.html) but it\u2019s not too clear the expected values. I\u2019m guessing I want to set something for the `ACL` key, but not _what_ to set it as. Sample values would be great if possible?\n\n**EDIT:** Fixed it myself (again)! To mark a file as public, I imported the `Aws\\S3\\Enum\\CannedAcl` class and used the `CannedAcl::PUBLIC_READ` class constant.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10362302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10372056", "body": "Cool. Is there a channel where I can report small things like this that are hard-to-understand or could be better-documented if I come across anything?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10372056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10372342", "body": "No problem.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10372342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10561583", "body": "I\u2019ve decided to use [Uploadify](http://uploadify.com) to upload the file via Flash, but still having difficulties.\n\nWith the new PHP SDK, how do I pass custom fields as policy options to `PostObject`? I have the following in my PHP script:\n\n``` php\n$bucket = (string) $container['misc_config']->images->amazon->bucket;\n$options = array(\n    'acl' => CannedAcl::PUBLIC_READ,\n    'Content-Type' => 'audio/mpeg',\n    'key' => 'audio/a-test-podcast.mp3',\n    'success_action_redirect' => (string) $container['misc_config']->main->base_url . 'upload/success/',\n    'success_action_status' => 201,\n    //array('starts-with', '$key', 'audio/'),\n    //array('starts-with', '$folder', ''),\n    array('starts-with', '$Filename', ''),\n    //array('starts-with', '$\n);\n$postObject = new PostObject($container['amazon_s3'], $bucket, $options);\n```\n\nBut I keep getting the following error in the XML response:\n\n> Invalid Policy: Invalid Condition: unknown operation 'array'.\n\nIf I remove `array('starts-with', '$Filename', '')` from the above code snippet, then I get the following error message:\n\n> Invalid according to Policy: Extra input fields: filename\n\nWhat\u2019s the syntax for adding these additional fields to my policy?\n\n**EDIT:** Found the solution, and I don\u2019t even know how! In my `$options` array, I now have:\n\n``` php\n$options = array(\n    'acl' => CannedAcl::PUBLIC_READ,\n    'Content-Type' => 'audio/mpeg',\n    'key' => 'audio/a-test-podcast.mp3',\n    'success_action_redirect' => (string) $container['misc_config']->main->base_url . 'upload/success/',\n    'success_action_status' => 201,\n    'filename' => '^'\n);\n```\n\nDon\u2019t ask my have I managed to arrive at this solution, since it\u2019s not documented anywhere I don\u2019t think!\n\nAlthough I am now faced with yet another issue. When using a Flash-based uploaded, how can I actually redirect on successful upload? My JavaScript function to instantiate Uploadify looks like this:\n\n``` js\n$('#file_upload').uploadify({\n    'buttonClass': 'button',\n    'buttonText': 'Upload',\n    'formData': <?php echo json_encode($formInputs); ?>,\n    'fileObjName': 'file',\n    'fileTypeExts': '*.mp3',\n    'height': 36,\n    'multi': false,\n    'onUploadError': function(file, errorCode, errorMsg, errorString) {\n        console.log('onUploadError', file, errorCode, errorMsg, errorString);\n    },\n    'onUploadSuccess': function(file, data, response) {\n        console.log('onUploadSuccess', file, data, response);\n    },\n    'swf': '/assets/site/swf/uploadify.swf',\n    'uploader': '<?php echo $uploadPath; ?>',\n    'width': 120\n});\n```\n\nThe content of my success page is logged in the console as the `data` argument, but I\u2019d like to actually _redirect_ to that page, rather than having the response available to me in JavaScript. Is this an issue with Flash, JavaScript, Uploadify, what?\n\nFinally, how can I enforce that only files with an **.mp3** extension are uploaded?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10561583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10630276", "body": "Hi @jeremeamia. Yeah, I feel as though I\u2019m making good progress with it. I\u2019m going to close this as I seem to be pretty much there.\n\nAlso, I was planning on writing a blog post detailing how I used the PHP SDK to get uploads working :wink: \n\nHappy Thanksgiving! Thanks again, Jeremy.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10630276/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/18180595", "body": "@jeremeamia What was the reason for splitting this out into its own repository?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/18180595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/18183905", "body": "@jeremeamia Odd. I would have thought that once some one had validated an SNS message, they\u2019d want to do something \u201cAWS-y\u201d with that message.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/18183905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "dominikgehl": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10374435", "body": "Ok, found out how to make it work:\n\n```\n$rf->create(\n         'GET', \n         $s3->getBaseUrl() . '/' . BUCKET . '/testing123.jpg'\n    )->setClient($s3)\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10374435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10374486", "body": "Would be nice to have a wrapper though which accepted a bucket name, file name and expiration time and would do the above magic behind the scenes ...\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10374486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "digitaldoener": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10566491", "body": "``` php\npublic static function values()\n{\n    $class = get_called_class();\n    if (!isset(Enum::$cache[$class])) {\n        $reflected = new \\ReflectionClass($class);\n        Enum::$cache[$class] = $reflected->getConstants();\n    }\n\n    return static::$cache[$class];\n}\n```\n\nDo not work.\n\nI think this bug report https://bugs.php.net/bug.php?id=53915 (fixed in 5.3.6) should characterize the error. The bug should occur up to php version 5.3.6, too. Since \\Aws\\Common\\Enum.php is an abstract class and every of the listed subclasses (http://docs.amazonwebservices.com/aws-sdk-php-2/latest/class-Aws.Common.Enum.html) inherid from this class the error should effect every where self::[constant] is used.\n\nLike in \n\n``` php\nnamespace Aws\\DynamoDb\\Enum;\n\nuse Aws\\Common\\Enum;\n\nclass Type extends Enum\n{\n    const S  = 'S';\n    const N  = 'N';\n    const B  = 'B';\n\n    const SS = 'SS';\n    const NS = 'NS';\n    const BS = 'BS';\n\n    const STRING     = self::S;\n    const NUMBER     = self::N;\n    const BINARY     = self::B;\n\n    const STRING_SET = self::SS;\n    const NUMBER_SET = self::NS;\n    const BINARY_SET = self::BS;\n}\n```\n\nI use this call to cause the error\n\n``` php\n                Zend_Debug::dump(\\Aws\\DynamoDb\\Enum\\Type::values());\n                $test = array(\n                        'Id' => '10101',\n                        'test' => 10101,\n                );\n                Zend_Debug::dump(\\Aws\\DynamoDb\\Model\\Item::fromArray($test));\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10566491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "semiosis": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10567139", "body": "Still no errors/output with the extra error reporting stuff.\n\nPHP 5.3.10-1ubuntu3.4 with Suhosin-Patch (cli) (built: Sep 12 2012 18:59:41) \n(ubuntu precise with latest updates)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10567139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10568332", "body": "Success!  That worked perfectly.  Thank you so much.  :D\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10568332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10605743", "body": "I should note that I found out this disallowing-phars behavior is a result of my installing the extra php5-suhosin package on top of the basic apache/php packages in ubuntu precise.  on a fresh server without the extra php5-suhosin package the phar works right away, without needing any extra ini file settings.  Here's the php -v output from the two installs, for reference...\n\nubuntu with just libapache2-mod-php5:\n\n```\nPHP 5.3.10-1ubuntu3.4 with Suhosin-Patch (cli) (built: Sep 12 2012 18:59:41) \nCopyright (c) 1997-2012 The PHP Group\nZend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies\n```\n\nubuntu with libapache2-mod-php5 and optional php5-suhosin package:\n\n```\nPHP 5.3.10-1ubuntu3.4 with Suhosin-Patch (cli) (built: Sep 12 2012 18:59:41) \nCopyright (c) 1997-2012 The PHP Group\nZend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies\n    with Suhosin v0.9.33, Copyright (c) 2007-2012, by SektionEins GmbH\n```\n\nwhen the optional php5-suhosin package is installed you need to add the ini directive as mentioned above to load the aws.phar.\n\nthanks again & hth\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10605743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "etiennea": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10572649", "body": "Yes thanks this works great! \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10572649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10929508", "body": "Performance is horrible, it takes more than double the time to connect, I have reverted to the v1\n\n$dynamodb = new AmazonDynamoDB();\n\n// Register the DynamoDB Session Handler.\n$handler = $dynamodb->registerSessionHandler( array(\n    'table_name' => 'my_sessions',\n    'hash_key'             => 'userid',\n    'session_lifetime'     => 0,\n    'consistent_reads'     => true,\n    'session_locking'      => false,\n    'max_lock_wait_time'   => 15,\n    'min_lock_retry_utime' => 5000,\n    'max_lock_retry_utime' => 50000\n    ));\n\nany tip on how to correct this would be appreciated\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10929508/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10936862", "body": "Read Throughput 120\nWrite Throughput 40\n\nstrlen(serialise($_SESSION)) will vary from 40 to max 3000\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10936862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11127965", "body": "The setting is already 64mb and apc is enabled in phpinfo() do I have to do anything special to enable it for the sdk 2 in the old sdk i had set 'default_cache_config' => 'apc' ?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11127965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11139256", "body": "No other frameworks yet just session handler on a fresh beanstalk php 64bit small instance.\n\nFor the script you have above \n\nFor sdk2 I get value 0.1648998260498047 sometime over 0.2\n\nFor sdk1 I get 0.028363943099976 \n\nI have tried this on several instances, perhaps I should update my ami. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11139256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "miccheng": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10607661", "body": "Don't think its officially supported yet. You'll have to fall back to version 1.5.\\* for the moment.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10607661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "isleshocky77": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10641079", "body": "@mtdowling Do you think you could take a look at this thread having to do with multipart upload?\n\nhttps://forums.aws.amazon.com/thread.jspa?messageID=402725&#402725\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10641079/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10670706", "body": "So the uploadPart() is now requiring an `UploadId` and a `PartNumber` which it wasn't doing before; so I think this is a step in the right direction; however, I can't get it to work now. It keeps saying:\n\n```\nThe request signature we calculated does not match the signature you provided. Check your key and signing method.\n```\n\nI get this error even when I se ValidateMD5 to false.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10670706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10671115", "body": "This is my code for doing the Mulitpart Upload manually.\n\n``` php\n        $body = EntityBody::factory(fopen($fullPath, 'r'));\n        $this->log('createMultipartUpload: Start');\n        $response = $s3->createMultipartUpload(array(\n            'Bucket'      => $awsConfig['bucket_name'],\n            'Key'         => $Item->getFilename(),\n            'ContentType' => $Item->getMimetype(),\n            'ACL'         => CannedAcl::PUBLIC_READ,\n        ));\n        $uploadId = $response->getPath('UploadId');\n        $this->log('createMultipartUpload: Finished with id: ' . $uploadId);\n\n        $this->log('uploadPart: Starting');\n        $chunkSize = 5242880;\n        $start     = 0;\n        $part      = 0;\n        $length    = $body->getSize();\n        while($start < $length) {\n            $end = $start + $chunkSize;\n            if($end > $length) {\n                $end = $length;\n            }\n            $body->seek($start);\n            $body->setSize($end);\n            $this->log('Sending part #'. $part . ' containing '.$start.' through '. $end . ' of ' . $length);\n//             try {\n                $response = $s3->uploadPart(array(\n                    'Bucket'      => $awsConfig['bucket_name'],\n                    'Key'         => $Item->getFilename(),\n                    'UploadId'    => $uploadId,\n                    'PartNumber'  => $part,\n                    'Body'        => $body,\n//                     'ContentMD5'  => hash_file('md5', $fullPath),\n                    'ValidateMD5' => false,\n                ));\n                var_dump($response);\n                exit;\n                $eTag = $response->getPath('ETag');\n                $requestId = $response->getPath('RequestId');\n                $this->log('Part Received with Etag: '.$eTag.' and RequestId: ' .$requestId);\n                $part++;\n                $start += $chunkSize;\n//             } catch(Exception $e) {\n//                 $this->log('Part Failed');\n//             }\n        }\n        $this->log('uploadPart: Finished');\n```\n\n## Ouput\n\n```\n>> File      Sample Video: Sample.m4v\ncreateMultipartUpload: Start\ncreateMultipartUpload: Finished with id: fm3eOkQVwB91FGKsbMOSns9W5uB97fgx_iNhE6cMN1GnvAfkfm3AP2JmOHAQ0VwpYqT0.GD5Uo3EgSS.IUbi71tph0_k37bcKpcmpkOuXU6ofbBWhRo.SvkuK9SXaBp6\nuploadPart: Starting\nSending part #0 containing 0 through 4125718 of 4125718\n\n\n  The request signature we calculated does not match the signature you provided. Check your key and signing method.  \n\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10671115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10671147", "body": "I also wanted to let you know I have the Multipart UploadBuidler working; however, I don't know how to be able to add properties (i.e. ContentType and ACL) to it.\n\n``` php\n$batch = \\Aws\\S3\\Model\\MultipartUpload\\UploadBuilder::newInstance()\n   ->setBucket($awsConfig['bucket_name'])\n   ->setKey($Item->getFilename())\n   ->setClient($s3)\n   ->setSource($body)\n   ->build()\n   ->upload()\n   ;\n\n   var_dump($batch);\n```\n\nI thought this was going to be used like the batch in Guzzle like the below sample; however, \"Source\" is required in MultipartUpload\\UploadBuilder\n\nThis is the batch examples from Guzzle.\n\n``` php\n $batch = BatchBuilder::factory()\n   ->transferRequests(10)\n   ->autoFlushAt(10)\n   ->notify(function (array $transferredItems) {\n      echo 'Transferred ' . count($transferredItems) . \"items\\n\";\n      })\n   ->build();\n\n   $this->log('Batch Add: Adding a new command');\n   $batch->add($s3->getCommand('UploadPart', array(\n      'Bucket'      => $awsConfig['bucket_name'],\n      'Key'         => $Item->getFilename(),\n      'Body'        => $body,\n      'ContentMD5'  => hash_file('md5', $fullPath),\n   )));\n   $this->log('Batch Add: Finished');\n   $this->log('Batch Flush: Start');\n   $batch->flush();\n   $this->log('Batch Flush: Finished');\n   exit;\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10671147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10749588", "body": "Yeah. Although I'm still having the issue with the signature error; it appears the double quotes does not effect finding it in the path and I'm able to get it on other returns.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10749588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "jsor": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10669983", "body": "Thanks, will give it a try.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10669983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10991127", "body": "Thanks @jeremeamia, that was exactly what i was looking for. Will close this issue for now, thanks.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/10991127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "peacemoon": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11043339", "body": "it is solved using master branch. Thanks\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11043339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "romainneutron": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11114903", "body": "You're pretty right :)\n\nHere's the end of the log : \n\n```\n# Request:\nPOST /my-object-key-name?uploadId=UgwSKmLtZljNyu5Rcq9xTqccTQnJR7kOdHZEClqSRCcqlgMEdMtX.rcuo6gfrrZGEJTatI1KA5D6N5UkczkaYQ-- HTTP/1.1\nHost: sweet-kittens.s3-eu-west-1.amazonaws.com\nContent-Length: 192\nContent-Type: application/xml\nUser-Agent: aws-sdk-php2/2.0.1 Guzzle/3.0.5 curl/7.28.0 PHP/5.4.8 MUP\nDate: Fri, 07 Dec 2012 01:36:58 +0000\nAuthorization: AWS J2WL4M4DLWWA:8rgETAGPW9+A9w8kUA78W6ESmdE=\n\n<?xml version=\"1.0\"?>\n<MultipartUpload xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Part><PartNumber>1</PartNumber><ETag>\"3f5cdde45f6fd80eecdf8a0f59e6d8f7\"</ETag></Part></MultipartUpload>\n\n\n# Response:\nHTTP/1.1 400 Bad Request\nx-amz-request-id: 0EC7216139D51EA3\nx-amz-id-2: 3S4dwp5i7TQq+noQNIeTFyW02Hkbz9DPMKhw/eCeE2fNhTqdV30KBn/d0h6Mc1/i\nContent-Type: application/xml\nTransfer-Encoding: chunked\nDate: Fri, 07 Dec 2012 01:36:57 GMT\nConnection: close\nServer: AmazonS3\n\n<Error><Code>InvalidPart</Code><Message>One or more of the specified parts could not be found.  The part may not have been uploaded, or the specified entity tag may not match the part's entity tag.</Message><UploadId>UgwSKmLtZljNyu5Rcq9xTqccTQnJR7kOdHZEClqSRCcqlgMEdMtX.rcuo6gfrrZGEJTatI1KA5D6N5UkczkaYQ--</UploadId><ETag>3f5cdde45f6fd80eecdf8a0f59e6d8f7</ETag><RequestId>0EC7216139D51EA3</RequestId><HostId>3S4dwp5i7TQq+noQNIeTFyW02Hkbz9DPMKhw/eCeE2fNhTqdV30KBn/d0h6Mc1/i</HostId><PartNumber>1</PartNumber></Error>\n\n# Errors: 0 \nAn error was encountered while performing a multipart upload: One or more of the specified parts could not be found.  The part may not have been uploaded, or the specified entity tag may not match the part's entity tag.\n# Request:\nDELETE /my-object-key-name?uploadId=UgwSKmLtZljNyu5Rcq9xTqccTQnJR7kOdHZEClqSRCcqlgMEdMtX.rcuo6gfrrZGEJTatI1KA5D6N5UkczkaYQ-- HTTP/1.1\nHost: sweet-kittens.s3-eu-west-1.amazonaws.com\nUser-Agent: aws-sdk-php2/2.0.1 Guzzle/3.0.5 curl/7.28.0 PHP/5.4.8 MUP\nDate: Fri, 07 Dec 2012 01:36:59 +0000\nAuthorization: AWS J2WL4M4DLWWA:DhDBbobxSY7flUkE0BwUp+gi2Vs=\n\n\n\n# Response:\nHTTP/1.1 204 No Content\nx-amz-id-2: OsTiLfo8Lcy1cDYtAnEgNciIL1NjewNb1/jbybIrtdTgp6dbrdFv/+GtD1eLC0G1\nx-amz-request-id: CDF73C4E0D465BFF\nDate: Fri, 07 Dec 2012 01:36:59 GMT\nServer: AmazonS3\n\n\n\n# Errors: 0 \n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11114903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11126965", "body": "I confirm that it solved this issue !\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11126965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "doapp-ryanp": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11596015", "body": "Looks like a good start. I'm not familiar with RST files - idea here your gonna run them through a compiler of somesort and spit out HTML that will be hosted on github pages or something?\n\nWhatever tool you do use, I think it would be pretty valuable to choose one that is easy for people to contribute to - so people like myself who would be willing to contribute can easily send pull requests.\n\nAlso direct contextual (faq.blah#sometopic) linking from the api docs to these docs would be sweet.  That way you just PHPdoc the link when your writing the SDK - then you can link from something like http://docs.amazonwebservices.com/aws-sdk-php-2/latest/class-Aws.DynamoDb.DynamoDbClient.html#_scan to http://newurl.com/service-dynamo.html#scanExample\n\njust my 2c.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11596015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "ralph-tice": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11887102", "body": "is there any reason not to use a github wiki?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11887102/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13324913", "body": "Thanks for the quick response! On a Friday!\n[2] happened 4 times in 4 hours.\nMy sessions are averaging around 4-5kb in size.\nI have my session table provisioned at 80/80 read/write, and on the 5 minute graph I'm peaking at around 3k.  Nobody's been able to explain how the provisioned numbers relate to the 5 minute capacity graphs, though.\nI'm only using this deployment of the SDK for session handling, so I don't think there's any chance of it occurring from any other cause, if you mean am I using DynamoDB for anything besides session handling in this case, I am not.\nI have gc_probability set to zero, so it's not garbage collection related for sure, but I'm not sure if it was a read or a write.  I'm not sure how to trap errors further, should I register a shutdown handler to record a better stack trace than I'm currently getting?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13324913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13342702", "body": "`[client 10.122.59.14] PHP Fatal error:  Uncaught exception 'Guzzle\\\\Http\\\\Exception\\\\CurlException' with message '[curl] 65: necessary data rewind wasn't possible [url] https://dynamodb.us-east-1.amazonaws.com/ [info] array (\n  'url' => 'https://dynamodb.us-east-1.amazonaws.com/',\n  'content_type' => NULL,\n  'http_code' => 0,\n  'header_size' => 0,\n  'request_size' => 534,\n  'filetime' => -1,\n  'ssl_verify_result' => 0,\n  'redirect_count' => 0,\n  'total_time' => 0.002426,\n  'namelookup_time' => 4.5E-5,\n  'connect_time' => 4.9E-5,\n  'pretransfer_time' => 0.00111,\n  'size_upload' => 9620,\n  'size_download' => 0,\n  'speed_download' => 0,\n  'speed_upload' => 3965375,\n  'download_content_length' => -1,\n  'upload_content_length' => -1,\n  'starttransfer_time' => 0.001117,\n  'redirect_time' => 0,\n  'certinfo' =>   array (  ),\n  'redirect_url' => '',\n) [debug] ' in /var/www/dynamodb_session_handler/vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php:561\nStack trace:\n#0 /var/www/dynamodb_session_handler/vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.p in /var/www/dynamodb_session_handler/vendor/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php on line 561`\n\nDidn't do anything different to get this output, so not sure if it's related or not but it looks to be a write to me...?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13342702/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15234022", "body": "Just read through it and looks like you covered it all from the code side, but I think you should include the php.ini changes also.  I don't think you should default to the php.ini gc probability if it's recommended to run it on a cron instead, and I think it's pretty important to run it on a cron instead of the default PHP way so you don't have throughput problems, but instead of changing functionality you could just say set this:\n`session.gc_probability = 0`\nand:\n`auto_prepend_file = /var/www/dynamodb_session_handler/register_sessionhandler.php`\nseem warranted to go over, unless there's a reason not to use auto_prepend.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15234022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15265765", "body": "After reading your comments I think you're both right about auto_prepend_file being pretty environment specific (and not generally a great idea).\n\nNot sure I'm on the same page with the PHP directive -- does ini_set() address your particular concerns?  Default PHP session GC behavior is really bad for a production DynamoDB table if you have lots of sessions created, you'll GC during peak and generally overrun your max throughput or be forced to over-provision.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15265765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15277880", "body": "Yeah, that seems to cover all the bases.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15277880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "claylo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11968641", "body": "You're welcome! Yes, I have the CLA already from @mtdowling. Should I go ahead and send that in for this PR? I've got another one I'm working on for SimpleDb support, but I don't mind sending in two CLAs for them if you're ready to take this PR.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/11968641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "schmittjoh": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12182513", "body": "The size is about 11kb, and it's the same file for both systems.\n\nOn one system (PHP 5.4.9, Ubuntu 12.04), it consistently fails with the above error, on the other system (PHP 5.4.6, Ubuntu 12.10) it consistently works.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12182513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12193912", "body": "It still puzzles me a bit that the uploader works when constructing an in memory source explicitly, do you have an idea why that is?\n\nAnother thought, couldn't the uploader just choose the mechanism that is suitable for the given source?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12193912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13084461", "body": "$url is a URL, i.e. (file://some-path), which can be used with\nfopen/file_get_contents.\n\nThe contents of this URL do not change anymore although they might have\nchanged before calling the upload builder.\n\nOn Fri, Feb 1, 2013 at 1:25 AM, Michael Dowling notifications@github.comwrote:\n\n> What does the variable $url contain? A string that contains a URL (e.g. '\n> http://www.example.com'), a resource returned by fopen('http://example.com',\n> 'r'), an EntityBody object, or the path to a file? If it's the path to a\n> file, is it possible that the file is frequently being changed and fstat\n> cache http://php.net/manual/en/function.clearstatcache.php isn't\n> picking up size changes in the file, thus reporting an erroneous filesize()?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/aws/aws-sdk-php/issues/29#issuecomment-12974403.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13084461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "konradkiss": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12298361", "body": "I did test it. Every attribute had [\"SS\" => value], which I found weird. I traced it to the Attribute::factory call before going with a new Item(...), so I don't have more info on that.\nI'll be happy to dive in deeper tomorrow. It was a simple data array that works great with PutItem otherwise. Regardless, I should get back to you in a few hours about what else I can find.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12298361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12308339", "body": "Jeremy, it looks like I'm not able to reproduce the problem I was having. I'm terribly sorry to have wasted your time. Everything works as designed and Attribute::factory assigns types as expected.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12308339/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "taylorotwell": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12300912", "body": "Cool, thanks. :)\n\nMainly wondering because I want to include a driver into Laravel 4's unified queue API.\n\nOn Jan 15, 2013, at 8:03 PM, Jeremy Lindblom notifications@github.com wrote:\n\n> It sure is, Dr. Laravel. \n> \n> Unfortunately we cannot share any specific roadmaps, but since service coverage is pretty much the top priority for us right now, it hopefully won't be too long.\n> \n> (Sorry about the \"Dr. Laravel\"-thing, but it does have a ring to it.)\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12300912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12301058", "body": "Thanks!\n\nOn Jan 15, 2013, at 8:20 PM, Jeremy Lindblom notifications@github.com wrote:\n\n> Awesome! I'll make sure to ping you when it's available.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12301058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13103407", "body": "Great! Thanks so much!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13103407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "CHH": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12695828", "body": "Thanks for the reply. I'm really looking forward to migrate away from Tarzan Core to the AWS SDK v2!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12695828/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12824103", "body": "Awesome!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12824103/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "sadarby": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12974788", "body": "Thank you so much! My signed url's are working 100% of the time. Your effort is greatly appreciated.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/12974788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "theRealDrumBum": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13098620", "body": "Good catch! It changed the results, but it wasn't why I expected. I changed it to handle a very simple case first:\n\n```\n  'Filters' => array(\n                array(\n                    'Name'   => 'instance-state-name',\n                    'Value'  => 'running'\n                )\n```\n\nAnd didn't get any results..., where without the Filter I get 197 results (mixed with running and stopped states).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13098620/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13104542", "body": "Awesome! Thanks for pointing that out.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13104542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "e-oz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13252049", "body": "Thank you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13252049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "davidtiede": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13253662", "body": "I'm having the same issue, and just downloaded the latest aws.phar file from http://aws.amazon.com/sdkforphp/. The SDK shows version 2.1.0 but the getSignedUrl() doesn't have this commit. Any ETA on when the aws.phar file will be updated?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13253662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13254231", "body": "Okay, thanks. Guess this is a good time to learn about Composer then.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13254231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "poisa": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13469628", "body": "Michael, thanks for your help. I don't mind mocking that method (or using\nanother branch) but I don't see how this will help me. Mind you that my\nunderstanding of the sdk is quite basic and that my first encounter with\nGuzzle was when I popped the hood on the sdk!\n\nOK, so lets say I mock getInstanceProfileCredentials(), how do I get from\nthere to the user-data? Will this solution work offline? (just curious\nabout the offline thing, not that I need it, but I DO need to work with the\nuser-data!)\n\nMuch appreciated!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13469628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13504615", "body": "> You can add an abstraction layer over the client and mock your abstraction layer\n\nI got so obsessed with making the mock work that I completely missed the easiest solution. I will still check the mock plugin out especially since I see myself doing this over pretty soon, but given the deadlines this is by far the fastest solution (and a pretty decent one too). \n\nMichael, thank you so much for your help!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13504615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14131484", "body": "@jeremeamia thanks for your prompt answer. Let me try again because I think I explained myself poorly (which happens quite often).\n\nWhat I mean is. On my endpoint I get something like this:\n\n```\n  \"Type\" : \"Notification\",\n  \"MessageId\" : \"69a0b5a1-9243-5bbd-b243-fc0764a702da\",\n  \"TopicArn\" : \"arn:aws:sns:eu-west-1:594219141893:MyTest\",\n  \"Subject\" : \"My subject\",\n  \"Message\" : \"My message\",\n  \"Timestamp\" : \"2013-02-26T17:45:08.636Z\",\n  \"SignatureVersion\" : \"1\",\n  \"Signature\" : \"<snip>\",\n  \"SigningCertURL\" : \"<snip>\",\n  \"UnsubscribeURL\" : \"<snip>\"\n```\n\nIs there a way to plug this data into the SDK so that I know for certain that this message was posted by Amazon and not sent there by an attacker?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14131484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14139664", "body": "@jeremeamia I've looked at the pages you suggested and I've come up with a working solution. I'd like to take you up on you pull request offer though I'm not familiar with the current SDK so I might make something of a mess. I'll submit my PR when it's ready and I'll let you guide me through if that's ok with you!\n\nSo far I have a main class that does this:\n\n1) Checks that the domain certificate is Amazon's.\n2) Validates the signature depending on what strategy you inject it with. Currently I have two strategies: one for checking Notification messages and another for SubscriptionConfirmation messages. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14139664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14208961", "body": "Jeremy, I have no idea how to unit test something like this where a lot of \"confidential\" data is required. Of course I've manually tested the whole thing but I'd appreciate pointers on how to tackle this.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14208961/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14210623", "body": "Sorry, completely slipped my mind. By the way, if this ever gets merged into the main repo I have no problem in creating some documentation.\n\nHere's a use case: https://gist.github.com/poisa/5053319\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14210623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14262383", "body": "Sounds good! Sent you an email.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14262383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14464055", "body": "Jeremy, I merged your pull request (thank you github for that lovely big-green-iPad-friendly button). My current project is taking a bit more than expected so I can't quite follow this through just yet but will definitely do so asap!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14464055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14690567", "body": "I've added some unit tests for the NotificationMessage class to get 100% code coverage. Let me know if I'm on the right track so that I can do the tests for the SubscriptionConfirmationMessage. \nBy the way, I don't know how to test the MessageValidator class itself so I'm gonna need some help with that.  \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14690567/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14804443", "body": "Jeremy, I've been banging my head with this because I'm using the exact same code in the docs and it's not working for me.\n\nThis does not work:\n\n``` php\nrequire '../vendor/autoload.php';\n\nuse Aws\\S3\\S3Client;\n\n$s3 = S3Client::factory();\n\n$credentials = $s3->getCredentials();\n$credentials->setAccessKeyId('key');\n$credentials->setSecretKey('secret');\n\n// var_dump($s3->getCredentials()); // I can see the proper credentials here\n\n$s3Data = array(\n    'Bucket' => 'bucket',\n    'Key'    => 'image.jpg',\n    'SaveAs' => 'image.jpg',\n);\n\n$s3->getObject($s3Data);\n```\n\nFatal error: Uncaught exception 'Guzzle\\Http\\Exception\\CurlException' with message '[curl] 28: Connection timed out after 1002 milliseconds [url] http://169.254.169.254/latest/meta-data/iam/security-credentials/' in [snip]/Aws/Common/InstanceMetadata/InstanceMetadataClient.php on line 85\n\nGuzzle\\Http\\Exception\\CurlException: [curl] 28: Connection timed out after 1002 milliseconds [url] http://169.254.169.254/latest/meta-data/iam/security-credentials/ in [snip]/guzzle/guzzle/src/Guzzle/Http/Curl/CurlMulti.php on line 578\n\nThis works fine:\n\n``` php\nrequire '../vendor/autoload.php';\n\nuse Aws\\Common\\Aws;\n\n$s3 = Aws::factory(array(\n    'key'    => 'key',\n    'secret' => 'secret',\n))->get('s3');\n\n$s3Data = array(\n    'Bucket' => 'bucket',\n    'Key'    => 'image.jpg',\n    'SaveAs' => 'image.jpg',\n);\n\n$s3->getObject($s3Data);\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14804443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14914516", "body": "Jeremy, setting the credentials' expiration to null worked like a charm. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14914516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "stmpy": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13529836", "body": "I was having this same issue occur on aws-sdk-php version 2.1.0, and found out what others may have been experiencing, also what appears to be occuring in the original bug. \n\nThe issue was that I was not url encoding the filename before requesting the preSignedUrl, once I added the url encoding everything worked peachy.\n\nIn the original description he is url encoding the filename for the $extra variable, but not the filename in the request.\n\nJust incase anyone else happens to run into this w/ the same issue, it isn't w/ aws.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13529836/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "eugenebond": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13581991", "body": "Ops, sorry for that. I've checked my files and I have a mix of old and new files for some reason and my version of  src/Aws/S3/S3Signature.php didn't yet have rawurldecode($request->getPath()) and thus me missing to change that. Anyway, hope you will be able to figure out some easy workaround for PECL case.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13581991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "tdondich": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13752442", "body": "OS: Ubuntu 12.04 LTS\nWeb Server: Apache 2.2.22\nPHP Version: 5.3.10-1ubuntu3.5 (Suhosin Patch 0.9.10)\nSDK Version: Latest Release, AWS PHP SDK 2\n\nYes, running Apache.  No, this is an initial install of AWS SDK.\nApache restarts to manually clear the cache.\n\nWhen using apc.stat=1 , everything works fine.  When using apc.stat=0, things fail horribly.\n\nI believe it has something to do with the autoloader.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13752442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925023", "body": "I've determined that with phar: archives , realpath, which is used by recent versions of APC will not resolve the path. Therefore, any configuraitons with apc.stat=0 will fail and fail _hard_.\n\nI suggest providing an archive version of aws sdk php that is NOT bundled in phar with an OPTIONAL class-loader initialization (you could simply just have the file be the phar stub).  Putting all Vendor and Aws top-level directories also make it easier for people to write their own class loader.  This, for example, is my class loader:\n\n``` php\nspl_autoload_register(function ($class) {\n    @include_once(dirname(__FILE__) . '/lib/' . str_replace('_', DIRECTORY_SEPARATOR, str_replace('\\\\', DIRECTORY_SEPARATOR, $class)) . '.php');\n});\n```\n\nThis classloader avoids relative paths making apc.stat=0 safe and fast.\n\nBecause the new SDK uses a _lot_ of different php files, the stat calls add up.  On high performant sites, we need to provide an alternative to make sure apc.stat=0 functions.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925293", "body": "Actually, Phar's work fine with APC.  The only thing that does NOT, is stat=0.  By not calling this out there is a false sense that the phar can be used in full production environments (which many use stat=0).  It bit me in the buttocks, and I'm sure as more people attempt to adopt v2, it'll hit them as well.\n\nAnd I totally agree, the AWS directory follows PSR-0.  Everything else does as well as LONG as you extract EACH of the dependencies in the correct place (of which they are not in PSR-0 state inside the phar archive.  For example, vendor/symfony/event-dispatcher/Symfony/Component/EventDispatcher is not a valid PSR-0 file path for the \\Symfony\\Component\\EventDispatcher class.  So a little tweaking is required when dealing with the archive.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925293/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925588", "body": "Sure, I could consider using Composer.  As it stands right now, this is a production application with dependencies already baked in. So migrating to Composer would be a process in itself. :) I'm giving a +1 to the adding more to the documentation/installation process to help point this out for those environments which don't have the resources/plan to use Composer and already have their own autoloaders and dependency layout.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925806", "body": "```\n./Aws\n./Guzzle\n./Doctrine\n./Symfony\n./Monolog\n```\n\n(The vendor src dirs have the PSR-0 ready directory there. You'd just raise them top-level).\n\nThis way you create a bundle that is not Composer dependent and doesn't rely on Phar (for those of us that use apc.stat=0).  It'd just be important to create a download that includes all dependencies (at the specifically supported versions).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/13925806/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "tonydspaniard": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14171949", "body": "+1 for this. \n\nThe new SDK is awesome\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14171949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "RamyTalal": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14300109", "body": "I'm having the same issue when uploading an image to S3. I'm using the `putObject` method. I tried `'Body => file_get_contents('thefile')` and `'SourceFile' => '/path/to/the/file.ext'`. \n\nThe issue occurs randomly. \n\n(Running on PHP 5.4.10 and Centos 6)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14300109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14326687", "body": "@mtdowling \n\n```\n2.6.18-308.8.2.el5.028stab101.1 #1 SMP Sun Jun 24 20:25:35 MSD 2012 x86_64 x86_64 x86_64\n\nPHP 5.4.10\n\ncurl 7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.13.1.0 zlib/1.2.3 libidn/1.18 libssh2/1.2.2\nProtocols: tftp ftp telnet dict ldap ldaps http file https ftps scp sftp \nFeatures: GSS-Negotiate IDN IPv6 Largefile NTLM SSL libz\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14326687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mkrinke": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14763928", "body": "@mtdowling that is strange, i can definitly reproduce it using version 2.1.2 (guzzle 3.2.0). However upgrading to 2.2.0 (guzzle 3.3.1) does indeed fix the problem, thank you!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/14763928/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "amenadiel": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15278236", "body": "I've seen no mention for session autostart setting, but at least for me dynamodb sessions just doesn't work,\n\n  I'm pretty happy with elasticache handling my sessions though, so I'm eager to see more sdk sintactyc sugar upcoming related to elasticache, wirh a good drop in replacememt for vanilla memcache drivers.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15278236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "breerly": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312069", "body": "Adding an example call to the guide would be helpful.\n\nSee https://github.com/aws/aws-sdk-php/issues/63\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312502", "body": "Also an example of how to interact with the returned result.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312502/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312712", "body": "Here's a working example of working with the data after it is returned.\n\n```\nvar_dump($results->getPath('Responses/table_name_here/Items'));\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "justinhasoffers": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312553", "body": "@breerly in RequestItems, you need to have your table name be they key to the array of Keys... like in the example of #28\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15312553/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "gonzobrandon": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15818323", "body": "Looks like I had to base64_encode the raw email string\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/15818323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mathewvp": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16093519", "body": "OS - Ubuntu 11.10 running on a VM\nPhp - PHP Version 5.3.22-1~dotdeb.0\n\nRunning php5-fpm with nginx\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16093519/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16094289", "body": "Update: Its working when I disable apc. Btw, are there any sample codes with full implementation?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16094289/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16094714", "body": "Php is run as FastCGI, not cli. I was looking for sample code implementation for sending emails using SES\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16094714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16096715", "body": "Thanks a lot. Closing this issue as #47 is already open regarding apc and sdk\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16096715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "simontaisne": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16331462", "body": ":+1: Yay good job !\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16331462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "joehoyle": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16542180", "body": "Hi @mtdowling \n\nthanks for taking a look! I tried what you suggested (and also added ContentType incase that was needed, but I still can't get it to go through, I am still getting the same error with:\n\n``` PHP\n$s3->putObject(array(\n    'Bucket' => 'my-bucket',\n    'Key'    => 'my-object',\n    'ContentLength' => 1073741824,\n    'ContentType' => 'application/zip',\n    'Body'   => fopen( 'http://ipv4.download.thinkbroadband.com/1GB.zip', 'r' ),\n    'ACL'    => Aws\\S3\\Enum\\CannedAcl::PUBLIC_READ,\n));\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16542180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "tylermenezes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16839646", "body": "This reproduces it for me:\n\n```\n    $aws = Aws::factory('aws-config.json');\n    $s3 = $aws->get('s3');\n    $s3->copyObject([\n                'Bucket' => 'videos.framebase.io',\n                'Key' => 'some/file.mp4',\n                'CopySource' => '/xyzzy.framebase.io/some/file.mp4'\n     ]);\n```\n\nIf I change it to `$s3->putObject(...)`, it works fine.\n\nI'm using the latest version from the official PEAR repo.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16839646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16874765", "body": "I tried the Phar file and the version from the PEAR repo, including the latest version of both. Loaders shouldn't have caused a problem when using the Phar file, since spl_autoload is only called when a class isn't loaded, and everything is loaded at once when using the phar. \n\nCommit 7f4fd58137 fixes the issue.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16874765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "recipe": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16929165", "body": "Solution is to use **POST** requests instead of **GET** with the combination of header  'Content-Type: application/x-www-form-urlencoded; **charset=UTF-8**'\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16929165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16994426", "body": "Thank you!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16994426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "dfedde": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16946028", "body": "wow I feel feel like a retard. thanks for asking if curl_version() worked I guess I forgot to install php5-curl.\nIts all working now.\nthank you. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/16946028/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mattfiocca": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17460636", "body": "Thanks for the quick reply! \n\nThat's useful information and thank you. And, after digging through the v1 API some more, it appears they are doing kind of the same thing you mention about filtering through a list object.\n\n``` php\n// https://github.com/amazonwebservices/aws-sdk-for-php/blob/master/services/s3.class.php\npublic function delete_all_objects($bucket, $pcre = self::PCRE_ALL)\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17460636/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17461290", "body": "I'm not sure if its appropriate to paste this here, but i have a followup question about this. I'm trying this:\n\n``` php\nrequire_once \"aws.phar\";\n\nuse Aws\\S3\\S3Client;\nuse Aws\\S3\\Model\\ClearBucket;\n\n$s3Client = S3Client::factory(array(\n    'key' => AWS_ACCESS_KEY,\n    'secret' => AWS_PRIVATE_KEY\n));\n\n$iterator = $s3Client->getIterator('ListObjects', array(\n    'Bucket' => AWS_FS_BUCKET,\n    'Prefix' => '/myprefix/' // top level pseudo \"folder\" in bucket\n));\n\nforeach($iterator as $i=>$val)\n{\n    print_r($val);\n}\n\n$clear = new ClearBucket($s3Client, AWS_FS_BUCKET);\n\n// Be sure to set the custom iterator to ensure that you only delete keys with the prefix\n$clear->setIterator($iterator);\n\n// Clear out the matching objects using batches in parallel\n$clear->clear();\n```\n\nThis returns no errors, prints nothing in the iterator loop, and doesn't remove my pseudo folder or any items with that prefix in my bucket. Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17461290/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527237", "body": "ah-ha!\n\n``` php\n$iterator = $s3Client->getIterator('ListObjects', array(\n    'Bucket' => AWS_FS_BUCKET,\n    'Prefix' => '/myprefix/' // top level pseudo \"folder\" in bucket\n));\n```\n\nneeds to be\n\n``` php\n$iterator = $s3Client->getIterator('ListObjects', array(\n    'Bucket' => AWS_FS_BUCKET,\n    'Prefix' => 'myprefix/' // top level pseudo \"folder\" in bucket\n));\n```\n\nThe main issue was in the \"/\" as the first character in 'Prefix'. Removing that first slash prefix fixed the issue for me. It was returning 0 results with the slash.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527237/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527356", "body": "spoke too soon. after running the ClearBucket, i'm now getting:\n\n``` php\nNotice: Undefined index: VersionId in phar:///aws.phar/src/Aws/S3/Model/ClearBucket.php on line 167\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527533", "body": "quick response. nice. and works well. \n\nthank you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17527533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "JackMurton": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17504038", "body": "Thank you Michael, that was pretty fast;\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17504038/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "manojtyagi": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17506873", "body": "Is there a way to  make sure the S3 server is reachable/connected ?\nS3Client::factory(...,...)  \nalways returns me the same object.   I am using a script to grab a file via cron job.  \nI want to send an email to myself if the S3 server is not reachable at anytime. \nOne method i am using  is  doesBucketExist  To make sure that the bucket is reachable. \nNot sure if that is the best way to handle this exception.   \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17506873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17507343", "body": "There are  multiple levels :  \n- The network Connectivity \n- The credentials are incorrect  \n  -Bucket doesn't exist  \n\nI am looking the solution for the first two, WITHIN MY SCRIPT.  \nI can check on the command prompt.  My script is working fine and  reading the data from the Bucket. I am willing to add this error handling, to be notified , just in case It fails to connect to the S3 server because of any of those 2 reasons.  \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17507343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17508470", "body": "doesBucketExist()    can be performed after the connection.  \nIn those 2  situations,  The script will break before  connection even.  \n\nBtw, I have registered in the forum , but I didnt find any link/option to post there. I can search though.   \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17508470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17509332", "body": "Thanks  Michael.   This will help me.  \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17509332/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "jamesmoey": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17651268", "body": "Source code reference https://github.com/aws/aws-sdk-php/blob/master/src/Aws/S3/Resources/s3-2006-03-01.php#L3070\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17651268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "tomsmaddox": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17665677", "body": "As a workaround, I've just added the following to my function (and removed the expire & die calls)\n\n```\n        // s3->putObject annoyingly keeps file handles open.\n        // So this unset and garbage collection run is necessary to tidy them up.\n        unset($s3);\n        gc_enable();\n        $this->logger->post(\"GC\", gc_collect_cycles());\n        gc_disable();\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17665677/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17834671", "body": "Hi Jeremy,\n\nYes thanks, your comments were spot on.\n\nGot the tests working by configuring the services.json file and then tested\nthe waiters in my backup scripts and they're a-ok.\n\nThanks for the help, hope this helps others get more similar commits in.\nOn 13 May 2013 19:35, \"Jeremy Lindblom\" notifications@github.com wrote:\n\n> Did you get everything working?\n> \n> \u2014\n> Reply to this email directly or view it on GitHubhttps://github.com/aws/aws-sdk-php/pull/84#issuecomment-17831348\n> .\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17834671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "rickydunlop": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17777420", "body": "I'm using the latest version, with the following code\n\n``` php\n$bucket = 'my_bucket';\n$key = $_GET['name'];\n\n$request = $s3->put(\"{$bucket}/{$key}\", array(\n    'x-amz-acl' => 'public-read',\n    'Content-Type' => $_GET['type']\n));\n$preSignedUrl = $s3->createPresignedUrl($request, '+10 minutes');\n```\n\nI did a little more research and found that I can get it to work if I encode the file name\n\n``` php\n$key = rawurlencode($_GET['name']);\n```\n\nIs there any difference in using putObject() over put()?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/17777420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "snaki4": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18154433", "body": "Hi,\n\nI've tried to change 6827 & 6829 (one by one and both together) - doesn't help.\n\nP.S. version(aws-sdk-php2/2.3.2) from pear has another line numbers, but I have checked that I was inside required \"call\"\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18154433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18167722", "body": "Hi,\n\nThx for the update. Changed line, removed second one, error still present:\n\nError - Aws\\Ec2\\Exception\\Ec2Exception: AWS Error Code: UnknownParameter, Status Code: 400, AWS Request ID: a0677b2c-9b8a-4810-a2f1-e0d6687f354e, AWS Error Type: client, AWS Error Message: The parameter NetworkInterfaceSet is not recognized, User-Agent: aws-sdk-php2/2.3.2 Guzzle/3.4.3 curl/7.22.0 PHP/5.3.10-1ubuntu3.6\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18167722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18177142", "body": "Ok, See there is part of the AWS SDK(with your patch):\n\n<pre>\n                        'NetworkInterfaces' => array(\n                            'type' => 'array',\n                            'sentAs' => 'NetworkInterface',\n                            'items' => array(\n                                'name' => 'NetworkInterfaceSet',\n                                'type' => 'object',\n                                'properties' => array(\n                                    'NetworkInterfaceId' => array(\n                                        'type' => 'string',\n                                    ),\n                                    'DeviceIndex' => array(\n                                        'type' => 'numeric',\n                                    ),\n                                    'SubnetId' => array(\n                                        'type' => 'string',\n                                    ),\n                                    'Description' => array(\n                                        'type' => 'string',\n                                    ),\n                                    'PrivateIpAddress' => array(\n                                        'type' => 'string',\n                                    ),\n                                    'Groups' => array(\n                                        'type' => 'array',\n                                        'sentAs' => 'SecurityGroupId',\n                                        'items' => array(\n                                            'name' => 'SecurityGroupId',\n                                            'type' => 'string',\n                                        ),\n                                    ),\n                                    'DeleteOnTermination' => array(\n                                        'type' => 'boolean',\n                                        'format' => 'boolean-string',\n                                    ),\n                                    'PrivateIpAddresses' => array(\n                                        'type' => 'array',\n                                        'items' => array(\n                                            'name' => 'PrivateIpAddressesSet',\n                                            'type' => 'object',\n                                            'properties' => array(\n                                                'PrivateIpAddress' => array(\n                                                    'required' => true,\n                                                    'type' => 'string',\n                                                ),\n                                                'Primary' => array(\n                                                    'type' => 'boolean',\n</pre>\n\nThat is last result:\n\n<pre>\nArray\n(\n    [SpotPrice] => 1.00\n    [InstanceCount] => 1\n    [Type] => one-time\n    [ValidUntil] => 2013-05-21T03:00:00\n    [LaunchSpecification] => Array\n        (\n            [ImageId] => ami-3c72e855\n            [KeyName] => misha\n            [InstanceType] => c1.medium\n            [Placement] => Array\n                (\n                    [AvailabilityZone] => us-east-1d\n                )\n            [BlockDeviceMappings] => Array\n                (\n                    [Ebs] => Array\n                        (\n                            [DeleteOnTermination] => 1\n                        )\n                )\n            [SubnetId] => subnet-7a7bb610\n            [NetworkInterfaces] => Array\n                (\n                    [0] => Array\n                        (\n                            [SubnetId] => subnet-7a7bb610\n                            [PrivateIpAddresses] => Array\n                                (\n                                    [0] => Array\n                                        (\n                                            [PrivateIpAddress] => 10.91.10.99\n                                        )\n                                )\n                        )\n                )\n            [SecurityGroupIds] => Array\n                (\n                    [0] => sg-4f51a420\n                )\n        )\n)\nError - Aws\\Ec2\\Exception\\Ec2Exception: AWS Error Code: UnknownParameter, Status Code: 400, AWS Request ID: 6bc5436f-6014-4531-b264-c2c3540aef00, AWS Error Type: client, AWS Error Message: The parameter NetworkInterfaceSet is not recognized, User-Agent: aws-sdk-php2/2.3.2 Guzzle/3.4.3 curl/7.22.0 PHP/5.3.10-1ubuntu3.6\n</pre>\n\nThat is part of php file:\n\n<pre>\n#!/usr/bin/php -q\n?php\nrequire \"AWSSDKforPHP/aws.phar\";\n$config=array();\n$config['key'] = '';\n$config['secret'] = '';\n$config['region'] = '';\n$dialer_idx = trim($argv[1]);\n$dialer_priv = trim($argv[2]);\n$dialer_pub = trim($argv[3]);\n$ami_id = trim($argv[4]);\n$cur_now = strtotime(date(\"Y-m-d 23:00:00\"));\n$utc = new DateTime(null, new DateTimeZone('UTC'));\n$utc->setTimestamp($cur_now);\n$valid_until = $utc->format(\"c\");\n$request = array(\n        'SpotPrice'     => '1.00',\n        'InstanceCount' => 1,\n        'Type'          => 'one-time',\n        'ValidUntil'    => $valid_until,\n        'LaunchSpecification'   => array(\n                'ImageId'               => $ami_id,\n                'KeyName'               => 'misha',\n                'InstanceType'  => 'c1.medium',\n                'Placement'     => array(\n                        'AvailabilityZone'      => 'us-east-1d',\n                ),\n                'BlockDeviceMappings'   => array(\n                        'Ebs'   => array(\n                                'DeleteOnTermination'   => 1,\n                        )\n                ),\n                'SubnetId'      => 'subnet-7a7bb610',\n                'NetworkInterfaces'     => array(\n                        array(\n                                'SubnetId'              => 'subnet-7a7bb610',\n                                #'PrivateIpAddress'     => $dialer_priv,\n                                'PrivateIpAddresses'    => array(\n                                        array('PrivateIpAddress'        => $dialer_priv),\n                                )\n                        )\n                ),\n                'SecurityGroupIds'      => array('sg-4f51a420'),\n        )\n);\nprint_r($request);\n//$ec2Client = Ec2Client::factory($config);\nuse Aws\\Common\\Aws;\nuse Aws\\Ec2\\Exception\\Ec2Exception;\n$aws = Aws::factory($config);\n$ec2 = $aws->get(\"ec2\");\ntry\n{\n        $result = $ec2->requestSpotInstances($request);\n        print_r($result);\n}\ncatch (Ec2Exception $e)\n{\n        echo \"Error - $e\";\n}\n?>\n</pre>\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18177142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18192395", "body": "Hi,\n\nYes, I just wake up and got it that I'm using phar and not php file and I need to recompile that file.\n\nEmail sent to you.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18192395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "fabianotessarolo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18371599", "body": "Hello Michael! \n\nI'll change my code!\n\nThank you very much.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18371599/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "iwankgb": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18616923", "body": "It would be great to fix it as it makes unit testing difficult (you can't mock a client).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18616923/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "markdwhite": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18724058", "body": "I'd only just added the library to the project and was initially running with the PHPDepend defaults. The symptom is easily solved by adding an ignore to the ant task for pdepend.\n\nBut I had no idea if there was something untoward that was the cause behind this, which is why I raised it. If it's all as it should be, I think I'm done here.\n\nThanks for the quick response.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/issues/comments/18724058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "supercool27": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2465989", "body": "OK..\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2465989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "stloyd": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2698729", "body": "Typo =) `;` =)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2698729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/3520621", "body": "IMO you should add it to `suggest`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/3520621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/3520664", "body": "Ah, right... I was looking below `require-dev` not above =)))\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/3520664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "gwkunze": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959456", "body": "Instead of turning $mode into an octal string, isn't it simpler to compare with octal integer literals? Something like:\n\n``` php\nif ($mode & 0700 == 0700) {\n    $params['ACL'] = 'public-read';\n} elseif ($mode & 0600 == 0600) {\n    $params['ACL'] = 'authenticated-read';\n} else {\n    $params['ACL'] = 'private';\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959477", "body": "I'm not exactly sure when (if ever) STREAM_MKDIR_RECURSIVE is set since the rmdir php function has not arguments to specify it. But regardless, the fact that if it _is_ set this implementation will disregard any 'Key' parameter and remove the entire bucket:\n\n``` php\nrmdir('s3://my-bucket/some-dir'); // Assuming STREAM_MKDIR_RECURSIVE is set this will remove my-bucket completely\n```\n\nI think this is kind of scary and non-intuitive and it might be better to make this into a slightly less destructive implementation.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959496", "body": "Unless I'm mistaken, the semicolon (and practically any, if not any character) is a legal in a Key value for an S3 Object. By using it as a separator for options I think you're limiting the use of the stream wrapper, in some - to be honest - esoteric situations. So this might be a non-issue. \nOtherwise the only thing I can imagine for these kinds of options if to add them before the key instead of after it, although that might be ugly and non-url-ish.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959506", "body": "Or you could add features like 'seekable' to the stream context options. But that would require changing the stream context option value so that the options that are passed verbatim to the various commands are under some key so other kinds of options like 'seekable' can be stored in there as well.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959540", "body": "I use the S3StreamWrapper so that [Symfony](https://github.com/symfony/symfony) and [Assetic](https://github.com/symfony/AsseticBundle) can install their resources (css, images and javascript) to S3 so the content can be hosted by CloudFront. Since you can only provide a location where it will copy all the resources you can effectively only set a single stream context. This means you can't use the stream context options to set the Content-Type header properly unless you want them to be the same for all your resources (which you don't :) ) \n\nThis is the reason my [implementation](https://github.com/gwkunze/S3StreamWrapper/blob/master/src/S3StreamWrapper/S3StreamWrapper.php#L330) tries to detect the MIME type by looking at the extension of the key. It might be better to use the [FileInfo](http://www.php.net/manual/en/book.fileinfo.php) so file extensions aren't needed.\n\nSo perhaps a feature similar to this, or maybe the ability to add a callback function to the stream context options which can inspect and modify the parameters before an object is written would be nice.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/2959540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "GrahamCampbell": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6516082", "body": "What about `~3.7`?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6516082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6556616", "body": "Sure, thanks. I just assumed that there'd be fewer breaking changes for guzzle 3 now that guzzle 4 has been released. I guess, any breaking change is still breaking though.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6556616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/10956584", "body": "To ensure we don't hit github api limits when downloading dependencies. Using --prefer-dist, which is the composer default means we are hitting the github api on each download. Using --prefer-source doesn't hit the api, it clones the repos we need.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/10956584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22970366", "body": "lol\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/22970366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28623813", "body": "you don't need brackets around `__DIR__`\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28623813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29084019", "body": "?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29084019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29086369", "body": "It tells travis to use the new container architecture which is way faster. Old repos don't have it enabled by default on travis, so you must include it for now if you want the container architecture.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29086369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31217793", "body": "`~5.3||^6.0.1` wouldn't avoid it, and would result in a parse error.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31217793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31217820", "body": "`~5.3||~6.0.1||~6.1` would work fine.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31217820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31218072", "body": "The one you get if you use a really old verion of composer...\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31218072/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31218469", "body": "Well, i can't remember the exact error off the top of my head. If you're interested try it out I guess.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31218469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32469579", "body": "?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32469579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32469793", "body": "Ah right. :)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32469793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33310751", "body": "the `return null;` is uneeded isn't it?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33310751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33617896", "body": "Just a micro-optimization. It's faster not to call emtpy isn't it?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33617896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34204908", "body": "this statement isn't needed\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34204908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34843803", "body": "Using `(double) $value` is faster and is identical in terms of the casting behaviour.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34843803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34843814", "body": "`(int) $value`, etc\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34843814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34843857", "body": "Or rather, `(float) $value`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34843857/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36032456", "body": "cs\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36032456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36321234", "body": ":+1: @jeremeamia \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36321234/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39346464", "body": "result not results\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39346464/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39346901", "body": "there is no test coverage for when is_array returns false\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39346901/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "jonstavis": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6976078", "body": "Is there any way to disable this listener and thus the requirement to use https?  Previously working configuration is now failing with the RuntimeException thrown on line 27.  Is https a requirement for s3 now or is there a way to disable this check? \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/6976078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "craigbartholomew": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/7131972", "body": "I'm having problems deleting a directory, even if it is empty. I noticed you'd changed the 'Prefix' value of the array passed to $client->listObjects. Previously it was:\n\n```\n'Prefix' => $path,\n```\n\nShouldn't the refactored line now be:\n\n```\n'Prefix' => rtrim($path, '/') . '/',\n```\n\nUsing the latest version (2.6.12) it's impossible to delete a directory using rmdir() even if it empty. This is because in the $result there is always a 'Contents' key, even if the directory is empty. Here's an example of the result when I try and delete an empty directory:\n\n```\nGuzzle\\Service\\Resource\\Model Object\n(\n    [structure:protected] => \n    [data:protected] => Array\n        (\n            [Name] => nlcontent-static\n            [Prefix] => bundles/framework/images/\n            [Marker] => \n            [MaxKeys] => 1\n            [IsTruncated] => \n            [Contents] => Array\n                (\n                    [0] => Array\n                        (\n                            [Key] => bundles/framework/images/\n                            [LastModified] => 2014-07-24T11:19:13.000Z\n                            [ETag] => \"d31d8cd98f00b204e9800998ecf8427e\"\n                            [Size] => 0\n                            [Owner] => Array\n                                (\n                                    [ID] => 8d8fac9e83f71a47530b5631b20eee2b2c62dcfad9b424e840f97b1794c2e411\n                                    [DisplayName] => me\n                                )\n                            [StorageClass] => STANDARD\n                        )\n                )\n\n            [RequestId] => 0CB75A893FDG3569\n        )\n)\n```\n\nIf I change your line to my suggestion, here is the result:\n\n```\nGuzzle\\Service\\Resource\\Model Object\n(\n    [structure:protected] => \n    [data:protected] => Array\n        (\n            [Name] => nameloop-static\n            [Prefix] => s3://nlcontent-static/bundles/framework/images/\n            [Marker] => \n            [MaxKeys] => 1\n            [IsTruncated] => \n            [RequestId] => 3E23FA1A13106F03\n        )\n)\n```\n\nSince there is no 'Contents' in the result, the directory is deleted correctly.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/7131972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "ando-masaki": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8492595", "body": "It's not enough to judge as list or map.\nI think following arrays should be judged as map because other languages(Perl, Python, Ruby) are judged them as hash.\n\n```\n$array1 = array(\n  0 => '...',\n  1 => '...',\n  2 => '...',\n  'A' => '...',\n  'B' => '...',\n  'C' => '...',\n);\n$array2 = array(\n  10 => '...',\n  7 => '...',\n  50301 => '...',\n);\n```\n\nI think the keys of lists should be started from 0 and should go incremented by 1.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8492595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "Sazpaimon": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8495800", "body": "I don't know if checking for 0 as the first key is sufficient. An array should be considered a list if it's strictly sequential. I use the following code to check this in various projects:\n\n`array_keys($item) !== range(0, count($item) - 1)`\n\nThis ensures an array with no \"holes\" in it, or any non-numeric keys. Now, you can argue that the following code:\n\n```\n$array = ['foo', 'bar', 'baz', 'qux'];\nunset($array[2]);\n```\n\nShould still be considered a non-associative array. I disagree, though, but I guess that's not my decision to make.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/8495800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "VyaoLucky": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/9093369", "body": "1\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/9093369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "kaihendry": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/16779173", "body": "Be nice if it was a standalone example as there are some nuances for example with the filename. The use case is common, give a way for colleagues to easily upload to S3 through a Web form without an S3 client.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/16779173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "jeskew": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/16779411", "body": "@kaihendry The SDK's post object class is aggregating form fields and signing the provided policy. For the meaning of individual fields (such as the key/filename), [S3's documentation of the subject](http://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html) will always be more comprehensive.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/16779411/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32469766", "body": "This line was meant to exclude a file at the project root named `Config` but was also excluding a folder from the AWS manifests for a service named `config`.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32469766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32473862", "body": "Travis was failing to interpret the manifest file and wasn't testing any new builds.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32473862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32777660", "body": "The tags on the feature files aren't 1-to-1 matches to what's in the manifest file. I removed the exact matches from the latest commit but there's still a sizable config array.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32777660/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32790739", "body": "I'll hold on this PR until #641 is in master.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32790739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32798115", "body": "`\\Aws\\manifest` worked for everything except ElasticLoadBalancing, so I just changed the tag on that feature.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/32798115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33605800", "body": "No reason. Changing to private.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33605800/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33618507", "body": "I only want to generate the hash once per instance.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33618507/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33623080", "body": "Oh, right. I find `empty` to be clearer than an exclamation point when reading code, and using empty avoids the implicit cast to boolean that simply calling `if (!$this->members) {` would entail.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33623080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34067329", "body": "No caching is enabled by default, but the cache promise is at the top of the provider chain so that caches are checked before credentials are instantiated. I agree with another comment you made on this PR that caching should be built into `self::memoize` instead.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34067329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34067460", "body": "Would it make sense to use the access key instead (so that it's not tied to a particular host)?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34067460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34206803", "body": "You're right. I had it in as documentation (to signal that null is the intentional return value for this code path), but the docblock already states that the method can return null.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34206803/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34697622", "body": "I think you actually want this warning to surface. It won't halt script execution and will let you know that you should proactively create this directory to avoid a race condition. (A `post-dump-autoload` call to `Aws\\JsonCompiler::purge()` in your composer file will create the default directory under safe conditions.)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34697622/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35936753", "body": "It can. There's no custom serialization defined, so `serialize` will just capture all object properties. The output is a bit large so I could cut out whatever is unnecessary. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35936753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35991760", "body": "The anonymous functions would not be serialized. The only part of the client that would get serialized would be its config array, and unserializing it would just use that config to call the constructor. \n\nThe other option would be to use a `__wakeup` method instead and have it call `InstanceMetadataClient::factory()`, i.e., mimic what happens when you [create a new RefreshableInstanceProfileCredentials without a client](https://github.com/aws/aws-sdk-php/blob/2.8/src/Aws/Common/Credentials/RefreshableInstanceProfileCredentials.php#L42). (This is what is done by default in [`Credentials::factory()`](https://github.com/aws/aws-sdk-php/blob/2.8/src/Aws/Common/Credentials/RefreshableInstanceProfileCredentials.php#L42).) Doing so would involve fewer changes but would wipe out any custom InstanceMetadataClient, but I'm not sure anyone has ever created or used a custom one of those.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/35991760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37466478", "body": "I didn't notice they used to be in alphabetical order until I read your comment. I see no reason to break with tradition on that.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/37466478/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38668516", "body": "Any chance you could release a 0.0.3? I was going to leave it at master until the next release (but a sha would work just as well).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/38668516/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39106335", "body": "@mtdowling The ambiguous errors will be valid XML, they just won't be the shape expected by the RestXML parser for a copy operation. I exposed the service's error parser to this class and used that instead of SimpleXML, but the copy errors need to be handled separately from list errors, as those will return a 200 and some fraction of a valid XML document (rather than a 200 and the wrong XML document).\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39106335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39109269", "body": "They are separate errors, having nothing in common besides their being error responses with a 200 status code, so they could be caught by separate parsers. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39109269/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39117161", "body": "Unfortunately, SimpleXMLElement will only throw one class of exception: `Exception`. It seemed convenient, as a generic `MalformedResponseParser` could be used with any service, not just S3, but for that to be true I think I would need to define an `Aws\\ParserException` and translate JSON and SimpleXML errors into that.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39117161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39189671", "body": "@mtdowling Renamed to RetryableMalformedResponseParser.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39189671/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39909361", "body": "Absolutely!\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39909361/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39913530", "body": "I'll drop it to 200MB.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39913530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39662157", "body": "That enables fast file linting with `opcache_compile`. Unfortunately, it turns out that you cannot lint code declaring symbols in this way, so I can remove that parameter.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39662157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "MEMBER"}]}, "simoncpu": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/17534603", "body": "I'm glad that this is fixed. We had to revert to an old version because of this. Thanks! =)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/17534603/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "manimani1014": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/17539679", "body": "Thanks, same we were forced to use older version. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/17539679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "freefri": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/21190396", "body": "Check issue  #1198 ", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/21190396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "KnutHelland": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/22671287", "body": "Just wanted to let you know that this is a breaking change for all of us using this driver to connect to a minio.io server. So it was probably not a good idea to release this in a semver patch.", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/comments/22671287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}, "pborreli": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/2023312", "body": "yes, as parent::wait is void\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/2023312/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "bakura10": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332641", "body": "Should be $publicKey for PSR-1\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332641/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332647", "body": "Should be $privateKey for PSR-1\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332651", "body": "Should be $privateDetails\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332651/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332657", "body": "You guessed it... =)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/5332657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "gws": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6200223", "body": "Might `if (PHP_VERSION_ID >= 50400)` work better here? It's designed for comparisons, and version strings can have interesting vendor-specific attributes in them.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6200223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "datibbaw": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6200876", "body": "Seems like a good idea :)\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/6200876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "frankdejonge": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16528382", "body": "This is because of how instance resolving is setup. The class doesn't return a new instance of itself, it passes it's namespace to a resolver. In theory this method could be placed in any other class in the same namespace and it would still resolve to the same instance. So, it is indeed the same class. But it otherwise it should be `self` and not static like the others. Because this setup doesn't allow for extension unless you follow the same FQCN resolving and thus structure.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16528382/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16528597", "body": "@mtdowling the class retuned by that method is neither $this or an instance of the class. It's the $this of another class. I've looked at the other decorators, which all return the current instance ($this) in these cases when overwriting. It's breaking the interface when returning something else.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16528597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16531525", "body": "@mtdowling  I've added the reasoning behind this below the other occurrence.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/16531525/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "deviantintegral": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28608908", "body": "I really don't like this. I'd expected to be able to do at least a 1 second sleep, but on my local it looks like the \"1 second\" cache is valid up to around 1.5 seconds later (and isn't consistent). We could implement our own cache that extends ArrayCache() and implements subsecond cache lifetimes, but that seems bit overkill. Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/28608908/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29501193", "body": "This test was actually returning an unusable URL since expires was null.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/29501193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "hannesvdvreken": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31216911", "body": "I would do [`~5.3||^6.0.1`](http://semver.mwl.be/#?package=guzzlehttp%2Fguzzle&version=~5.3%7C%7C%5E6.0.1) or [`~5.3||~6.0.1||~6.1`](http://semver.mwl.be/#?package=guzzlehttp%2Fguzzle&version=~5.3%7C%7C~6.0.1%7C%7C~6.1) if you want to avoid the caret sign.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31216911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31217976", "body": "what parse error?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31217976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31218367", "body": "what you said is what I said then.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/31218367/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "dstevenson": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33402783", "body": "@jeremeamia The `S3SignatureV4` will always try to set the `x-amz-content-sha256` header to the hash of the request body or POST fields on a `PutObject`. \n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33402783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33405241", "body": "Ah, sorry, didn't see this test was appending the build step not the sign step\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/33405241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34290215", "body": "On the fence about this unit test since it's technically only unit testing native PHP functionality that's outside the scope of the StreamWrapper. Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34290215/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34290274", "body": "This should be safe because PHP natively ensures a rename is issued on the same wrapper.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34290274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34299898", "body": "Actually, I'm beginning to like this now since if we ever forget, or behavior in PHP changes, we'll probably need to modify `rename` accordingly.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34299898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34300100", "body": "Done.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34300100/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "acoulton": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34363078", "body": "This method does the opposite of the previous doc-comment. Stripping trailing / does appear to be important, however, as filesystem paths with trailing / produce unexpected results elsewhere in the class.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34363078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34363250", "body": "It is not clear why this method should ever return an empty string - I can't find anything useful in the git history and there doesn't appear to be test coverage. Since this seems to be causing #653 I've assumed it's safe to remove this behaviour - I have not reviewed to see if this has unexpected results elsewhere.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/34363250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "iam-merlin": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36390827", "body": "oups, my bad. sorry for the parameter rename, indeed ofc.\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/36390827/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "martinssipenko": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39346727", "body": "my bad, fixed now\n", "reactions": {"url": "https://api.github.com/repos/aws/aws-sdk-php/pulls/comments/39346727/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}}}