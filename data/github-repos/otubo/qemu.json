{"_default": {"1": {"pm215": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/281f327487c9c9b1599f93c589a408bbf4a651b8", "message": "Merge remote-tracking branch 'remotes/vivier/tags/m68k-for-2.12-pull-request' into staging\n\n# gpg: Signature made Thu 21 Dec 2017 19:35:00 GMT\n# gpg:                using RSA key 0xF30C38BD3F2FBE3C\n# gpg: Good signature from \"Laurent Vivier <lvivier@redhat.com>\"\n# gpg:                 aka \"Laurent Vivier <laurent@vivier.eu>\"\n# gpg:                 aka \"Laurent Vivier (Red Hat) <lvivier@redhat.com>\"\n# Primary key fingerprint: CD2F 75DD C8E3 A4DC 2E4F  5173 F30C 38BD 3F2F BE3C\n\n* remotes/vivier/tags/m68k-for-2.12-pull-request:\n  tests/boot-serial-test: Add support for the mcf5208evb board\n  target/m68k: fix set_cc_op()\n  target/m68k: add monitor.c\n  target/m68k: remove unused variable gen_throws_exception\n  Split adb.c into adb.c, adb-mouse.c and adb-kbd.c\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/23bafd75cd979ad3a21af10273c5a0c5d67d068b", "message": "Merge remote-tracking branch 'remotes/bonzini/tags/for-upstream' into staging\n\n* NBD and chardev conversion to QIONetListener (Daniel)\n* MTTCG fixes (David)\n* Hyper-V fixes (Roman, Evgeny)\n* share-rw option (Fam)\n* Mux chardev event bugfix (Marc-Andr\u00e9)\n* Add systemd unit files in contrib/ (me)\n* SCSI and block/iscsi.c bugfixes (me, Peter L.)\n* unassigned_mem_ops fixes (Peter M.)\n* VEX decoding fix (Peter M.)\n* \"info pic\" and \"info irq\" improvements (Peter Xu)\n* vmport trace events (Philippe)\n* Braille chardev bugfix (Samuel)\n* Compiler warnings fix (Stefan)\n* initial support for TCG smoke test of more boards (Thomas)\n* New CPU features (Yang)\n* Reduce startup memory usage (Yang)\n* QemuThread race fix (linhecheng)\n\n# gpg: Signature made Thu 21 Dec 2017 08:30:49 GMT\n# gpg:                using RSA key 0xBFFBD25F78C7AE83\n# gpg: Good signature from \"Paolo Bonzini <bonzini@gnu.org>\"\n# gpg:                 aka \"Paolo Bonzini <pbonzini@redhat.com>\"\n# Primary key fingerprint: 46F5 9FBD 57D6 12E7 BFD4  E2F7 7E15 100C CD36 69B1\n#      Subkey fingerprint: F133 3857 4B66 2389 866C  7682 BFFB D25F 78C7 AE83\n\n* remotes/bonzini/tags/for-upstream: (41 commits)\n  chardev: convert the socket server to QIONetListener\n  blockdev: convert qemu-nbd server to QIONetListener\n  blockdev: convert internal NBD server to QIONetListener\n  test: add some chardev mux event tests\n  chardev: fix backend events regression with mux chardev\n  rcu: reduce more than 7MB heap memory by malloc_trim()\n  checkpatch: volatile with a comment or sig_atomic_t is okay\n  i8259: move TYPE_INTERRUPT_STATS_PROVIDER upper\n  kvm-i8259: support \"info pic\" and \"info irq\"\n  i8259: generalize statistics into common code\n  i8259: use DEBUG_IRQ_COUNT always\n  i8259: convert DPRINTFs into trace\n  Remove legacy -no-kvm-pit option\n  scsi: replace hex constants with #defines\n  scsi: provide general-purpose functions to manage sense data\n  hw/i386/vmport: replace fprintf() by trace events or LOG_UNIMP\n  hw/mips/boston: Remove workaround for writes to ROM aborting\n  exec: Don't reuse unassigned_mem_ops for io_mem_rom\n  block/iscsi: only report an iSCSI Failure if we don't handle it gracefully\n  block/iscsi: dont leave allocmap in an invalid state on UNMAP failure\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/c3e7267935f27fe5570faffd1483b33be3258653", "message": "Merge remote-tracking branch 'remotes/famz/tags/staging-pull-request' into staging\n\n# gpg: Signature made Thu 21 Dec 2017 01:51:20 GMT\n# gpg:                using RSA key 0xCA35624C6A9171C6\n# gpg: Good signature from \"Fam Zheng <famz@redhat.com>\"\n# Primary key fingerprint: 5003 7CB7 9706 0F76 F021  AD56 CA35 624C 6A91 71C6\n\n* remotes/famz/tags/staging-pull-request:\n  util: add is_equal to UUID API\n  Revert \"docker: Enable features explicitly in test-full\"\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5fb3d632884cbc113d9d13b1c8b0c5f2a8c7bc0d", "message": "hw/mips/boston: Remove workaround for writes to ROM aborting\n\nNow that the memory system correctly handles writes to ROM for\nguest CPUs that may generate exceptions for decode errors, we\ncan remove the workaround from the boston board.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <1513187549-2435-3-git-send-email-peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/8af36743c26372789b1c92606dd181b2a6d2ad53", "message": "exec: Don't reuse unassigned_mem_ops for io_mem_rom\n\nWe set up the io_mem_rom special memory region using the\nunassigned_mem_ops structure; this is then used when a guest tries to\nwrite to ROM.  This is incorrect, because the behaviour of unassigned\nmemory may be different from that of ROM for writes.  In particular,\non some architectures writing to unassigned memory generates a guest\nexception, whereas writing to ROM is generally ignored.  Use a\nspecial readonly_mem_ops for this purpose instead, so writes to\nROM are ignored for all guest CPUs.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nMessage-Id: <1513187549-2435-2-git-send-email-peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/cfcca361d77142f25fb1128755084cf91faa4db7", "message": "target/i386: Fix handling of VEX prefixes\n\nIn commit e3af7c788b73a6495eb9d94992ef11f6ad6f3c56 we\nreplaced direct calls to to cpu_ld*_code() with calls\nto the x86_ld*_code() wrappers which incorporate an\nadvance of s->pc. Unfortunately we didn't notice that\nin one place the old code was deliberately not incrementing\ns->pc:\n\n@@ -4501,7 +4528,7 @@ static target_ulong disas_insn(DisasContext *s, CPUState *cpu)\n             static const int pp_prefix[4] = {\n                 0, PREFIX_DATA, PREFIX_REPZ, PREFIX_REPNZ\n             };\n-            int vex3, vex2 = cpu_ldub_code(env, s->pc);\n+            int vex3, vex2 = x86_ldub_code(env, s);\n\n             if (!CODE64(s) && (vex2 & 0xc0) != 0xc0) {\n                 /* 4.1.4.6: In 32-bit mode, bits [7:6] must be 11b,\n\nThis meant we were mishandling this set of instructions.\nRemove the manual advance of s->pc for the \"is VEX\" case\n(which is now done by x86_ldub_code()) and instead rewind\nPC in the case where we decide that this isn't really VEX.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nCc: qemu-stable@nongnu.org\nReported-by: Alexandro Sanchez Bach <alexandro@phi.nz>\nMessage-Id: <1513163959-17545-1-git-send-email-peter.maydell@linaro.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/4da5c51cac8363f86ec92dc99c38f9382d617647", "message": "Merge remote-tracking branch 'remotes/armbru/tags/pull-qapi-2017-12-20' into staging\n\nQAPI patches for 2017-12-20\n\n# gpg: Signature made Wed 20 Dec 2017 18:53:28 GMT\n# gpg:                using RSA key 0x3870B400EB918653\n# gpg: Good signature from \"Markus Armbruster <armbru@redhat.com>\"\n# gpg:                 aka \"Markus Armbruster <armbru@pond.sub.org>\"\n# Primary key fingerprint: 354B C8B3 D7EB 2A6B 6867  4E5F 3870 B400 EB91 8653\n\n* remotes/armbru/tags/pull-qapi-2017-12-20:\n  qmp: remove qmp_cpu\n  qapi-docs: fix a comment typo\n  qapi2texi: De-duplicate code to add blank line before symbol\n  qapi: Rename QAPIDoc.parser, .section to ._parser, ._section\n  qapi2texi: Simplify representation of section text\n  qapi: Simplify representation of QAPIDoc section text\n  qapi: Unify representation of doc section without name\n  qapi2texi: Clean up texi_sections()\n  tests/qapi-schema/doc-bad-section: New, factored out of doc-good\n  qapi: Make cur_doc local to QAPISchemaParser.__init__()\n  qapi: Eliminate QAPISchemaParser.__init__()'s local fname\n  qapi: Stop rejecting #optional\n  qapi-schema: Fix query-vm-generation-id's doc comment markup\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/200780a3a3ed067dfb2e0d2210b0ed09e748ba26", "message": "Merge remote-tracking branch 'remotes/armbru/tags/pull-cmdline-2017-12-18-v2' into staging\n\nCommand line patches for 2017-12-18\n\n# gpg: Signature made Wed 20 Dec 2017 08:11:57 GMT\n# gpg:                using RSA key 0x3870B400EB918653\n# gpg: Good signature from \"Markus Armbruster <armbru@redhat.com>\"\n# gpg:                 aka \"Markus Armbruster <armbru@pond.sub.org>\"\n# Primary key fingerprint: 354B C8B3 D7EB 2A6B 6867  4E5F 3870 B400 EB91 8653\n\n* remotes/armbru/tags/pull-cmdline-2017-12-18-v2:\n  option: Drop unused get_param_value(), get_next_param_value()\n  option: Remove shadowing opt decl from qemu_opt_print()\n  qemu-options: Belatedly document --watchdog-action inject-nmi\n  qemu-options: Polish section \"Character device options\"\n  qemu-options: Polish section \"TPM device options\"\n  qemu-options: Add missing -iscsi Texinfo documentation\n  qemu-options: Move -iscsi under \"Block device options\"\n  qemu-options qemu-doc: Move \"Device URL Syntax\" to qemu-doc\n  qemu-options: Fix markup of -netdev l2tpv3\n  qemu-options: Remove stray colons from output of --help\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/f1faf2d59c91a8f1f59a0fc6339154efb749b55d", "message": "Merge remote-tracking branch 'remotes/stefanha/tags/block-pull-request' into staging\n\nPull request\n\nv2:\n * Fixed incorrect virtio_blk_data_plane_create() local_err refactoring in\n   \"hw/block: Use errp directly rather than local_err\" that broke virtio-blk\n   over virtio-mmio [Peter]\n\n# gpg: Signature made Tue 19 Dec 2017 15:08:14 GMT\n# gpg:                using RSA key 0x9CA4ABB381AB73C8\n# gpg: Good signature from \"Stefan Hajnoczi <stefanha@redhat.com>\"\n# gpg:                 aka \"Stefan Hajnoczi <stefanha@gmail.com>\"\n# Primary key fingerprint: 8695 A8BF D3F9 7CDA AC35  775A 9CA4 ABB3 81AB 73C8\n\n* remotes/stefanha/tags/block-pull-request: (23 commits)\n  qemu-iotests: add 203 savevm with IOThreads test\n  iothread: fix iothread_stop() race condition\n  iotests: add VM.add_object()\n  blockdev: add x-blockdev-set-iothread force boolean\n  docs: mark nested AioContext locking as a legacy API\n  block: avoid recursive AioContext acquire in bdrv_inactivate_all()\n  virtio-blk: reject configs with logical block size > physical block size\n  virtio-blk: make queue size configurable\n  qemu-iotests: add 202 external snapshots IOThread test\n  blockdev: add x-blockdev-set-iothread testing command\n  iothread: add iothread_by_id() API\n  block: drop unused BlockDirtyBitmapState->aio_context field\n  block: don't keep AioContext acquired after internal_snapshot_prepare()\n  block: don't keep AioContext acquired after blockdev_backup_prepare()\n  block: don't keep AioContext acquired after drive_backup_prepare()\n  block: don't keep AioContext acquired after external_snapshot_prepare()\n  blockdev: hold AioContext for bdrv_unref() in external_snapshot_clean()\n  qdev: drop unused #include \"sysemu/iothread.h\"\n  dev-storage: Fix the unusual function name\n  hw/block: Use errp directly rather than local_err\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\n\n# Conflicts:\n#\thw/core/qdev-properties-system.c"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/af352675efb7e92a1f5f6461a042a12015ab3d12", "message": "Merge remote-tracking branch 'remotes/aurel/tags/pull-target-sh4-20171218' into staging\n\nQueued target/sh4 patches\n\n# gpg: Signature made Mon 18 Dec 2017 22:36:42 GMT\n# gpg:                using RSA key 0x1388C0F899E8336B\n# gpg: Good signature from \"Aurelien Jarno <aurelien@aurel32.net>\"\n# gpg:                 aka \"Aurelien Jarno <aurelien@jarno.fr>\"\n# gpg:                 aka \"Aurelien Jarno <aurel32@debian.org>\"\n# gpg: WARNING: This key is not certified with sufficiently trusted signatures!\n# gpg:          It is not certain that the signature belongs to the owner.\n# Primary key fingerprint: 7746 2642 A9EF 94FD 0F77  196D BA9C 7806 1DDD 8C9B\n#      Subkey fingerprint: 52BC 8695 BE34 F90A D7D4  0CB8 1388 C0F8 99E8 336B\n\n* remotes/aurel/tags/pull-target-sh4-20171218:\n  target/sh4: Convert to DisasContextBase\n  target/sh4: Do not singlestep after exceptions\n  target/sh4: Convert to DisasJumpType\n  target/sh4: Use cmpxchg for movco when parallel_cpus\n  target/sh4: fix TCG leak during gusa sequence\n  target/sh4: add missing tcg_temp_free() in _decode_opc()\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/03c1c09d56bb242696fa07f9842b3a8f9fbcd46f", "message": "Merge remote-tracking branch 'remotes/cody/tags/block-pull-request' into staging\n\n# gpg: Signature made Mon 18 Dec 2017 21:05:53 GMT\n# gpg:                using RSA key 0xBDBE7B27C0DE3057\n# gpg: Good signature from \"Jeffrey Cody <jcody@redhat.com>\"\n# gpg:                 aka \"Jeffrey Cody <jeff@codyprime.org>\"\n# gpg:                 aka \"Jeffrey Cody <codyprime@gmail.com>\"\n# Primary key fingerprint: 9957 4B4D 3474 90E7 9D98  D624 BDBE 7B27 C0DE 3057\n\n* remotes/cody/tags/block-pull-request:\n  block/curl: fix minor memory leaks\n  block/curl: check error return of curl_global_init()\n  block/sheepdog: code beautification\n  block/sheepdog: remove spurious NULL check\n  blockjob: kick jobs on set-speed\n  backup: use copy_bitmap in incremental backup\n  backup: simplify non-dirty bits progress processing\n  backup: init copy_bitmap from sync_bitmap for incremental\n  backup: move from done_bitmap to copy_bitmap\n  hbitmap: add next_zero function\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/062fcb27c4c1af6902f497ec9316c1c0ead90e81", "message": "Merge remote-tracking branch 'remotes/stefanberger/tags/pull-tpm-2017-12-19-1' into staging\n\nMerge tpm 2017/12/19 v1\n\n# gpg: Signature made Tue 19 Dec 2017 11:51:13 GMT\n# gpg:                using RSA key 0x75AD65802A0B4211\n# gpg: Good signature from \"Stefan Berger <stefanb@linux.vnet.ibm.com>\"\n# gpg: WARNING: This key is not certified with a trusted signature!\n# gpg:          There is no indication that the signature belongs to the owner.\n# Primary key fingerprint: B818 B9CA DF90 89C2 D5CE  C66B 75AD 6580 2A0B 4211\n\n* remotes/stefanberger/tags/pull-tpm-2017-12-19-1:\n  tpm: move qdev_prop_tpm to hw/tpm/\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/46db367db704da87e4beb29db84a0e4978d93235", "message": "Merge remote-tracking branch 'remotes/stefanha/tags/tracing-pull-request' into staging\n\n# gpg: Signature made Mon 18 Dec 2017 14:47:53 GMT\n# gpg:                using RSA key 0x9CA4ABB381AB73C8\n# gpg: Good signature from \"Stefan Hajnoczi <stefanha@redhat.com>\"\n# gpg:                 aka \"Stefan Hajnoczi <stefanha@gmail.com>\"\n# Primary key fingerprint: 8695 A8BF D3F9 7CDA AC35  775A 9CA4 ABB3 81AB 73C8\n\n* remotes/stefanha/tags/tracing-pull-request:\n  gdbstub: add tracing\n  trace: Try using tracefs first\n  trace: Generalize searching for debugfs\n  trace: Simplify find_debugfs()\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/eaefea537b476cb853e2edbdc68e969ec777e4bb", "message": "Merge remote-tracking branch 'remotes/mjt/tags/trivial-patches-fetch' into staging\n\ntrivial patches for 2017-12-18\n\n# gpg: Signature made Mon 18 Dec 2017 14:08:51 GMT\n# gpg:                using RSA key 0x701B4F6B1A693E59\n# gpg: Good signature from \"Michael Tokarev <mjt@tls.msk.ru>\"\n# gpg:                 aka \"Michael Tokarev <mjt@corpit.ru>\"\n# gpg:                 aka \"Michael Tokarev <mjt@debian.org>\"\n# Primary key fingerprint: 6EE1 95D1 886E 8FFB 810D  4324 457C E0A0 8044 65C5\n#      Subkey fingerprint: 7B73 BAD6 8BE7 A2C2 8931  4B22 701B 4F6B 1A69 3E59\n\n* remotes/mjt/tags/trivial-patches-fetch: (60 commits)\n  misc: drop old i386 dependency\n  i386/pc: move vmmouse.c to hw/i386/\n  i386/pc: move vmport.c to hw/i386/\n  hw/misc/pvpanic: extract public API from i386/pc to \"hw/misc/pvpanic.h\"\n  hw/net/ne2000: extract ne2k-isa code from i386/pc to ne2000-isa.c\n  hw/display/vga: extract public API from i386/pc to \"hw/display/vga.h\"\n  hw/display/vga: \"vga_int.h\" requires \"ui/console.h\"\n  hw/display/vga: \"vga.h\" only contains registers defs, rename it \"vga_regs.h\"\n  hw/acpi/ich9: extract ACPI_PM_PROP_TCO_ENABLED from i386/pc\n  hw/acpi: ACPI_PM_* defines are not restricted to i386 arch\n  hw/timer/mc146818: rename rtc_init() -> mc146818_rtc_init()\n  hw/timer/i8254: rename pit_init() -> i8254_pit_init()\n  hw/unicore32: restrict hw addr defines to source file\n  hw/virtio-balloon: remove old i386 dependency\n  hw/tpm: remove old i386 dependency\n  hw/i2c: remove old i386 dependency\n  hw/ipmi: remove old i386 dependency\n  hw/ide: remove old i386 dependency\n  misc: remove old i386 dependency\n  amd_iommu: avoid needless includes in header file\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/4d60b25b371c62bd1a0fad8981d034cd2d3e5385", "message": "accel/tcg/cpu-exec-common.c: Remove unnecessary include of memory-internal.h\n\nThe cpu-exec-common.c file includes memory-internal.h, but it doesn't\nactually use anything from that header. Remove the unnecessary include.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nTested-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/411ad78115ebeb3411cf4b7622784b93dfabe259", "message": "Merge remote-tracking branch 'remotes/stefanberger/tags/pull-tpm-2017-12-15-1' into staging\n\nMerge tpm 2017/12/15 v1\n\n# gpg: Signature made Fri 15 Dec 2017 04:44:15 GMT\n# gpg:                using RSA key 0x75AD65802A0B4211\n# gpg: Good signature from \"Stefan Berger <stefanb@linux.vnet.ibm.com>\"\n# gpg: WARNING: This key is not certified with a trusted signature!\n# gpg:          There is no indication that the signature belongs to the owner.\n# Primary key fingerprint: B818 B9CA DF90 89C2 D5CE  C66B 75AD 6580 2A0B 4211\n\n* remotes/stefanberger/tags/pull-tpm-2017-12-15-1: (32 commits)\n  tpm: tpm_passthrough: Fail startup if FE buffer size < BE buffer size\n  tpm: tpm_emulator: get and set buffer size of device\n  tpm: tpm_passthrough: Read the buffer size from the host device\n  tpm: pull tpm_util_request() out of tpm_util_test()\n  tpm: Move getting TPM buffer size to backends\n  tpm: remove tpm_register_model()\n  tpm-tis: use DEFINE_PROP_TPMBE\n  qdev: add DEFINE_PROP_TPMBE\n  tpm-tis: check that at most one TPM device exists\n  tpm-tis: remove redundant 'tpm_tis:' in error messages\n  tpm-emulator: add a FIXME comment about blocking cancel\n  acpi: change TPM TIS data conditions\n  tpm: add tpm_cmd_get_size() to tpm_util\n  tpm: add TPM interface to lookup TPM version\n  tpm: lookup the the TPM interface instead of TIS device\n  tpm: rename qemu_find_tpm() -> qemu_find_tpm_be()\n  tpm-tis: simplify header inclusion\n  tpm-passthrough: workaround a possible race\n  tpm-passthrough: simplify create()\n  tpm-passthrough: make it safer to destroy after creation\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/38d1b31e0501f938db39c5b2e508328530410246", "message": "Merge remote-tracking branch 'remotes/berrange/tags/pull-qio-201712151' into staging\n\nMerge qio 2017/12/15 v1\n\n# gpg: Signature made Fri 15 Dec 2017 15:07:34 GMT\n# gpg:                using RSA key 0xBE86EBB415104FDF\n# gpg: Good signature from \"Daniel P. Berrange <dan@berrange.com>\"\n# gpg:                 aka \"Daniel P. Berrange <berrange@redhat.com>\"\n# Primary key fingerprint: DAF3 A6FD B26B 6291 2D0E  8E3F BE86 EBB4 1510 4FDF\n\n* remotes/berrange/tags/pull-qio-201712151:\n  io: introduce a network socket listener API\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/57d1f6d7ce23e79a8ebe4a57bd2363b269b4664b", "message": "sparc: Make sure we mmap at SHMLBA alignment\n\nSPARC Linux has an oddity that it insists that mmap()\nof MAP_FIXED memory must be at an alignment defined by\nSHMLBA, which is more aligned than the page size\n(typically, SHMLBA alignment is to 16K, and pages are 8K).\nThis is a relic of ancient hardware that had cache\naliasing constraints, but even on modern hardware the\nkernel still insists on the alignment.\n\nTo ensure that we get mmap() alignment sufficient to\nmake the kernel happy, change QEMU_VMALLOC_ALIGN,\nqemu_fd_getpagesize() and qemu_mempath_getpagesize()\nto use the maximum of getpagesize() and SHMLBA.\n\nIn particular, this allows 'make check' to pass on Sparc:\nwe were previously failing the ivshmem tests.\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-id: 1512752248-17857-1-git-send-email-peter.maydell@linaro.org"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/a7cf5391a4a13eb63ec3b2da95cc33a762649d80", "message": "Merge remote-tracking branch 'remotes/cohuck/tags/s390x-20171215-v2' into staging\n\ns390x changes for 2.12:\n- Lots of tcg improvements: ccw hotplug is now working and we can run\n  a Linux kernel built for z12 under tcg\n- zPCI improvements to get virtio-pci working\n- get rid of the cssid restrictions for virtual and non-virtual channel\n  devices\n- we now support 8TB+ systems\n- 2.12 compat machine\n- fixes and cleanups\n\n# gpg: Signature made Fri 15 Dec 2017 10:57:01 GMT\n# gpg:                using RSA key 0xDECF6B93C6F02FAF\n# gpg: Good signature from \"Cornelia Huck <conny@cornelia-huck.de>\"\n# gpg:                 aka \"Cornelia Huck <huckc@linux.vnet.ibm.com>\"\n# gpg:                 aka \"Cornelia Huck <cornelia.huck@de.ibm.com>\"\n# gpg:                 aka \"Cornelia Huck <cohuck@kernel.org>\"\n# gpg:                 aka \"Cornelia Huck <cohuck@redhat.com>\"\n# Primary key fingerprint: C3D0 D66D C362 4FF6 A8C0  18CE DECF 6B93 C6F0 2FAF\n\n* remotes/cohuck/tags/s390x-20171215-v2: (46 commits)\n  s390-ccw-virtio: allow for systems larger that 7.999TB\n  s390x: change the QEMU cpu model to a stripped down z12\n  s390x/tcg: we already implement the Set-Program-Parameter facility\n  s390x/tcg: implement extract-CPU-time facility\n  s390x/tcg: Implement SIGNAL ADAPTER instruction\n  s390x/tcg: Implement STORE CHANNEL PATH STATUS\n  s390x/tcg: wire up SET CHANNEL MONITOR\n  s390x/tcg: wire up SET ADDRESS LIMIT\n  s390x/tcg: implement Interlocked-Access Facility 2\n  s390x/tcg: ASI/ASGI/ALSI/ALSGI are atomic with Interlocked-acccess facility 1\n  s390x/tcg: wire up STORE CHANNEL REPORT WORD\n  s390x/tcg: indicate value of TODPR in STCKE\n  s390x/tcg: implement SET CLOCK PROGRAMMABLE FIELD\n  s390x/tcg: fix and cleanup mcck injection\n  s390x/kvm: factor out build_channel_report_mcic() into cpu.h\n  s390x/css: attach css bridge\n  s390x: deprecate s390-squash-mcss machine prop\n  s390x/css: unrestrict cssids\n  s390x/pci: search for subregion inside the BARs\n  s390x/pci: move the memory region write from pcistg\n  ...\n\n# Conflicts:\n#\tinclude/hw/compat.h\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/96a6298889d6de688bc076f5f223b73297f85462", "message": "Merge remote-tracking branch 'remotes/dgibson/tags/ppc-for-2.12-20171215' into staging\n\nppc patch queue 2017-12-15\n\nFirst pull request for qemu-2.12.  This has quite a bit of stuff\naccumulated while 2.11 was finalizing.  Highlights are:\n\n  * Some preliminary work towards implementing the \"XIVE\" POWER9\n    interrupt controller\n  * Some fixes for problems during reboot with MTTCG\n  * A substantial TCG performance improvement via\n    tcg_get_lookup_and_goto_ptr\n  * Numerous assorted cleanups and bugfixes that weren't urgent enough\n    for 2.11\n\n# gpg: Signature made Fri 15 Dec 2017 03:14:12 GMT\n# gpg:                using RSA key 0x6C38CACA20D9B392\n# gpg: Good signature from \"David Gibson <david@gibson.dropbear.id.au>\"\n# gpg:                 aka \"David Gibson (Red Hat) <dgibson@redhat.com>\"\n# gpg:                 aka \"David Gibson (ozlabs.org) <dgibson@ozlabs.org>\"\n# gpg:                 aka \"David Gibson (kernel.org) <dwg@kernel.org>\"\n# Primary key fingerprint: 75F4 6586 AE61 A66C C44E  87DC 6C38 CACA 20D9 B392\n\n* remotes/dgibson/tags/ppc-for-2.12-20171215: (24 commits)\n  spapr: don't initialize PATB entry if max-cpu-compat < power9\n  spapr: Assume msi_nonbroken\n  spapr: Rename machine init functions for clarity\n  target/ppc: introduce the PPC_BIT() macro\n  spapr_events: drop bogus cell from \"interrupt-ranges\" property\n  spapr: fix LSI interrupt specifiers in the device tree\n  spapr: replace numa_get_node() with lookup in pc-dimm list\n  spapr: introduce a spapr_qirq() helper\n  spapr: introduce a spapr_irq_set_lsi() helper\n  spapr: move the IRQ allocation routines under the machine\n  ppc/xics: assign of the CPU 'intc' pointer under the core\n  ppc/xics: introduce an icp_create() helper\n  spapr/rtas: do not reset the MSR in stop-self command\n  spapr/rtas: fix reboot of a a SMP TCG guest\n  spapr/rtas: disable the decrementer interrupt when a CPU is unplugged\n  e500: fix pci host bridge class/type\n  openpic: debug w/ info_report()\n  pcc: define the Power-saving mode Exit Cause Enable bits in PowerPCCPUClass\n  nvram: add AT24Cx i2c eeprom\n  e500: name openpic and pci host bridge\n  ...\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1c3b51a796a8eacfa5dfc840f0d8b736246167d4", "message": "Merge remote-tracking branch 'remotes/sstabellini/tags/xen-20171214-tag' into staging\n\nXen 2017/12/14\n\n# gpg: Signature made Fri 15 Dec 2017 00:26:26 GMT\n# gpg:                using RSA key 0x894F8F4870E1AE90\n# gpg: Good signature from \"Stefano Stabellini <stefano.stabellini@eu.citrix.com>\"\n# gpg:                 aka \"Stefano Stabellini <sstabellini@kernel.org>\"\n# Primary key fingerprint: D04E 33AB A51F 67BA 07D3  0AEA 894F 8F48 70E1 AE90\n\n* remotes/sstabellini/tags/xen-20171214-tag:\n  xen/pt: Set is_express to avoid out-of-bounds write\n  xenfb: activate input handlers for raw pointer devices\n  xenfb: Add [feature|request]-raw-pointer\n  xenfb: Use Input Handlers directly\n  ui: generate qcode to linux mappings\n  xen-disk: use an IOThread per instance\n\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "vivier": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/43ab9a5376c95c61ae898a222c4d04bdf60e239b", "message": "hw/i386/vmport: fix missing definitions with non-log trace backends\n\nWhen compiled with anything other than the 'log' trace backend, we have:\n\n   error: implicit declaration of function 'qemu_log_mask'\n   error: 'LOG_UNIMP' undeclared (first use in this function)\n\nThis patch adds the missing include.\n\nFixes: 7299e1a411\n       (\"hw/i386/vmport: replace fprintf() by trace events or LOG_UNIMP\")\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nMessage-id: 20171221211103.30311-1-laurent@vivier.eu\n[PMM: fixed commit message description of when problem occurs]\nSigned-off-by: Peter Maydell <peter.maydell@linaro.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/7deddf96e94f3e1eb3677db0ea7b53e61751b544", "message": "target/m68k: fix set_cc_op()\n\nThe first call of set_cc_op() in a new translation sequence\nis done with old_op set to CC_OP_DYNAMIC (-1).\n\nThis will do an out of bound access to the array cc_op_live[].\n\nWe fix that by adding an entry in cc_op_live[] for CC_OP_DYNAMIC.\n\nReported-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nMessage-Id: <20171221160558.14151-1-laurent@vivier.eu>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/cea066821c75a533536bcbc6d79db07f2e0432f4", "message": "target/m68k: add monitor.c\n\nThis allows to use registers content in the monitor.\n\nExample:\n\n BEFORE:\n  (qemu) print $d0\n  unknown register\n\n AFTER:\n  (qemu) print $d0\n  0\n  (qemu) print $sr\n  0x2000\n  (qemu) x/10i $pc\n  0x40010a2a:  movew %sr,%d0\n  0x40010a2c:  oril #1792,%d0\n  0x40010a32:  movew %d0,%sr\n  0x40010a34:  movel %a0@,%d0\n  0x40010a36:  btst #3,%d0\n  0x40010a3a:  beqs 0x40010a26\n  0x40010a3c:  movew %sr,%d0\n  0x40010a3e:  andil #63743,%d0\n  0x40010a44:  movew %d0,%sr\n  0x40010a46:  rts\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <huth@tuxfamily.org>\nMessage-Id: <20171221083057.17942-1-laurent@vivier.eu>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5f63f6ab50b7c70bb8af8e0bd515ea14129c7aaa", "message": "target/m68k: remove unused variable gen_throws_exception\n\nIt has been introduced by e6e5906b6e (\"ColdFire target.\"),\nbut the content is never used.\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <huth@tuxfamily.org>\nMessage-Id: <20171220130815.20708-1-laurent@vivier.eu>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/77cb0f5aafc8e6d0c6d3c339f381c9b7921648e0", "message": "Split adb.c into adb.c, adb-mouse.c and adb-kbd.c\n\nIt makes the code clearer to separate the bus implementation\nfrom the devices one.\n\nReplace ADB_DPRINTF() with trace events (and adding new ones in adb-kbd.c).\nSome minor changes to make checkpatch.pl happy.\n\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Mark Cave-Ayland <mark.cave-ayland@ilande.co.uk>\nMessage-Id: <20171220121406.24056-1-laurent@vivier.eu>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1481fe5fcfeb7fcf3c1ebb9d8c0432e3e0188ccf", "message": "spapr: don't initialize PATB entry if max-cpu-compat < power9\n\nif KVM is enabled and KVM capabilities MMU radix is available,\nthe partition table entry (patb_entry) for the radix mode is\ninitialized by default in ppc_spapr_reset().\n\nIt's a problem if we want to migrate the guest to a POWER8 host\nwhile the kernel is not started to set the value to the one\nexpected for a POWER8 CPU.\n\nThe \"-machine max-cpu-compat=power8\" should allow to migrate\na POWER9 KVM host to a POWER8 KVM host, but because patb_entry\nis set, the destination QEMU tries to enable radix mode on the\nPOWER8 host. This fails and cancels the migration:\n\n    Process table config unsupported by the host\n    error while loading state for instance 0x0 of device 'spapr'\n    load of migration failed: Invalid argument\n\nThis patch doesn't set the PATB entry if the user provides\na CPU compatibility mode that doesn't support radix mode.\n\nSigned-off-by: Laurent Vivier <lvivier@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "huth": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/598a29f3606c4c7042a1ca3f1116663d0a60867c", "message": "tests/boot-serial-test: Add support for the mcf5208evb board\n\nWe can output a character quite easily here with some few lines of\nassembly that we provide as a mini-kernel for this board.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1512031988-32490-4-git-send-email-thuth@redhat.com>\n[lv: add boot-serial-test in check-qtest-m68k]\nSigned-off-by: Laurent Vivier <laurent@vivier.eu>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ed57c757961d4518717502f908373331cb48f261", "message": "Remove legacy -no-kvm-pit option\n\nIt's only printing a warning since QEMU v1.3.0, so nobody should use\nthis anymore today. Let's get rid of this now.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1513619065-31722-1-git-send-email-thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/7ce32f3005afef1feb6f6cd3a7e4f36a3ff300ab", "message": "hw/moxie/moxiesim: Add support for loading a BIOS on moxiesim\n\nThe moxiesim machine already defines a memory region for a firmware,\nbut does not provide the possibility to load an image via \"-bios\" yet.\nThis will be needed for the boot-serial tester, so let's add support\nfor \"-bios\" here now.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1512031988-32490-6-git-send-email-thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e12c08d3b67c4f4e5a16ee815188fc13632530ce", "message": "tests/boot-serial-test: Add code to allow to specify our own kernel or bios\n\nQEMU only ships with some few firmware images, i.e. we can currently run\nthe boot-serial test only on a very limited set of machines. But writing\nsome characters to the default UART of a machine can often be done with\nsome few lines of assembly, so we add the possibility to the boot-serial\ntester to use its own mini-kernels or mini-firmwares. We write such images\nthen into a file that we can load with the \"-kernel\" or \"-bios\" parameter\nwhen we launch QEMU.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1512031988-32490-3-git-send-email-thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/92b540dac9fc3a572c7342edd0b073000f5a6abf", "message": "tests/boot-serial-test: Make sure that we check the timeout regularly\n\nIf the guest continuesly writes characters to the UART, we never leave\nthe inner while loop and thus never check whether we've reached the\ntimeout value. So if we fail to find the expected string in the UART\noutput, the test just hangs and never finishs. Use a counter to regularly\nbreak out of the while loop to check the timeout.\n\nSigned-off-by: Thomas Huth <thuth@redhat.com>\nMessage-Id: <1512031988-32490-2-git-send-email-thuth@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "berrange": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/194b7f0d448361dd58d2f7f189147cf075988255", "message": "chardev: convert the socket server to QIONetListener\n\nInstead of creating a QIOChannelSocket directly for the chardev\nserver socket, use a QIONetListener. This provides the ability\nto listen on multiple sockets at the same time, so enables\nfull support for IPv4/IPv6 dual stack.\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nMessage-Id: <20171218135417.28301-2-berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e4849c1d7cd4472ff4e747a6bcc1994a6e370307", "message": "blockdev: convert qemu-nbd server to QIONetListener\n\nInstead of creating a QIOChannelSocket directly for the NBD\nserver socket, use a QIONetListener. This provides the ability\nto listen on multiple sockets at the same time, so enables\nfull support for IPv4/IPv6 dual stack. This also means we can\nhonour multiple FDs received during socket activation.\n\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nMessage-Id: <20171218101643.20360-3-berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/862172f45c38fb6c446cc8db8c9a3f5a9be1dee7", "message": "blockdev: convert internal NBD server to QIONetListener\n\nInstead of creating a QIOChannelSocket directly for the NBD\nserver socket, use a QIONetListener. This provides the ability\nto listen on multiple sockets at the same time, so enables\nfull support for IPv4/IPv6 dual stack.\n\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nMessage-Id: <20171218101643.20360-2-berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/62473511ecbabdf737ba9053845e3551099b04bc", "message": "sockets: remove obsolete code that updated listen address\n\nWhen listening on unix/tcp sockets there was optional code that would update\nthe original SocketAddress struct with the info about the actual address that\nwas listened on. Since the conversion of everything to QIOChannelSocket, no\nremaining caller made use of this feature. It has been replaced with the ability\nto query the listen address after the fact using the function\nqio_channel_socket_get_local_address. This is a better model when the input\naddress can result in listening on multiple distinct sockets.\n\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>\nReviewed-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171212111219.32601-1-berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/530473924d57fd26ba9779c8702574db4df829d3", "message": "io: introduce a network socket listener API\n\nThe existing QIOChannelSocket class provides the ability to\nlisten on a single socket at a time. This patch introduces\na QIONetListener class that provides a higher level API\nconcept around listening for network services, allowing\nfor listening on multiple sockets.\n\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Daniel P. Berrange <berrange@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "elmarco": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/d45f80ba82f281a35168011125cf6664cd217c22", "message": "test: add some chardev mux event tests\n\nCheck the expected behaviour of qemu_chr_be_event() on a mux chardev.\n\nFor some reason, sending the event on the base chardev broadcast to\nall frontends, while sending it on the mux chardev itself should\ntrigger the event on the currently focused chardev frontend.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20171103152824.21948-3-marcandre.lureau@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d09c4a47874f30820b08c39ad39bcca9b8cde084", "message": "chardev: fix backend events regression with mux chardev\n\nKirill noticied that on recent versions on QEMU he was not able to\ntrigger SysRq to invoke debug capabilites of Linux Kernel.  He tracked\nit down to qemu_chr_be_event() ignoring CHR_EVENT_BREAK due s->be\nbeing NULL. The bug was introduced in 2.8, commit a4afa548fc6d (\"char:\nmove front end handlers in CharBackend\"). Since the commit, the\nqemu_chr_be_event() failed to deliver CHR_EVENT_BREAK due to\nqemu_chr_fe_init() does not set s->be in case of mux.\n\nLet's fix this by teaching mux to send an event to the frontend with\nthe focus.\n\nReported-by: Kirill A. Shutemov <kirill.shutemov@linux.intel.com>\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nFixes: a4afa548fc6d (\"char: move front end handlers in CharBackend\")\nMessage-Id: <20171103152824.21948-2-marcandre.lureau@redhat.com>\nTested-by: Kirill A. Shutemov <kirill.shutemov@linux.intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/6b012d2311e5ba0a952c2dcfe4327a73353c9fdb", "message": "checkpatch: volatile with a comment or sig_atomic_t is okay\n\nThis assumes that the comment gives some justification;\n\"volatile sig_atomic_t\" is also self-explanatory and usually\ncorrect.\n\nDiscussed in:\n'[Qemu-devel] [PATCH] dump-guest-memory.py: fix \"You can't do that without a process to debug\"'\n\nSuggested-by: Fam Zheng <famz@redhat.com>\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nMessage-Id: <20171215181810.4122-1-marcandre.lureau@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e2fbe20851ceec5ccd7b539a89db0420393fb85d", "message": "memory: remove unused memory_region_set_global_locking()\n\nThis was never used since its introduction in commit\n196ea13104f8 (\"memory: Add global-locking property to memory\nregions\").\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/67eb7f4884f7fbb513ae02ced6e4ac7157b9d33f", "message": ".gitignore: remove vscclient\n\nIt was removed with libcacard, since:\n\ncommit 7b02f5447c64d1854468f758398c9f6fe9e5721f\nAuthor: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nDate:   Sun Aug 30 11:48:40 2015 +0200\n\n    libcacard: use the standalone project\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d3fd953f06700ebe2d15825d4399f7cd3e31af34", "message": "tpm: remove tpm_register_model()\n\nQuery object classes that implements TPMIf instead.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/c03785440d1d949cad6fa515e456479c2ec9b212", "message": "tpm-tis: use DEFINE_PROP_TPMBE\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/493b78303532146c8161b33e878db8af7dca3b81", "message": "qdev: add DEFINE_PROP_TPMBE\n\nA property to lookup a tpm backend.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/51a837e908d6f4bbe94469a4a0edcb76348fe964", "message": "tpm-tis: check that at most one TPM device exists\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/c87b35fa71833ec4c34fb4a85f03c47028c44d0e", "message": "tpm-tis: remove redundant 'tpm_tis:' in error messages\n\nThe reported error message is already prefixed with the -device\nname & arguments.\n\nBefore:\nqemu-system-x86_64: -device tpm-tis,id=foo,tpmdev=foo,irq=21: tpm_tis: IRQ 21 is outside valid range of 0 to 15\n\nAfter:\nqemu-system-x86_64: -device tpm-tis,id=foo,tpmdev=foo,irq=21: IRQ 21 is outside valid range of 0 to 15\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/3d01141144583bd12b5d7c76326328e509a677ec", "message": "tpm-emulator: add a FIXME comment about blocking cancel\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ff5ce21e1b959206f257967d6de2efa6f4e3d188", "message": "acpi: change TPM TIS data conditions\n\nThe device should be exposed if present. It shouldn't have an\nundefined version (or else backend init failed, and device should fail\ntoo). Finally, make the fields specific to TIS device model.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5cf954d02161a974c16b33189192b43da9ac4413", "message": "tpm: add tpm_cmd_get_size() to tpm_util\n\nThe function is generally useful and used in the following patches.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9af7a721662de8cdfa7b02b7e9cc2c2c30e7bacb", "message": "tpm: add TPM interface to lookup TPM version\n\nDo not hardcode TPM device model to lookup version, use an interface\ninstead.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/3dfd5a2a50fc4907728eb83569c84b0d98b56582", "message": "tpm: lookup the the TPM interface instead of TIS device\n\nThis will allow to introduce new devices implementing TPM.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d36e7db1fbf1a5cff4aa359dfe5c2e5dd97d3e13", "message": "tpm: rename qemu_find_tpm() -> qemu_find_tpm_be()\n\nfind_tpm() will be introduced to lookup the TPM device.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/023299d87f7b6cccaede8210755afd0c2eaec41a", "message": "tpm-tis: simplify header inclusion\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/21cb1e63a594e36ff350fba41600190fb0a1f42b", "message": "tpm-passthrough: workaround a possible race\n\nThe TPM backend processing thread has common shared variable race\nissues. (they should not be so easy to reach since guest interaction\nwith the device is slow compared to host emulation)\n\nAn obvious one is setting op_cancelled from device thread after\ncalling write(cancel_fd). The backend thread may return before the\ndevice thread has set the variable. Instead set it before\ncancellation. Even if the write() failed, the end result is command\nget possibly cancelled (even if cancellation came from external\nsources it doesn't matter much).\n\nIt's worth to consider removing the backend processing thread for now.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/bef2ed3fd2454586a7c1132ad574b891741d12c6", "message": "tpm-passthrough: simplify create()\n\nUse a similar code as tpm_emulator_create(), call handle_opts() and\nhandle failure cleanup with object_unref() in create().\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/8df4d8484f607d4973e66e93f2eba0b3f80c4238", "message": "tpm-passthrough: make it safer to destroy after creation\n\nCheck fds values before closing, to avoid close(-1).\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9f7c0ef2ffa02b3bf6bc630496b8df67c750edd3", "message": "tpm-backend: move set 'id' to common code\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/803de211aa1447585b91354aa2ae8dddd4ff68e0", "message": "tpm-passthrough: pass TPMPassthruState to handle_device_opts\n\nIt doesn't need TPMBackend. Also reorder arguments for consistency.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ebca2df783a5a742bb93784524336d8cbb9e662b", "message": "tpm-be: update optional function pointers\n\nQEMU code doesn't generally have assert() for mandatory\ncallbacks/function pointers, probably because the crash is pretty\nobvious. Document the methods instead of going into the code.\n\nMake get_tpm_options() mandatory to implement (since all\nbackend implementation have it).\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/69c07db04625cb243db6e8a0ac0a8e3973dd961a", "message": "tpm-passthrough: don't save guessed cancel_path in options\n\nThe value is later unneeded, and may leak if the free visitor doesn't\nconsider it since has_cancel_path is false. And for consistency with\n\"path\" it shouldn't be returned in get_tpm_options().\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/3c3ef630621e4cdc5171dcfd19a22b2dc300bcb3", "message": "tpm: remove unused opened code\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/191adc9476371ad94771609d8b9a968d9332a962", "message": "tpm-be: ask model to the TPM interface\n\nNo need to store the mode in the backend, or to let the frontend set\nit itself.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/0bd6c8a9cfa4fd5c25a32ed39f3b8cb786b75b58", "message": "tpm-be: report error instead of front-end\n\nBackend can give more accurate error description, and lift out the job\nfrom the frontend.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/689990598a710519eba37e4eb4d8bdebac1aa562", "message": "tpm-be: call request_completed() out of thread\n\nLift from the backend implementation the responsability to call the\nrequest_completed() callback outside of thread context. This also\nsimplify frontend/interface work, as they no longer need to care\nwhether the callback is called from a different thread.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/36e8658924cec6427ca00f87ce86f65cfa705d69", "message": "tpm-tis: no longer expose TPMState\n\nNow that there is an interface instead.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/8a89c9ac15981c2d15ce4ee6d6ad67da58824a04", "message": "tpm-backend: store TPMIf interface, improve backend_init()\n\nStore the TPM interface, the actual object may be different from\nTPMState. Keep a reference on the interface, and check the backend\nwasn't already initialized.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/67af320cd653a107c0bbdf0d2e6c51b24403c64d", "message": "tpm: move TpmIf in include/sysemu/tpm.h\n\nThis is a better location than hw/tpm, since we are going to use the\ninterface from outside hw/tpm.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/8a37fc44c6618ca0ede761809d0ecaf605f832fc", "message": "tpm-tis: remove unused locty_number\n\nThis field slipped in commit 5086bf9784.\n\nSigned-off-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "yangzhon": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/5a22ab71623c0fb709d49df353bdf2ec7c445c4c", "message": "rcu: reduce more than 7MB heap memory by malloc_trim()\n\nSince there are some issues in memory alloc/free machenism\nin glibc for little chunk memory, if Qemu frequently\nalloc/free little chunk memory, the glibc doesn't alloc\nlittle chunk memory from free list of glibc and still\nallocate from OS, which make the heap size bigger and bigger.\n\nThis patch introduce malloc_trim(), which will free heap\nmemory when there is no rcu call during rcu thread loop.\nmalloc_trim() can be enabled/disabled by --enable-malloc-trim/\n--disable-malloc-trim in the Qemu configure command. The\ndefault malloc_trim() is enabled for libc.\n\nBelow are test results from smaps file.\n(1)without patch\n55f0783e1000-55f07992a000 rw-p 00000000 00:00 0  [heap]\nSize:              21796 kB\nRss:               14260 kB\nPss:               14260 kB\n\n(2)with patch\n55cc5fadf000-55cc61008000 rw-p 00000000 00:00 0  [heap]\nSize:              21668 kB\nRss:                6940 kB\nPss:                6940 kB\n\nSigned-off-by: Yang Zhong <yang.zhong@intel.com>\nMessage-Id: <1513775806-19779-1-git-send-email-yang.zhong@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/aff9e6e46a343e1404498be4edd03db1112f0950", "message": "x86/cpu: Enable new SSE/AVX/AVX512 cpu features\n\nIntel IceLake cpu has added new cpu features,AVX512_VBMI2/GFNI/\nVAES/VPCLMULQDQ/AVX512_VNNI/AVX512_BITALG. Those new cpu features\nneed expose to guest VM.\n\nThe bit definition:\nCPUID.(EAX=7,ECX=0):ECX[bit 06] AVX512_VBMI2\nCPUID.(EAX=7,ECX=0):ECX[bit 08] GFNI\nCPUID.(EAX=7,ECX=0):ECX[bit 09] VAES\nCPUID.(EAX=7,ECX=0):ECX[bit 10] VPCLMULQDQ\nCPUID.(EAX=7,ECX=0):ECX[bit 11] AVX512_VNNI\nCPUID.(EAX=7,ECX=0):ECX[bit 12] AVX512_BITALG\n\nThe release document ref below link:\nhttps://software.intel.com/sites/default/files/managed/c5/15/\\\narchitecture-instruction-set-extensions-programming-reference.pdf\n\nSigned-off-by: Yang Zhong <yang.zhong@intel.com>\nMessage-Id: <1511335676-20797-1-git-send-email-yang.zhong@intel.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "xzpeter": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/b8c7723440324a7822acdb0b6f35c7ccb791862a", "message": "i8259: move TYPE_INTERRUPT_STATS_PROVIDER upper\n\nNow both classes (i8259, i8259-kvm) support this.  Move this upper to\nthe common class code.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171210063819.14892-6-peterx@redhat.com>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e267d16496e3998f271767a80ff9b0cc43be8a35", "message": "kvm-i8259: support \"info pic\" and \"info irq\"\n\nLet's leverage the i8259 common code for kvm-i8259 too.\n\nI think it's still possible that stats can lost when i8259 is in kernel\nand meanwhile when irqfd is used, e.g., by vfio or vhost devices.\nHowever that should be rare IMHO since they should be using MSIs mostly\nif they really want performance (that's why people use vhost and device\nassignment), and no old INTx should be used.  As long as the INTx users\nare emulated in QEMU the stats will be correct.\n\nFor \"info pic\", it should be always accurate since we fetch kvm regs\nbefore dump.\n\nMore importantly, it's just too simple to do this now - it's only 10+\nLOC to gain this feature.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171210063819.14892-5-peterx@redhat.com>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1b23190aba72a974c9a08496bf6d45e14b60087a", "message": "i8259: generalize statistics into common code\n\nIt was only for userspace i8259.  Move it to general code so that\nkvm-i8259 can also use it in the future.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171210063819.14892-4-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/f260f7361ca6caf7bb672195c50db99eff26b856", "message": "i8259: use DEBUG_IRQ_COUNT always\n\nIt's not really scary to even enable it forever.  After all it's i8259,\nand it's even not the kernel one.\n\nThen we can remove quite a few of lines to make it cleaner.  And \"info\nirq\" will always work for it.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171210063819.14892-3-peterx@redhat.com>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/0880a873007b51c06ab008366cbd5e510be15bad", "message": "i8259: convert DPRINTFs into trace\n\nOne thing to mention is that in pic_set_irq() I need to uncomment a few\nlines in the macros to make sure IRQ value calculation is correct.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171210063819.14892-2-peterx@redhat.com>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/87a621d857be1b2b3dd1d0847ca311a863dbcb53", "message": "cpu: suffix cpu address spaces with cpu index\n\nRenaming cpu address space names so that they won't be the same when\nthere are more than one.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171123092333.16085-4-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/80ceb07a83375e3a0091591f96bd47bce2f640ce", "message": "cpu: refactor cpu_address_space_init()\n\nNormally we create an address space for that CPU and pass that address\nspace into the function.  Let's just do it inside to unify address space\ncreations.  It'll simplify my next patch to rename those address spaces.\n\nSigned-off-by: Peter Xu <peterx@redhat.com>\nMessage-Id: <20171123092333.16085-3-peterx@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "bonzini": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/9661e208f8cc94f66176db6f069a0f8adef9478d", "message": "scsi: replace hex constants with #defines\n\nSense keys have nice #defines in scsi/constants.h, use them.\n\nReported-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/f68d98b21fa74155dc7c1fd212474379ac3c7531", "message": "scsi: provide general-purpose functions to manage sense data\n\nExtract the common parts of scsi_sense_buf_to_errno, scsi_convert_sense\nand scsi_target_send_command's REQUEST SENSE handling into two new\nfunctions scsi_parse_sense_buf and scsi_build_sense_buf.\n\nFix a bug in scsi_target_send_command along the way; the length was\nwritten in buf[10] rather than buf[7].\n\nReported-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nReviewed-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nFixes: b07fbce634 (\"scsi-bus: correct responses for INQUIRY and REQUEST SENSE\")\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/2ba60ec1751844fe75d32dd80ebb3d72480b4b17", "message": "contrib: add systemd unit files\n\nThis lets distros standardize on how QEMU should install systemd\nservices for qemu-ga and qemu-pr-helper.\n\nThe qemu-ga unit file comes from Fedora, but I checked that\nDebian is using the same path for the virtio-serisal port.\n\nI would like to include this in 2.11, so that the qemu-pr-helper\nsocket can be standardized across distros.  Note however that\nthe files are not installed.  We can add a configure option\nin 2.12 perhaps, but it's too late now; documenting the files\nin the release notes should do.\n\nSuggested-by: Daniel P. Berrange <berrange@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nMessage-Id: <20171124164422.3960-1-pbonzini@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/a4a9b6eaf35dbe4bf0e069854945bf5e45fc7eab", "message": "qemu-pr-helper: miscellaneous fixes\n\n1) Return a generic sense if TEST UNIT READY does not provide one;\n\n2) Fix two mistakes in copying from the spec.\n\nCc: qemu-stable@nongnu.org\nReported-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/75e5b70e6b5dcc4f2219992d7cffa462aa406af0", "message": "memfd: fix configure test\n\nRecent glibc added memfd_create in sys/mman.h.  This conflicts with\nthe definition in util/memfd.c:\n\n    /builddir/build/BUILD/qemu-2.11.0-rc1/util/memfd.c:40:12: error: static declaration of memfd_create follows non-static declaration\n\nFix the configure test, and remove the sys/memfd.h inclusion since the\nfile actually does not exist---it is a typo in the memfd_create(2) man\npage.\n\nCc: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/bd6458e410c1e7d2912357aeb399fe7d8ee9f9a3", "message": "block: avoid recursive AioContext acquire in bdrv_inactivate_all()\n\nBDRV_POLL_WHILE() does not support recursive AioContext locking.  It\nonly releases the AioContext lock once regardless of how many times the\ncaller has acquired it.  This results in a hang since the IOThread does\nnot make progress while the AioContext is still locked.\n\nThe following steps trigger the hang:\n\n  $ qemu-system-x86_64 -M accel=kvm -m 1G -cpu host \\\n                       -object iothread,id=iothread0 \\\n                       -device virtio-scsi-pci,iothread=iothread0 \\\n                       -drive if=none,id=drive0,file=test.img,format=raw \\\n                       -device scsi-hd,drive=drive0 \\\n                       -drive if=none,id=drive1,file=test.img,format=raw \\\n                       -device scsi-hd,drive=drive1\n  $ qemu-system-x86_64 ...same options... \\\n                       -incoming tcp::1234\n  (qemu) migrate tcp:127.0.0.1:1234\n  ...hang...\n\nTested-by: Stefan Hajnoczi <stefanha@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nMessage-id: 20171207201320.19284-2-stefanha@redhat.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "philmd": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/7299e1a411de99761a4260e44b4f1cf2e4e126ef", "message": "hw/i386/vmport: replace fprintf() by trace events or LOG_UNIMP\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nMessage-Id: <20171215034356.4449-2-f4bug@amsat.org>\n[Replace unknown command tracepoint with LOG_UNIMP, add\n generic tracepoint for vmport commands. - Paolo]\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e691e0ed135ac989221683ca9560c34d357edc57", "message": "target/sh4: add missing tcg_temp_free() in _decode_opc()\n\nmissed in c55497ecb8c and 852d481faf7.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nMessage-Id: <20171205170013.22337-3-f4bug@amsat.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/c0578de60fcc3a07a881e9c4b7b8262faf6abbc7", "message": "misc: drop old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/664b4be5e8bcb538ae8e68fe54ff27fedc5ea5b5", "message": "i386/pc: move vmmouse.c to hw/i386/\n\nIt's a x86-only device, so it does not make sense to keep it\nin the shared misc folder.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/323d7d1d999d8be31e4d5a50ee18f7e2ca5d096a", "message": "i386/pc: move vmport.c to hw/i386/\n\nIt's a x86-only device, so it does not make sense to keep it\nin the shared misc folder.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/0d5d8a3a906f782eab8a85079eede78879dc8155", "message": "hw/misc/pvpanic: extract public API from i386/pc to \"hw/misc/pvpanic.h\"\n\nand remove the old i386/pc dependency.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/489983d6b4cb501a86dfd08648fb370aec0f9b51", "message": "hw/net/ne2000: extract ne2k-isa code from i386/pc to ne2000-isa.c\n\n- add \"hw/net/ne2000-isa.h\"\n- remove the old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nAcked-by: David Gibson <david@gibson.dropbear.id.au> [PPC]\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/866e2b3727b6f9f55d5921365f2c97ecf763de65", "message": "hw/display/vga: extract public API from i386/pc to \"hw/display/vga.h\"\n\nand remove the old i386/pc dependency.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e07b15891ecafb9c198245410013b30a68de7bfe", "message": "hw/display/vga: \"vga_int.h\" requires \"ui/console.h\"\n\nsince The VGACommonState struct has a GraphicHwOps *hw_ops member,\nthen remove the now unnecessary includes.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d10d69e39d921a7ca23458421195116ab4577c87", "message": "hw/display/vga: \"vga.h\" only contains registers defs, rename it \"vga_regs.h\"\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b1c439d1794a86536bf5f47d9823ff156a7d7433", "message": "hw/acpi/ich9: extract ACPI_PM_PROP_TCO_ENABLED from i386/pc\n\nenable_tco is specific to i386/pc.\n\nSuggested-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9dc047ce8f9e787bb9a9c5892c38c2424a0ee65f", "message": "hw/acpi: ACPI_PM_* defines are not restricted to i386 arch\n\nthis allows to remove the old i386/pc dependency on acpi/core.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/6c646a11bf5ef87424fa07d3c42d04e709cd7c5e", "message": "hw/timer/mc146818: rename rtc_init() -> mc146818_rtc_init()\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/acf695eca605ed18fd485af3414e78d1edf93082", "message": "hw/timer/i8254: rename pit_init() -> i8254_pit_init()\n\nand remove the old i386/pc dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/40a3bbc93e5a75bbfc1d220b8bf9bfc33bb1b4e5", "message": "hw/unicore32: restrict hw addr defines to source file\n\nand drop unused #includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/2070aaebd2a91b8924db302b7b360c43d7968bc9", "message": "hw/virtio-balloon: remove old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/4c22db44859af80dfca946070d155f5dd43e5492", "message": "hw/tpm: remove old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Stefan Berger <stefanb@linux.vnet.ibm.com>\nReviewed-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@gmail.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b0392e8f78aa677f8bb5c7b11052a6af41ba69de", "message": "hw/i2c: remove old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/34d06688b2ebb32440f91c7f46313c3add2b76f4", "message": "hw/ipmi: remove old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Corey Minyard <cminyard@mvista.com>\nTested-by: Corey Minyard <cminyard@mvista.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/786316113a2ed693cdada9cd7abe9e0aefa93670", "message": "hw/ide: remove old i386 dependency\n\nand remove a duplicated include\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nAcked-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/09db4d37d204c03924912924a39f22891b125148", "message": "misc: remove old i386 dependency\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/433545d56930ad8867ff6950bd47e2b438173ef4", "message": "amd_iommu: avoid needless includes in header file\n\ninstead move them to the source file\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/f7ee2cf9d1aab216f3736baa0e90112ffbc649b2", "message": "hw/ssi/aspeed_smc: remove unused #include\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/c8b15f913da0d740c56b01375f96681aaca60b5b", "message": "hw/misc/pvpanic: remove unused #include\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/44ae27d65c84be9746186f52e69d477838c8de12", "message": "hw/input/vmmouse: remove unused #include\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1330f1e2b76af4094ce3596a8c80874d7e1048a8", "message": "numa: remove unused #include\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d6e3f50a471ab870c5c99df499cd38ce61d3efb5", "message": "misc: avoid \"include/\" in include path\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9d808657249dcb1fab6a3f16bd3a8149c5c9b88d", "message": "nios2: remove duplicated includes (in code commented out)\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/6f144ff081d87308b45e44f746e98589c8246686", "message": "i386/hax: remove duplicated include\n\nthis file in include in \"target/i386/hax-i386.h\":\n\n    #ifdef CONFIG_WIN32\n    #include \"target/i386/hax-windows.h\"\n    #endif\n\nwhich guaranties that sysemu/os-win32.h is previously included (CONFIG_WIN32)\n\nSuggested-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/744fc0540dd306a90680277667914ce8d38a26ee", "message": "i386/hax: remove duplicated includes\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1945e6ab47faad4778883fa5cf839ece006ea3d0", "message": "ppc: remove duplicated includes\n\napplied using ./scripts/clean-includes\n\nnot needed since 7ebaf795560\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ff676046fb7018a1e62961cc306e466b0a167540", "message": "misc: remove duplicated includes\n\nexec: housekeeping (funny since 02d0e095031)\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Anthony PERARD <anthony.perard@citrix.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/47181f5d4541dafc80b0237966316931ec424c96", "message": "misc: remove headers implicitly included\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nReviewed-by: Ben Warren <ben@skyportsystems.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/7d98febd6759c0164a9f1fef94b9bf3ecbb51ab8", "message": "block: remove \"qemu/osdep.h\" from header file\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b86caf7ad8ba779747975fe838b26aba366eb731", "message": "hw: remove \"qemu/osdep.h\" from header files\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Corey Minyard <cminyard@mvista.com>\nTested-by: Corey Minyard <cminyard@mvista.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e9808d09697b5b0ac82ab9291f61571f65f4bff7", "message": "hw: use \"qemu/osdep.h\" as first #include in source files\n\napplied using ./scripts/clean-includes\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nAcked-by: David Gibson <david@gibson.dropbear.id.au>\nAcked-by: Cornelia Huck <cohuck@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/6061b5c63e1229da3e1e55b7b0a57bbaf2f9a603", "message": "MAINTAINERS: add missing entry for include/hw/net/\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/cec16f0d826e6440de8d716900740248d175ce83", "message": "MAINTAINERS: add entries for timer/m48t59\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1732be86575a3904003032521aee28a822284bea", "message": "MAINTAINERS: add an entry for input/pckbd.c\n\nand fix a typo in the \"PC Chipset\" section\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/edc46aff4e7cff85d4f583bb30401ae531bd52ae", "message": "MAINTAINERS: add an entry for watchdog/wdt_ib700\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/0a9464b572b35b3bbbd4544b73ccf9cfd954c08a", "message": "MAINTAINERS: add an entry for the i82378 (superio)\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ea638a458fb2e34f7bd5e09670d9eab45776197a", "message": "MAINTAINERS: add an entry for the i8257 (DMA controller)\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1cd6dccb60fa52a83b806cd20051ca19f88f6e1e", "message": "MAINTAINERS: add an entry for the i82374 (southbridge)\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Herv\u00e9 Poussineau <hpoussin@reactos.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/aa3a41f96e937688d6e49047b092368471eb290f", "message": "MAINTAINERS: add entries for i2c/ppc4xx\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nReviewed-by: Corey Minyard <cminyard@mvista.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/27de8f2dcf9c7daa3f5691cefab3563dea3535d2", "message": "hw/registerfields: add missing include\n\nThis allows to use this header in qtests.\n\nThis fixes:\n    CC      tests/test.o\n  include/hw/registerfields.h:32:41: error: implicit declaration of function \u2018MAKE_64BIT_MASK\u2019 [-Werror=implicit-function-declaration]\n              MAKE_64BIT_MASK(shift, length)};\n              ^\n  include/hw/registerfields.h:39:5: error: implicit declaration of function \u2018extract64\u2019; [-Werror=implicit-function-declaration]\n       extract64((storage), R_ ## reg ## _ ## field ## _SHIFT,\n       ^\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/cdb70a5c18aec03ef3b8b1bc68d5ca8a3cd80155", "message": "hw/registerfields: add 64-bit extract/deposit macros\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9102fe6c7f63306670b7d45635ddfeab72409199", "message": "hw/registerfields: fix a typo in the FIELD() documentation\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/06a7b24350083a7d40d4c5bfce6f8957777a167e", "message": "MAINTAINERS: add \"hw/registerfields.h\" in Register API entry\n\nOrphan since afb3141c660\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nReviewed-by: Alistair Francis <alistair.francis@xilinx.com>\nReviewed-by: Edgar E. Iglesias <edgar.iglesias@xilinx.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/28fa29272f660b3407c6499ea6313e84c89e1784", "message": "Makefile: add more targets to the UNCHECKED_GOALS rule\n\nThese targets don't need a full build of git submodules.\n(See b8e535ae8af and eaa2ddbb767).\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b98a3bae2596fd9bf60f140d042c8e993daba930", "message": "Makefile: use $(MAKE) variable\n\nFor some systems (i.e. FreeBSD) the default 'make' is not compatible with the\nGNU extensions used by QEMU makefiles.\n\nCalling the GNU make (gmake) works, however the help displayed refers to the\nhost 'make' and copy/paste leads to lot of unobvious errors:\n\n  $ gmake check-help\n  [...]\n   make check                Run all tests\n\n  $ make check\n  make: \"Makefile\" line 28: Missing dependency operator\n  make: \"Makefile\" line 37: Need an operator\n  make: \"Makefile\" line 41: warning: duplicate script for target \"git-submodule-update\" ignored\n  make: \"rules.mak\" line 70: warning: duplicate script for target \"%.o\" ignored\n  make: Unknown modifier ' '\n  make: Unclosed substitution for eval modules (= missing)\n  make: \"tests/Makefile.include\" line 24: Variable/Value missing from \"export\"\n  make: \"tests/\" line 1: warning: Zero byte read from file, skipping rest of line.\n  make: \"tests/\" line 1: Need an operator\n  make: \"Makefile\" line 660: warning: duplicate script for target \"ifneq\" ignored\n  make: \"Makefile\" line 78: warning: using previous script for \"ifneq\" defined here\n  make: Fatal errors encountered -- cannot continue\n\nUsing the $(MAKE) variable, the help displayed is consistent with the 'make'\nprogram used.\n\nSigned-off-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "plieven": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/e38bc23454ef763deb4405ebdee6a1081aa00bc8", "message": "block/iscsi: only report an iSCSI Failure if we don't handle it gracefully\n\nwe currently report an \"iSCSI Failure\" in iscsi_co_generic_cb if the task\nhasn't completed with SCSI_STATUS_GOOD. However, we expect a failure in\nsome cases and handle it gracefully. This is the case for misaligned UNMAPs\nand WRITESAME10/16 calls without UNMAP. In this case a failure in the\nlogs can be quite misleading.\n\nWhile we are at it improve the logging to reveal which operation failed\nat what LBA.\n\nSigned-off-by: Peter Lieven <pl@kamp.de>\nMessage-Id: <1512733868-9009-3-git-send-email-pl@kamp.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/aef172ffdc2f9c41d9cc043a55f1259e7c07e587", "message": "block/iscsi: dont leave allocmap in an invalid state on UNMAP failure\n\nwe forgot to set the allocmap to invalid if an UNMAP call fails.\n\nCc: qemu-stable@nongnu.org\nSigned-off-by: Peter Lieven <pl@kamp.de>\nMessage-Id: <1512733868-9009-2-git-send-email-pl@kamp.de>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sthibaul": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/1ef7c96ee2133753f4aa48617ddbef10d5a88fc9", "message": "baum: Truncate braille device size to 84x1\n\nBaum device bigger than 84 do not actually exist, but the user's own\nBraille device might be wider than 84 columns.  Some guest drivers\nwould be upset by such sizes, so clamp the device size.\n\nSigned-off-by: Samuel Thibault <samuel.thibault@ens-lyon.org>\nMessage-Id: <20171211001950.27843-1-samuel.thibault@ens-lyon.org>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "stweil": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/a4926d99129a1d8072fc4681cd4efdb214f65ed4", "message": "target/i386: Fix compiler warnings\n\nThese gcc warnings are fixed:\n\ntarget/i386/translate.c:4461:12: warning:\n variable 'prefixes' might be clobbered by 'longjmp' or 'vfork' [-Wclobbered]\ntarget/i386/translate.c:4466:9: warning:\n variable 'rex_w' might be clobbered by 'longjmp' or 'vfork' [-Wclobbered]\ntarget/i386/translate.c:4466:16: warning:\n variable 'rex_r' might be clobbered by 'longjmp' or 'vfork' [-Wclobbered]\n\nTested with x86_64-w64-mingw32-gcc from Debian stretch.\n\nSigned-off-by: Stefan Weil <sw@weilnetz.de>\nMessage-Id: <20171113064845.29142-1-sw@weilnetz.de>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "davidhildenbrand": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/d84be02d69a23dea249f351324d497f613994129", "message": "cpu-exec: fix missed CPU kick during interrupt injection\n\nThe conditional memory barrier not only looks strange but actually is\nwrong.\n\nOn s390x, I can reproduce interrupts via cpu_interrupt() not leading to\na proper kick out of emulation every now and then. cpu_interrupt() is\nespecially used for inter CPU communication via SIGP (esp. external\ncalls and emergency interrupts).\n\nWith this patch, I was not able to reproduce. (esp. no stalls or hangs\nin the guest).\n\nMy setup is s390x MTTCG with 16 VCPUs on 8 CPU host, running make -j16.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171129191319.11483-1-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ebd05fea9be1dfd043aaa763fb6d2cd971346a58", "message": "cpus: make pause_all_cpus() play with SMP on single threaded TCG\n\npause_all_cpus() is sometimes called from a VCPU thread (e.g. s390x\nduring special reset). It cannot deal with multiple VCPUs per Thread\n(single threaded TCG) yet.\n\nBooting an s390x guest with -smp 2 and single threaded TCG from disk\ncurrently fails. The DIAG 308 will issue a pause_all_cpus() and wait\nforever for the CPUs to actually stop. But it is waiting for itself.\n\nSo let's stop all VCPUs belonging to the current thread. Factor out\nstopping of a VCPU.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171129191215.11323-1-david@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/35b4df6417fc3cd9d0150590f770fdd404dfbee7", "message": "s390x: change the QEMU cpu model to a stripped down z12\n\nWe are good enough to boot upstream Linux kernels / Fedora 26/27. That\nshould be sufficient for now.\n\nAs the QEMU CPU model is migration safe, let's add compatibility code.\nGenerate the feature list to reduce the chance of messing things up in the\nfuture.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208165529.14124-1-david@redhat.com>\n[CH: squashed 's390x/cpumodel: make qemu cpu model play with \"none\" machine'\n(20171213132407.5227-1-david@redhat.com) and 's390x/tcg: don't include z13\nfeatures in the qemu model' (20171213171512.17601-1-david@redhat.com) into\npatch]\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/33ae8a424245bb9ebb66875ca5b16c26f9e88da6", "message": "s390x/tcg: we already implement the Set-Program-Parameter facility\n\nThe Set-Program-Parameter facility (also known as Load-Program-Parameter\nfacility) provides the LPP instruction used to load the program\nparameter. We already implement that instruction in TCG, so add it to our\nlist.\n\nNote: Not documented in the PoP but in \"The Load-Program-Parameter and\nCPU-Measurement Facilities) - SA23-2260-05 document.\n\nWhile at it, make the whole list ordered (according to cpu_features_def.h).\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-14-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/4bac52f5c4b3dd5d0bd7568377ad7e957d5e3c6a", "message": "s390x/tcg: implement extract-CPU-time facility\n\nIt only provides the EXTRACT CPU TIME instruction. We can reuse the stpt\nhelper, which calculates the CPU timer value.\n\nAs the instruction is not privileged, but we don't have a CPU timer\nvalue in case of linux user, we simply reuse cpu_get_host_ticks() to\nproduce some descending value.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-13-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ad0ccf1e6a45c22d6c0564f8365bf1df39c64c15", "message": "s390x/tcg: Implement SIGNAL ADAPTER instruction\n\nKVM suppresses SIGA, setting cc=3. Let's do the same for TCG, so we're at\nleast equal.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-12-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b9b0a4dc13cc6180c79056a7d15e828e93a24a41", "message": "s390x/tcg: Implement STORE CHANNEL PATH STATUS\n\nJust like KVM does, we should suppress this instruction:\n    When this instruction is not provided, it is\n    checked for privileged operation exception and the\n    instruction is suppressed by the machine\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-11-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/a9de75a0b8b5acb26f26bd0048f0a33b416e5f66", "message": "s390x/tcg: wire up SET CHANNEL MONITOR\n\nLet's just wire it up like KVM.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-10-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/86c34633c5a822e5eebed96ae163426e2615abc1", "message": "s390x/tcg: wire up SET ADDRESS LIMIT\n\nLet's handle it just like KVM:\n    Depending on the model, this instruction may not be\n    provided. When this instruction is not provided, it is\n    checked for operand exception and privileged-opera-\n    tion exception, and then is suppressed.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-9-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/f400be1813ee581f15bb2e93b463e2d9857e12f4", "message": "s390x/tcg: implement Interlocked-Access Facility 2\n\nWith this facility, OI/OIY, NI/NIY and XI/XIY are atomic. All operate on\none byte (MO_UB). Emulate old behavior.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-8-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/0e9383bca8b92c4b457a46af0e351b7712984622", "message": "s390x/tcg: ASI/ASGI/ALSI/ALSGI are atomic with Interlocked-acccess facility 1\n\nThe semantics of ASI/ASGI/ALSI/ALSGI changed. Let's implement them just\nlike LOAD AND ADD, so they are atomic. Emulate old behavior.\n\nThis fixes random crashes when booting a Linux kernel compiled for\nz196+ with SMP + MTTCG.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-7-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5a59bc1de21921996545574822e92004629dbd37", "message": "s390x/tcg: wire up STORE CHANNEL REPORT WORD\n\nCRW machine check handling requires STCRW. So let's wire it up.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-6-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/a63b7cbf884b98d4de1cf6519143fa8202f76fe1", "message": "s390x/tcg: indicate value of TODPR in STCKE\n\nWe were not yet using the value of the TOD Programmable Register.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-5-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/257a119ee3464a0558d47f692fb007b2713e24ec", "message": "s390x/tcg: implement SET CLOCK PROGRAMMABLE FIELD\n\nNeeded for machine check handling inside Linux (when restoring registers).\n\nExcept for SIGP and machine checks, we don't make use of the register\nyet. Sufficient for now.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-4-david@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b8d55db07089493da8cc264ab5991253e1102822", "message": "s390x/tcg: fix and cleanup mcck injection\n\nThe architecture mode indication wasn't stored. The split of certain\n64bit fields was unnecessary. Also, the complete clock comparator, not\njust bit 0-55 (starting at byte 1) was stored.\n\nWe now generate a proper MCIC via the same helper we use for KVM.\n\nThere is more to clean up, but we will change the other parts later on\neither way.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-3-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/b700d75eda81c371c575b759de8e260d9f147494", "message": "s390x/kvm: factor out build_channel_report_mcic() into cpu.h\n\nWe'll need it later on in two places. Refactor it to just indicate the\nvalidity bits. While at it, introduce a define for the used CR14 bit (we'll\nalso need later on).\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171208160207.26494-2-david@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/cb3129c3762ceadabcef7e9d319bae9243fc238e", "message": "s390x/tcg: drop potential_page_fault()\n\nOnly one user left, get rid of it so we don't get any new users.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-17-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/51dcdbd319f8d46834d8155defc8d384a9958a73", "message": "s390x/tcg: drop program_interrupt()\n\nAll users are gone, we can finally drop it and make sure that all new\nprogram interrupt injections are reminded of the retaddr - as they have to\nuse s390_program_interrupt() now.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-16-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5e8f154e88c0722377a36ee2d21873cb23c5ef42", "message": "s390x/tcg: use s390_program_interrupt() in STSI\n\nSTSI needs some more love, but let's do one step at a time.\nWe can now drop potential_page_fault().\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-15-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/005a0491846db216ef9d3b31f8567fd5527aa0c5", "message": "s390x/tcg: use s390_program_interrupt() in SACF\n\nConvert this user, too.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-14-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/8808338200fe3bb2b475fa7b6492b34c1d32fdd2", "message": "s390x/tcg: use s390_program_interrupt() in per_check_exception()\n\nWe can now drop updating the cc.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-13-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/277b156d8dd4d54fa00997ef384d4503dd057479", "message": "s390x/tcg: use s390_program_interrupt() in DIAG\n\nNow we can drop the two save statements in the translate function.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-12-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1a38921a61d1394089186c03491321b6e682793c", "message": "s390x/tcg: use s390_program_interrupt() in SCLP Service Call\n\nNow we can drop potential_page_fault(). While at it, move the\nunlock further up, looks cleaner.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-11-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/0ef28497768d9ff354aaa93087643f7046c89679", "message": "s390x/tcg: io instructions don't need potential_page_fault()\n\nAs we handle the retaddr in all cases properly now, we can drop it.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-10-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/820613b1c1c76cb77a15313eb333a710972614ec", "message": "s390x/tcg: don't exit the cpu loop in s390_cpu_virt_mem_rw()\n\ns390_cpu_virt_mem_rw() must always return, so callers can react on\nan exception (e.g. see ioinst_handle_stcrw()).\n\nTherefore, using program_interrupt() is wrong. Fix that up.\n\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-9-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/98ee9bedc734e18287902f39e3a3a8adb399386a", "message": "s390x: handle exceptions during s390_cpu_virt_mem_rw() correctly (TCG)\n\ns390_cpu_virt_mem_rw() must always return, so callers can react on\nan exception (e.g. see ioinst_handle_stcrw()).\n\nHowever, for TCG we always have to exit the cpu loop (and restore the\ncpu state before that) if we injected a program interrupt. So let's\nintroduce and use s390_cpu_virt_mem_handle_exc() in code that is not\npurely KVM.\n\nDirectly pass the retaddr we already have available in these functions.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-8-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/968db419de26d3011670ca7eeab57424f93cd888", "message": "s390x/diag: pass the retaddr into handle_diag_308()\n\nNeeded to later drop potential_page_fault() from the diag TCG translate\nfunction.\n\nConvert program_interrupt() to s390_program_interrupt() directly, making\nuse of the passed address.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-7-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/468a93898a97639d8ba412d6a3cf9252f1927276", "message": "s390x/pci: pass the retaddr to all PCI instructions\n\nOnce we wire up TCG, we will need the retaddr to correctly inject\nprogram interrupts. As we want to get rid of the function\nprogram_interrupt(), convert PCI code too.\n\nFor KVM, we can simply use RA_IGNORED.\n\nConvert program_interrupt() to s390_program_interrupt() directly, making\nuse of the passed address.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-6-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/1b98fb99d39732231a247acb04823b1ddb5570a1", "message": "s390x/ioinst: pass the retaddr to all IO instructions\n\nTCG needs the retaddr when injecting an interrupt. Let's just pass it\nalong and use RA_IGNORED for KVM. The value will be completely ignored for\nKVM.\n\nConvert program_interrupt() to s390_program_interrupt() directly, making\nuse of the passed address.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-5-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/fc21eb6bd9f340e8d2083064e86cf09868e69872", "message": "s390x/tcg: rip out dead tpi code\n\nIt is broken and not even wired up. We'll add a new handler soon, but\nthat will live somewhere else.\n\nReviewed-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-4-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/7693f77a7f038393b14e54a578cf4b9aeec7a2da", "message": "s390x/tcg: get rid of runtime_exception()\n\nLet's use s390_program_interrupt() instead.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-3-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/8d2f850a5ab7579a852f23b28273940a47dfd7ff", "message": "s390x/tcg: introduce and use s390_program_interrupt()\n\nAllows to easily convert more callers of program_interrupt() and to\neasily introduce new exceptions without forgetting about the cpu state\nreset.\n\nUse s390_program_interrupt() in places where we already had the same\npattern. We will later get rid of program_interrupt().\n\nRA != 0 checks are already done behind the scenes.\n\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: David Hildenbrand <david@redhat.com>\nMessage-Id: <20171130162744.25442-2-david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rvka": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/09df29b665a91ba78b2187ce3b1967526ce121f6", "message": "hyperv: make SynIC version msr constant\n\nThe value of HV_X64_MSR_SVERSION is initialized once at vcpu init, and\nis reset to zero on vcpu reset, which is wrong.\n\nIt is supposed to be a constant, so drop the field from X86CPU, set the\nmsr with the constant value, and don't bother getting it.\n\nSigned-off-by: Roman Kagan <rkagan@virtuozzo.com>\nMessage-Id: <20171122181418.14180-4-rkagan@virtuozzo.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/689141dde2957894ae99315bb4e42e6ecd980248", "message": "hyperv: ensure SINTx msrs are reset properly\n\nInitially SINTx msrs should be in \"masked\" state.  To ensure that\nhappens on *every* reset, move setting their values to\nkvm_arch_vcpu_reset.\n\nSigned-off-by: Roman Kagan <rkagan@virtuozzo.com>\nMessage-Id: <20171122181418.14180-3-rkagan@virtuozzo.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/bfab1aede07f864b8fbd749c3a0545b949b4cc84", "message": "util: add is_equal to UUID API\n\nIt's going to be useful, in particular, in VMBus code massively using\nuuids aka GUIDs.\n\nSigned-off-by: Roman Kagan <rkagan@virtuozzo.com>\nMessage-Id: <20171127124355.26015-1-rkagan@virtuozzo.com>\nSigned-off-by: Fam Zheng <famz@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "famz": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/c2380365d1d6c8c9f920651a2a429c75d977a589", "message": "MAITAINERS: List Fam Zheng as reviewer for SCSI patches\n\nJust so that I notice those patches more easily.\n\nSigned-off-by: Fam Zheng <famz@redhat.com>\nMessage-Id: <20171205072220.885-1-famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/07488549f884a658689370b9ef878dc50eced83e", "message": "scsi-block: Add share-rw option\n\nScsi-block doesn't use the DEFINE_BLOCK_PROPERTIES() macro so it didn't\ngain the share-rw back when it was added to all other storage devices.\nThis option is meaningful here, and need to be used when attaching a\nshared storage to guest.\n\nSigned-off-by: Fam Zheng <famz@redhat.com>\nMessage-Id: <20171205071928.30242-1-famz@redhat.com>\nSigned-off-by: Paolo Bonzini <pbonzini@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/dbd73b569b61893ebfe460b0be254997e2cbfb0a", "message": "Revert \"docker: Enable features explicitly in test-full\"\n\nThis reverts commit 5e8a7fe673ca5949bd51939ee36faaf3b1320de8.\n\nIt's hard to get all images to have all these packages, the usual\n\"FEATURES\" and \"require\" mechanism doesn't scale with so many features.\nWith that change, the test basically only works in ubuntu.\n\nUntil a better way comes up, leave the feature enabling to ./configure\ndetection.\n\nBut don't remove the \"-e\" removal.\n\nReported-by: Paolo Bonzini <pbonzini@redhat.com>\nSigned-off-by: Fam Zheng <famz@redhat.com>\nMessage-Id: <20171018082002.9406-1-famz@redhat.com>\nSigned-off-by: Fam Zheng <famz@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "danielhb": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/49ccefde303c84d291c70842922c37b6de6ef15a", "message": "qmp: remove qmp_cpu\n\n'qmp_cpu' was implemented in commit 755f196898 (\"qapi: Convert the cpu\ncommand\") as a functional no-op, a QMP call that does nothing and\nreturn success. The idea, apparently, was to provide a counterpart\nfor the HMP 'hmp_cpu' command, introduced in the same commit.\n\nAfter 6 years of its creation, qmp_cpu remains a functional no-op\nthat does nothing, having no value for any caller/user. A proposal\nwas sent to implement qmp_cpu like hmp_cpu works, but it was denied\n[1]. The reason is that QMP must be as stateless as possible and a\nfunction that changes its state (the current CPU monitor in the case\nof qmp_cpu) goes against it. Any QMP command that needs a specific\nmonitor CPU setup must provide it in its arguments, instead of relying\nin the current QMP monitor state.\n\nAfter discussions that happened in [2] it was decided that a command\nthat does nothing since its birth, no one uses for anything and will\nnot be implemented, should be deprecated and erased. Given that we will\n*not* provide any replacement for qmp_cpu and we believe that there\nis no user relying on it, there is no point in adding a deprecation\ndelay for it.\n\nSo, this patch nukes qmp_cpu from QEMU code, removing both its blank\nimplementation in qmp.c and its doc in qapi-schema.json.\n\n[1] https://lists.gnu.org/archive/html/qemu-devel/2017-12/msg02283.html\n[2] https://lists.gnu.org/archive/html/qemu-devel/2017-12/msg03696.html\n\nSigned-off-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\nCC: Markus Armbruster <armbru@redhat.com>\nCC: Eric Blake <eblake@redhat.com>\nCC: Daniel P. Berrange <berrange@redhat.com>\nMessage-Id: <20171220102304.8288-1-danielhb@linux.vnet.ibm.com>\nReviewed-by: Daniel P. Berrange <berrange@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9aae6e549d9a05f00315429097705a7beadd2aa4", "message": "configure: check $CC available before verifying host CPU\n\nWhen executing 'configure' in a fresh QEMU clone, in a fresh\nOS install running in a ppc64le host, this is the error\nshown:\n\n-----\n\n../configure --enable-trace-backend=simple --enable-debug\n    --target-list=ppc64-softmmu\n\nERROR: Unsupported CPU = ppc64le, try --enable-tcg-interpreter\n\n-----\n\nThis isn't true, ppc64le host CPU is supported. This happens because,\nin a fresh install, we don't have a C compiler to autodetect\nthe $cpu variable to \"ppc64\".\n\nThis patch moves the CC available check up a bit, just before verifying\nthe host CPU. This ensures that we bail out with a $CC not available\nerror instead of unsupported CPU (the host CPU detection without\nthe compiler wouldn't work properly anyway). It also allows --help to\nkeep working without a C compiler. With this patch, in the same ppc64le\nhost without gcc:\n\n$ ../configure --enable-trace-backend=simple --enable-debug\n    --target-list=ppc64-softmmu\n\nERROR: \"cc\" either does not exist or does not work\n\n$ ../configure --help\n\nUsage: configure [options]\nOptions: [defaults in brackets after descriptions]\n\nStandard options:\n  --help                   print this message\n  --prefix=PREFIX          install in PREFIX [/usr/local]\n  --interp-prefix=PREFIX   where to find shared libraries, etc.\n(...)\n\nSigned-off-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\nReviewed-by: Peter Maydell <peter.maydell@linaro.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "chenhanxiao": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/0b263ecbcf71273abc8f79762e2349841a003c27", "message": "qapi-docs: fix a comment typo\n\n  s/Subection/Subsection\n\nSigned-off-by: Chen Hanxiao <chenhanxiao@gmail.com>\nMessage-Id: <20171012064448.20276-1-chen_han_xiao@126.com>\nReviewed-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dagrh": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/da78e382dddc499882120590ae0ac834881a96b8", "message": "option: Remove shadowing opt decl from qemu_opt_print()\n\nopt was declared as a separate local inside the last loop,\nshadowing the local at the top of the function.\n\nSigned-off-by: Dr. David Alan Gilbert <dgilbert@redhat.com>\nMessage-Id: <20171005190725.18712-1-dgilbert@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Markus Armbruster <armbru@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cohuck": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/89be9e99c83095af25ce16907143c31f2959188b", "message": "tpm: move qdev_prop_tpm to hw/tpm/\n\nBuilding with --disable-tpm yields\n\n../hw/core/qdev-properties-system.o: In function `set_tpm':\n/home/cohuck/git/qemu/hw/core/qdev-properties-system.c:274: undefined reference to `qemu_find_tpm_be'\n/home/cohuck/git/qemu/hw/core/qdev-properties-system.c:278: undefined reference to `tpm_backend_init'\n../hw/core/qdev-properties-system.o: In function `release_tpm':\n/home/cohuck/git/qemu/hw/core/qdev-properties-system.c:291: undefined reference to `tpm_backend_reset'\n\nMove the implementation of DEFINE_PROP_TPMBE to hw/tpm/ so that it is\nonly built when tpm is actually configured, and build tpm_util in every\ncase.\n\nFixes: 493b78303532 (\"qdev: add DEFINE_PROP_TPMBE\")\nReported-by: Thomas Huth <thuth@redhat.com>\nReviewed-by: Marc-Andr\u00e9 Lureau <marcandre.lureau@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Laurent Vivier <lvivier@redhat.com>\nSigned-off-by: Stefan Berger <stefanb@linux.vnet.ibm.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/864c2512576ab4e0d84bda0481b15dd1820d43de", "message": "s390x/css: attach css bridge\n\nLogically, the css bridge should be attached to the machine.\n\nReviewed-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nTested-by: Bjoern Walk <bwalk@linux.vnet.ibm.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9879003bb82c1351fa84feb81aa1bbcf7442ca84", "message": "target/s390x: nuke DPRINTF in helper.c\n\nIt is not used anywhere.\n\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nReviewed-by: Thomas Huth <thuth@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/67ee0cefb09672247f502c0f208f2a0e3c566173", "message": "s390x: introduce 2.12 compat machine\n\nAcked-by: Christian Borntraeger <borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/039efad77b5923d7b3421d4e60b0d178e500fa34", "message": "pc-bios/s390-ccw.img: update image\n\nContains the following commit:\n- pc-bios/s390-ccw: zero out bss section\n\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "maozyddd": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/6db3ea39e2650dc4fbcd18e075510f162265512f", "message": "dev-storage: Fix the unusual function name\n\nThe function name of usb_msd_{realize,unrealize}_*,\nusb_msd_class_initfn_* are unusual. Rename it to\nusb_msd_*_{realize,unrealize}, usb_msd_class_*_initfn.\n\nCc: Gerd Hoffmann <kraxel@redhat.com>\n\nSigned-off-by: Mao Zhongyi <maozy.fnst@cn.fujitsu.com>\nReviewed-by: Philippe Mathieu-Daud\u00e9 <f4bug@amsat.org>\nMessage-id: 11e6003433abce35f3f4970e1acc71ee92dbcf51.1511317952.git.maozy.fnst@cn.fujitsu.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ceff3e1f01ee8c0d77de7e3750e7297c3af7e2ec", "message": "hw/block: Use errp directly rather than local_err\n\n[Drop virtio_blk_data_plane_create() change that misinterprets return\nvalue when the virtio transport does not support dataplane.\n--Stefan]\n\nCc: John Snow <jsnow@redhat.com>\nCc: Kevin Wolf <kwolf@redhat.com>\nCc: Max Reitz <mreitz@redhat.com>\nCc: Keith Busch <keith.busch@intel.com>\nCc: Stefan Hajnoczi <stefanha@redhat.com>\nCc: \"Michael S. Tsirkin\" <mst@redhat.com>\nCc: Paolo Bonzini <pbonzini@redhat.com>\nCc: Gerd Hoffmann <kraxel@redhat.com>\nCc: Markus Armbruster <armbru@redhat.com>\n\nSigned-off-by: Mao Zhongyi <maozy.fnst@cn.fujitsu.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: e77848d3735ba590f23ffbf8094379c646c33d79.1511317952.git.maozy.fnst@cn.fujitsu.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9d3b155186c2788570f4802700d030c84e0f0746", "message": "hw/block: Fix the return type\n\nWhen the function no success value to transmit, it usually make the\nfunction return void. It has turned out not to be a success, because\nit means that the extra local_err variable and error_propagate() will\nbe needed. It leads to cumbersome code, therefore, transmit success/\nfailure in the return value is worth.\n\nSo fix the return type of blkconf_apply_backend_options(),\nblkconf_geometry() and virtio_blk_data_plane_create() to avoid it.\n\nCc: John Snow <jsnow@redhat.com>\nCc: Kevin Wolf <kwolf@redhat.com>\nCc: Max Reitz <mreitz@redhat.com>\nCc: Stefan Hajnoczi <stefanha@redhat.com>\n\nSigned-off-by: Mao Zhongyi <maozy.fnst@cn.fujitsu.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: ac0edc1fc70c4457e5cec94405eb7d1f89f9c2c1.1511317952.git.maozy.fnst@cn.fujitsu.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e01d6a415bec6fb93a7413929fb1438a22d28419", "message": "hw/block/nvme: Convert to realize\n\nConvert nvme_init() to realize and rename it to nvme_realize().\n\nCc: John Snow <jsnow@redhat.com>\nCc: Keith Busch <keith.busch@intel.com>\nCc: Kevin Wolf <kwolf@redhat.com>\nCc: Max Reitz <mreitz@redhat.com>\nCc: Markus Armbruster <armbru@redhat.com>\n\nSigned-off-by: Mao Zhongyi <maozy.fnst@cn.fujitsu.com>\nMessage-id: 2882e72d795e04cbe2120f569d551aef2467ac60.1511317952.git.maozy.fnst@cn.fujitsu.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "rth7680": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/6f1c2af641d6e7aceb2e5671a45b3d6e5966dfb8", "message": "target/sh4: Convert to DisasContextBase\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\n[aurel32: fix whitespace]\nMessage-Id: <20170907185057.23421-5-richard.henderson@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/34cf5678088a4a1d624b39ace4f87e704c847d0e", "message": "target/sh4: Do not singlestep after exceptions\n\nIf we've already raised an exception (and set NORETURN),\ndo not emit unreachable code to raise a debug exception.\nNote that gen_goto_tb takes single-stepping into account.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-Id: <20170907185057.23421-4-richard.henderson@linaro.org>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/4834871bc95b67343248100e2a75ae0d287bc08b", "message": "target/sh4: Convert to DisasJumpType\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-Id: <20170907185057.23421-3-richard.henderson@linaro.org>\n[aurel32: fix whitespace]\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/f85da3081d001909929a19e530e69cea0487f00e", "message": "target/sh4: Use cmpxchg for movco when parallel_cpus\n\nAs for other targets, cmpxchg isn't quite right for ll/sc,\nsuffering from an ABA race, but is sufficient to implement\nportable atomic operations.\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nMessage-Id: <20170907185057.23421-2-richard.henderson@linaro.org>\n[aurel32: fix whitespace]\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/c4a2e3a9709aa7c84def7bc4bfbdcaf37ccf7527", "message": "target/ppc: Use tcg_gen_lookup_and_goto_ptr\n\nSigned-off-by: Richard Henderson <rth@twiddle.net>\nReviewed-by: Daniel Henrique Barboza <danielhb@linux.vnet.ibm.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "stsquad": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/6d56fc6cc372284a4571f09b361a9ccd99318103", "message": "target/sh4: fix TCG leak during gusa sequence\n\nThis fixes bug #1735384 while running java under qemu-sh4. When debug\nwas enabled it showed a problem with TCG temps. Once fixed I was able\nto run java -version normally.\n\nCc: qemu-stable@nongnu.org\nReported-by: John Paul Adrian Glaubitz <glaubitz@physik.fu-berlin.de>\nSuggested-by: Richard Henderson <richard.henderson@linaro.org>\nSigned-off-by: Alex Benn\u00e9e <alex.bennee@linaro.org>\nMessage-Id: <20171206093050.25308-1-alex.bennee@linaro.org>\nReviewed-by: Richard Henderson <richard.henderson@linaro.org>\nReviewed-by: Aurelien Jarno <aurelien@aurel32.net>\nSigned-off-by: Aurelien Jarno <aurelien@aurel32.net>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "codyprime": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/996922de45299878cdc4c15b72b19edf2bc618a4", "message": "block/curl: fix minor memory leaks\n\nSigned-off-by: Jeff Cody <jcody@redhat.com>\nReviewed-by: Richard W.M. Jones <rjones@redhat.com>\nSigned-off-by: Jeff Cody <jcody@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/2d25964d1831c99d54981e8b615eba5dd6a63e36", "message": "block/curl: check error return of curl_global_init()\n\nIf curl_global_init() fails, per the documentation no other curl\nfunctions may be called, so make sure to check the return value.\n\nAlso, some minor changes to the initialization latch variable 'inited':\n\n- Make it static in the file, for clarity\n- Change the name for clarity\n- Make it a bool\n\nSigned-off-by: Jeff Cody <jcody@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Richard W.M. Jones <rjones@redhat.com>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nSigned-off-by: Jeff Cody <jcody@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d507c5f682d23a60a356a081557ceb34ea0d2669", "message": "block/sheepdog: code beautification\n\nNo functional changes, just whitespace manipulation.\n\nSigned-off-by: Jeff Cody <jcody@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nSigned-off-by: Jeff Cody <jcody@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ac90dad94b5b1eda18a9a86c739c249d851cd35c", "message": "block/sheepdog: remove spurious NULL check\n\n'tag' is already checked in the lines immediately preceding this check,\nand set to non-NULL if NULL.  No need to check again, it hasn't changed.\n\nSigned-off-by: Jeff Cody <jcody@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nReviewed-by: Darren Kenny <darren.kenny@oracle.com>\nSigned-off-by: Jeff Cody <jcody@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jnsnow": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/aa9ef2e65bed6a8f1709e0523fc856ec08beb657", "message": "blockjob: kick jobs on set-speed\n\nIf users set an unreasonably low speed (like one byte per second), the\ncalculated delay may exceed many hours. While we like to punish users\nfor asking for stupid things, we do also like to allow users to correct\ntheir wicked ways.\n\nWhen a user provides a new speed, kick the job to allow it to recalculate\nits delay.\n\nSigned-off-by: John Snow <jsnow@redhat.com>\nReviewed-by: Stefan Hajnoczi <stefanha@redhat.com>\nMessage-id: 20171213204611.26276-1-jsnow@redhat.com\nSigned-off-by: Jeff Cody <jcody@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "doug65536": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/5c9522b358faf9688fd83cd0a881e1990bb84516", "message": "gdbstub: add tracing\n\nSigned-off-by: Doug Gale <doug16k@gmail.com>\nMessage-id: 20171203013037.31978-1-doug16k@gmail.com\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "namhyung": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/c9add6219514b20223f024584f0464b8842b1ec0", "message": "trace: Try using tracefs first\n\nRecent Linux kernel provides separate tracefs which doesn't need to be\nmounted on the debugfs.  Although most systems mount it at the\ntraditional place on the debugfs, it'd be safer to check tracefs first.\n\nSigned-off-by: Namhyung Kim <namhyung@gmail.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/babfff8e11589a2d1ab9ca777ebb16495f708616", "message": "trace: Generalize searching for debugfs\n\nThe find_debugfs() can be shared to find a different filesystem like\ntracefs.  So make it more general and rename to find_mount().\n\nSigned-off-by: Namhyung Kim <namhyung@gmail.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5070570c9089b905dd9efae30ee4318033c6ccd6", "message": "trace: Simplify find_debugfs()\n\nThe return vale of find_debugfs() is 1 if it could find a mount point of\ndebugfs.  It can be saved in the while loop instead of checking it again.\n\nSigned-off-by: Namhyung Kim <namhyung@gmail.com>\nSigned-off-by: Stefan Hajnoczi <stefanha@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "vapier": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/4e81129645af51efab76aaae2502994c596c3411", "message": "build: fix typo in error message\n\nSigned-off-by: Mike Frysinger <vapier@gentoo.org>\nReviewed-by: John Snow <jsnow@redhat.com>\nReviewed-by: Eric Blake <eblake@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "vice": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/ef670726a593b9225479ef4e6a0ec079d934ea08", "message": "Document pretty parameter for mon option\n\nDocumentation: document pretty parameter for mon option\nthat turns on JSON pretty printing\n\nSigned-off-by: Vicente Jimenez Aguilar <googuy@gmail.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mmcco": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/ab1ce9bd4897b9909836e2d50bca86f2f3f2dddc", "message": "mmap(2) returns MAP_FAILED, not NULL, on failure\n\nSigned-off-by: Michael McConville <mmcco@mykolab.com>\nReviewed-by: John Snow <jsnow@redhat.com>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "cota": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/6b1a756112c35d1243831b81609e321f0ffdaa21", "message": "qht: fix kernel-doc markup in qht.h\n\nWhile at it, s/stuct/struct/.\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/55bbc8610c310c689eb7bd889f1924a6c128e1cf", "message": "translate-all: fix 'consisits' typo in comment\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5f2d910c0068838061862978f27d6ca9a47ba194", "message": "disas/arm: fix 'instuction' typo in comment\n\nSigned-off-by: Emilio G. Cota <cota@braap.org>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ladipro": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/3c254ab8d76e49d2bda818ec5885d110f2e1e67e", "message": "Remove empty statements\n\nThanks to Laszlo Ersek for spotting the double semicolon in target/i386/kvm.c\n\nI have trivially grepped the tree for ';;' in C files.\n\nSuggested-by: Laszlo Ersek <lersek@redhat.com>\nSigned-off-by: Ladi Prosek <lprosek@redhat.com>\nReviewed-by: Laszlo Ersek <lersek@redhat.com>\nReviewed-by: Cornelia Huck <cohuck@redhat.com>\nReviewed-by: Laurent Vivier <laurent@vivier.eu>\nSigned-off-by: Michael Tokarev <mjt@tls.msk.ru>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "borntraeger": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/bb223055b9b327ec66e1f6d2fbaebaee0b8f3dbe", "message": "s390-ccw-virtio: allow for systems larger that 7.999TB\n\nKVM does not allow memory regions > KVM_MEM_MAX_NR_PAGES, basically\nlimiting the memory per slot to 8TB-4k. As memory slots on s390/kvm must\nbe a multiple of 1MB we need start a new memory region if we cross\n8TB-1M.\n\nWith that (and optimistic overcommitment in the kernel) I was able to\nstart a 24TB guest on a 1TB system.\n\nSigned-off-by: Christian Borntraeger <borntraeger@de.ibm.com>\nMessage-Id: <20171211122146.162430-1-borntraeger@de.ibm.com>\nReviewed-by: David Hildenbrand <david@redhat.com>\n[CH: 1UL -> 1ULL in KVM_MEM_MAX_NR_PAGES; build fix on 32 bit hosts]\nSigned-off-by: Cornelia Huck <cohuck@redhat.com>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "HW42": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/2e63eb2becc228232f12a1ea30a91b2aa8c5cecd", "message": "xen/pt: Set is_express to avoid out-of-bounds write\n\nThe passed-through device might be an express device. In this case the\nold code allocated a too small emulated config space in\npci_config_alloc() since pci_config_size() returned the size for a\nnon-express device. This leads to an out-of-bound write in\nxen_pt_config_reg_init(), which sometimes results in crashes. So set\nis_express as already done for KVM in vfio-pci.\n\nShortened ASan report:\n\n==17512==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x611000041648 at pc 0x55e0fdac51ff bp 0x7ffe4af07410 sp 0x7ffe4af07408\nWRITE of size 2 at 0x611000041648 thread T0\n    #0 0x55e0fdac51fe in memcpy /usr/include/x86_64-linux-gnu/bits/string3.h:53\n    #1 0x55e0fdac51fe in stw_he_p include/qemu/bswap.h:330\n    #2 0x55e0fdac51fe in stw_le_p include/qemu/bswap.h:379\n    #3 0x55e0fdac51fe in pci_set_word include/hw/pci/pci.h:490\n    #4 0x55e0fdac51fe in xen_pt_config_reg_init hw/xen/xen_pt_config_init.c:1991\n    #5 0x55e0fdac51fe in xen_pt_config_init hw/xen/xen_pt_config_init.c:2067\n    #6 0x55e0fdabcf4d in xen_pt_realize hw/xen/xen_pt.c:830\n    #7 0x55e0fdf59666 in pci_qdev_realize hw/pci/pci.c:2034\n    #8 0x55e0fdda7d3d in device_set_realized hw/core/qdev.c:914\n[...]\n\n0x611000041648 is located 8 bytes to the right of 256-byte region [0x611000041540,0x611000041640)\nallocated by thread T0 here:\n    #0 0x7ff596a94bb8 in __interceptor_calloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xd9bb8)\n    #1 0x7ff57da66580 in g_malloc0 (/lib/x86_64-linux-gnu/libglib-2.0.so.0+0x50580)\n    #2 0x55e0fdda7d3d in device_set_realized hw/core/qdev.c:914\n[...]\n\nSigned-off-by: Simon Gaiser <hw42@ipsumj.de>\nAcked-by: Stefano Stabellini <sstabellini@kernel.org>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "OwenSmith": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/d12c5b7ddf2cee57f3e72fe6f450203a9ab455ed", "message": "xenfb: activate input handlers for raw pointer devices\n\nIf the frontend requests raw pointers, the input handlers must be\nactivated to have the input events delivered to the xenfb backend.\nWithout activation, the input events are delivered to handlers\nregistered earlier, which would be the emulated USB tablet or\nemulated PS/2 mouse.\nHVM xen_kbdfront can incorrectly scale absolute coordinates when\nthe display resolution is not 800x600.\n\nSigned-off-by: Owen Smith <owen.smith@citrix.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Stefano Stabellini <sstabellini@kernel.org>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/34975e536f3531ad852d724a46280b882ec1bc9d", "message": "xenfb: Add [feature|request]-raw-pointer\n\nWrites \"feature-raw-pointer\" during init to indicate the backend\ncan pass raw unscaled values for absolute axes to the frontend.\nFrontends set \"request-raw-pointer\" to indicate the backend should\nnot attempt to scale absolute values to console size.\n\"request-raw-pointer\" is only valid if \"request-abs-pointer\" is\nalso set. Raw unscaled pointer values are in the range [0, 0x7fff]\n\n\"feature-raw-pointer\" and \"request-raw-pointer\" added to Xen\nheader in commit 7868654ff7fe5e4a2eeae2b277644fa884a5031e\n\nSigned-off-by: Owen Smith <owen.smith@citrix.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Stefano Stabellini <sstabellini@kernel.org>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/a1ccbafdedb1a66ad4100d713d55d4eaea54df82", "message": "xenfb: Use Input Handlers directly\n\nAvoid the unneccessary calls through the input-legacy.c file by\nusing the qemu_input_handler_*() calls directly. This did require\nreworking the event and sync handlers to use the reverse mapping\nfrom qcode to linux using qemu_input_qcode_to_linux().\nRemoves the scancode2linux mapping, and supporting documention.\n\nSigned-off-by: Owen Smith <owen.smith@citrix.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nReviewed-by: Stefano Stabellini <sstabellini@kernel.org>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/de80d78594b4c3767a12d8d42debcf12cbf85a5b", "message": "ui: generate qcode to linux mappings\n\nUse keycodedb to generate a qcode to linux mapping\n\nSigned-off-by: Owen Smith <owen.smith@citrix.com>\nReviewed-by: Gerd Hoffmann <kraxel@redhat.com>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pauldu": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/1491ede74dd441d77e7d8df5c65892ddfa140879", "message": "xen-disk: use an IOThread per instance\n\nThis patch allocates an IOThread object for each xen_disk instance and\nsets the AIO context appropriately on connect. This allows processing\nof I/O to proceed in parallel.\n\nThe patch also adds tracepoints into xen_disk to make it possible to\nfollow the state transtions of an instance in the log.\n\nSigned-off-by: Paul Durrant <paul.durrant@citrix.com>\nAcked-by: Stefano Stabellini <sstabellini@kernel.org>\nSigned-off-by: Stefano Stabellini <sstabellini@kernel.org>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dgibson": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/4f441474c61f317de7927edfdb1d042b0b6f3882", "message": "spapr: Assume msi_nonbroken\n\nWe conditionally adjust part of the guest device tree based on the\nglobal msi_nonbroken flag.  However, the main machine type code\ninitializes msi_nonbroken to true and there's nothing that would set\nit to false again.\n\nSo replace the test with an assert().\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Alexey Kardashevskiy <aik@ozlabs.ru>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/bcb5ce08cf3ddf69af87cc0fe750c3b564f1e6af", "message": "spapr: Rename machine init functions for clarity\n\nMachine objects have two init functions - the generic QOM level\ninstance_init which should only do static object initialization, and\nthe Machine specific MachineClass::init which does the actual\nconstruction of the machine.\n\nIn spapr the functions implementing these two have names -\nppc_machine_initfn() and ppc_spapr_init() - which don't correspond closely\nto either of those.  To prevent people (read, me) from confusing which is\nwhich, rename them spapr_instance_init() and spapr_machine_init() to\nmake it clearer which is which.\n\nWhile we're there rename ppc_spapr_reset() to spapr_machine_reset() to\nmatch.\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nReviewed-by: Suraj Jitindar Singh <sjitindarsingh@gmail.com>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/2b6154120cbd7f5514cefd3c6084d39922d26d88", "message": "spapr: Add pseries-2.12 machine type\n\nWhile we're at it fix a couple of small errors in the 2.11 and 2.10 models\n(they didn't have any real effect, but don't quite match the template).\n\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "legoater": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/2a83f9976efa9a85e8ceb9d1035a68f25c321334", "message": "target/ppc: introduce the PPC_BIT() macro\n\nand use them in a couple of obvious places. Other macros will be used\nin the model of the XIVE interrupt controller.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/7718375584a0214c951668a6e92896aaed88b289", "message": "spapr: introduce a spapr_qirq() helper\n\nxics_get_qirq() is only used by the sPAPR machine. Let's move it there\nand change its name to reflect its scope. It will be useful for XIVE\nsupport which will use its own set of qirqs.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9e7dc5fc2e9d87a5492099de72800347e944e4ea", "message": "spapr: introduce a spapr_irq_set_lsi() helper\n\nIt will make synchronisation easier with the XIVE interrupt mode when\navailable. The 'irq' parameter refers to the global IRQ number space.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/60c6823b9bce6789f1ad95bca233fc490161b279", "message": "spapr: move the IRQ allocation routines under the machine\n\nAlso change the prototype to use a sPAPRMachineState and prefix them\nwith spapr_irq_. It will let us synchronise the IRQ allocation with\nthe XIVE interrupt mode when available.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/ed0c37eedfdb953d61d1e0a41439cd404e914d9d", "message": "ppc/xics: assign of the CPU 'intc' pointer under the core\n\nThe 'intc' pointer of the CPU references the interrupt presenter in\nthe XICS interrupt mode. When the XIVE interrupt mode is available and\nactivated, the machine will need to reassign this pointer to reflect\nthe change.\n\nMoving this assignment under the realize routine of the CPU will ease\nthe process when the interrupt mode is toggled.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/4f7a47beebd6d37861d08c81941be1b33a0ae627", "message": "ppc/xics: introduce an icp_create() helper\n\nThe sPAPR and the PowerNV core objects create the interrupt presenter\nobject of the CPUs in a very similar way. Let's provide a common\nroutine in which we use the presenter 'type' as a child identifier.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/3fe4f0fc8530e9411819f02accf2d17c128061b0", "message": "spapr/rtas: do not reset the MSR in stop-self command\n\nWhen a CPU is stopped with the 'stop-self' RTAS call, its state\n'halted' is switched to 1 and, in this case, the MSR is not taken into\naccount anymore in the cpu_has_work() routine. Only the pending\nhardware interrupts are checked with their LPCR:PECE* enablement bit.\n\nThe CPU is now also protected from the decrementer interrupt by the\nLPCR:PECE* bits which are disabled in the 'stop-self' RTAS\ncall. Reseting the MSR is pointless.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/d6322252b3210b663e303746f151abbae7d0b6db", "message": "spapr/rtas: fix reboot of a a SMP TCG guest\n\nJust like for hot unplug CPUs, when a guest is rebooted, the secondary\nCPUs can be awaken by the decrementer and start entering SLOF at the\nsame time the boot CPU is.\n\nTo be safe, let's disable on the secondaries all the exceptions which\ncan cause an exit while the CPU is in power-saving mode.\n\nBased on previous work from Nikunj A Dadhania <nikunj@linux.vnet.ibm.com>\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: David Gibson <david@gibson.dropbear.id.au>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/9a94ee5bb15793ef69692998ef57794a33074134", "message": "spapr/rtas: disable the decrementer interrupt when a CPU is unplugged\n\nWhen a CPU is stopped with the 'stop-self' RTAS call, its state\n'halted' is switched to 1 and, in this case, the MSR is not taken into\naccount anymore in the cpu_has_work() routine. Only the pending\nhardware interrupts are checked with their LPCR:PECE* enablement bit.\n\nIf the DECR timer fires after 'stop-self' is called and before the CPU\n'stop' state is reached, the nearly-dead CPU will have some work to do\nand the guest will crash. This case happens very frequently with the\nnot yet upstream P9 XIVE exploitation mode. In XICS mode, the DECR is\noccasionally fired but after 'stop' state, so no work is to be done\nand the guest survives.\n\nI suspect there is a race between the QEMU mainloop triggering the\ntimers and the TCG CPU thread but I could not quite identify the root\ncause. To be safe, let's disable in the LPCR all the exceptions which\ncan cause an exit while the CPU is in power-saving mode and reenable\nthem when the CPU is started.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/403aacdb44219fcdb198e0293288a818b6cccc5d", "message": "pcc: define the Power-saving mode Exit Cause Enable bits in PowerPCCPUClass\n\nand use the value to define precisely the default value of the LPCR in\nthe helper routine cpu_ppc_set_papr()\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e0f7110acaaa222591e5f025953934c70c5ae15f", "message": "ppc/xics: remove useless if condition\n\nThe previous code section uses a 'first < 0' test and returns. Therefore,\nthere is no need to test the 'first' variable against '>= 0' afterwards.\n\nSigned-off-by: C\u00e9dric Le Goater <clg@kaod.org>\nReviewed-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "gkurz": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/638f2caa01eb1ec2c4acf4f43798bea465a7eeb5", "message": "spapr_events: drop bogus cell from \"interrupt-ranges\" property\n\nAccording to LoPAPR 1.1 B.6.12, the \"/event-sources\" node has an \"interrupt-\nranges\" property, the format of which is described in B.6.9.1.2 as follows:\n\n\u201cinterrupt-ranges\u201d\n Standard property name that defines the interrupt number(s) and range(s)\n handled by this unit.\n\n prop-encoded-array: List of (int-number, range) specifications.\n\n Int-number is encoded as with encode-int.\n Range is encoded as with encode-int.\n\n The first entry in this list shall contain the int-number associated with\n the first \u201creg\u201d property entry. The int-num-ber is the value representing\n the interrupt source as would appear in the PowerPC External Interrupt\n Architecture XISR. The range shall be the number of sequential interrupt\n numbers which this unit can generate.\n\nThere's no such thing as a cell count at the end of the array, like the\none introduced by commit ffbb1705a33d in QEMU 2.8. It doesn't seem it had\nany impact on existing guests and I couldn't find any related workaround\nin linux. So, let's just drop the bogus lines.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/bb2d8ab6369abc8e90a9f7e2e8f154fea752bdaf", "message": "spapr: fix LSI interrupt specifiers in the device tree\n\nLoPAPR 1.1 B.6.9.1.2 describes the \"#interrupt-cells\" property of the\nPowerPC External Interrupt Source Controller node as follows:\n\n\u201c#interrupt-cells\u201d\n\n  Standard property name to define the number of cells in an interrupt-\n  specifier within an interrupt domain.\n\n  prop-encoded-array: An integer, encoded as with encode-int, that denotes\n  the number of cells required to represent an interrupt specifier in its\n  child nodes.\n\n  The value of this property for the PowerPC External Interrupt option shall\n  be 2. Thus all interrupt specifiers (as used in the standard \u201cinterrupts\u201d\n  property) shall consist of two cells, each containing an integer encoded\n  as with encode-int. The first integer represents the interrupt number the\n  second integer is the trigger code: 0 for edge triggered, 1 for level\n  triggered.\n\nThis patch fixes the interrupt specifiers in the \"interrupt-map\" property\nof the PHB node, that were setting the second cell to 8 (confusion with\nIRQ_TYPE_LEVEL_LOW ?) instead of 1.\n\nVIO devices and RTAS event sources use the same format for interrupt\nspecifiers: while here, we introduce a common helper to handle the\nencoding details.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nReviewed-by: C\u00e9dric Le Goater <clg@kaod.org>\nTested-by: C\u00e9dric Le Goater <clg@kaod.org>\n--\nv3: - reference public LoPAPR instead of internal PAPR+ in changelog\n    - change helper name to spapr_dt_xics_irq()\n\nv2: - drop the erroneous changes to the \"interrupts\" prop in PCI device nodes\n    - introduce a common helper to encode interrupt specifiers\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/94ad93bd976841c26af75322301f5aad925114d6", "message": "spapr_cpu_core: instantiate CPUs separately\n\nThe current code assumes that only the CPU core object holds a\nreference on each individual CPU object, and happily frees their\nallocated memory when the core is unrealized. This is dangerous\nas some other code can legitimely keep a pointer to a CPU if it\ncalls object_ref(), but it would end up with a dangling pointer.\n\nLet's allocate all CPUs with object_new() and let QOM free them\nwhen their reference count reaches zero. This greatly simplify the\ncode as we don't have to fiddle with the instance size anymore.\n\nSigned-off-by: Greg Kurz <groug@kaod.org>\nAcked-by: Igor Mammedov <imammedo@redhat.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "mdavidsaver": {"issues": [], "commits": [{"url": "https://api.github.com/repos/otubo/qemu/commits/67113c03423a23e60915574275aed7d60e9f85e1", "message": "e500: fix pci host bridge class/type\n\nCorrect some confusion wrt. the PCI facing\nside of the PCI host bridge (not PCIe root complex).\nThe ref. manual for the mpc8533 (as well as\nmpc8540 and mpc8540) give the class code as\nPCI_CLASS_PROCESSOR_POWERPC.\nWhile the PCI_HEADER_TYPE field is oddly omitted,\nthe tables in the \"PCI Configuration Header\"\nsection shows a type 0 layout using all 6 BAR\nregisters (as 2x 32, and 2x 64 bit regions)\n\nSo 997505065dc92e533debf5cb23012ba4e673d387\nseems to be in error.  Although there was\nperhaps some confusion as the mpc8533\nhas a separate PCIe root complex.\nWith PCIe, a root complex has PCI_HEADER_TYPE=1.\n\nNeither the PCI host bridge, nor the PCIe\nroot complex advertise class PCI_CLASS_BRIDGE_PCI.\n\nThis was confusing Linux guests, which try\nto interpret the host bridge as a pci-pci\nbridge, but get confused and re-enumerate\nthe bus when the primary/secondary/subordinate\nbus registers don't have valid values.\n\nSigned-off-by: Michael Davidsaver <mdavidsaver@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/df592270447317d70c7f6ab204bbab27db1dee21", "message": "openpic: debug w/ info_report()\n\nReplace *printf() with *_report().\nRemove trailing new lines.\n\nSigned-off-by: Michael Davidsaver <mdavidsaver@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/5d8424dbd3e8335ea3d57f64eaa603c8fc80706f", "message": "nvram: add AT24Cx i2c eeprom\n\nSigned-off-by: Michael Davidsaver <mdavidsaver@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}, {"url": "https://api.github.com/repos/otubo/qemu/commits/e75ce32a75ba2fe78579882cfa06590edec2cd4a", "message": "e500: name openpic and pci host bridge\n\nSigned-off-by: Michael Davidsaver <mdavidsaver@gmail.com>\nSigned-off-by: David Gibson <david@gibson.dropbear.id.au>"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}}}}