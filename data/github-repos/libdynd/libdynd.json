{"_default": {"1": {"Alexhuszagh": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1326", "title": "Disable strict-aliasing temporarily with GCC for `container_init` in `init_kernel.hpp`", "body": "GCC is fairly well known to be very aggressive with strict aliasing, for good reason. However, on Fedora MinGW (version 7.1.0 20170502), both 32-bit and 64-bit, the `reinterpret_cast<kernel *>` calls trigger `warning: dereferencing type-punned pointer will break strict-aliasing rules`. I believe this is a compiler bug, and not actually a bug with DyND, but the following does \"patch\" the issue. \r\n\r\nI'm not sure how desirable this \"patch\" is, however, implementing it allows Fedora MinGW to fully compile DyND (along with the previous patches mentioned).\r\n\r\n```diff\r\ndiff --git a/include/dynd/kernels/init_kernel.hpp b/include/dynd/kernels/init_kernel.hpp\r\nindex 33fd5af47..83988331c 100644\r\n--- a/include/dynd/kernels/init_kernel.hpp\r\n+++ b/include/dynd/kernels/init_kernel.hpp\r\n@@ -263,6 +263,8 @@ namespace nd {\r\n     void init(const ndt::type &tp, const char *metadata) {\r\n       typedef detail::init_kernel<ResType, ContainerType> kernel;\r\n \r\n+#pragma GCC diagnostic push\r\n+#pragma GCC diagnostic ignored \"-Wstrict-aliasing\"\r\n       new (&child) kernel(tp, metadata);\r\n       destruct_wrapper = [](container_init *self) { reinterpret_cast<kernel *>(&self->child)->~kernel(); };\r\n       single_wrapper = [](container_init *self, char *data, const ContainerType &values) {\r\n@@ -271,6 +273,7 @@ namespace nd {\r\n       contiguous_wrapper = [](container_init *self, char *data, const ContainerType *values, size_t size) {\r\n         reinterpret_cast<kernel *>(&self->child)->contiguous(data, values, size);\r\n       };\r\n+#pragma GCC diagnostic pop\r\n     }\r\n \r\n     container_init(const ndt::type &tp, const char *metadata) {\r\n```", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1325", "title": "Use lowercase names for Windows API includes", "body": "Although Windows uses a case-insensitive filesystem, most other operating systems do not. Therefore, when cross-compiling, such as when using MXE or Fedora MinGW, the cross-compiler may not recognize valid includes from Windows headers. A convention was made, and all includes should use lowercase, since this does not conflict with a case-insensitive filesystem, and mirrors the naming conventions of headers in standard C++.\r\n\r\nTo support cross-compilers, only the following changes are required:\r\n\r\n```diff\r\ndiff --git a/include/dynd/memblock/memmap_memory_block.hpp b/include/dynd/memblock/memmap_memory_block.hpp\r\nindex 5a1f9b325..a6ebd6ded 100644\r\n--- a/include/dynd/memblock/memmap_memory_block.hpp\r\n+++ b/include/dynd/memblock/memmap_memory_block.hpp\r\n@@ -12,7 +12,7 @@\r\n #ifndef NOMINMAX\r\n #define NOMINMAX\r\n #endif\r\n-#include <Windows.h>\r\n+#include <windows.h>\r\n #else\r\n #include <fcntl.h>\r\n #include <sys/mman.h>\r\n```\r\n\r\n```diff\r\ndiff --git a/src/sysinfo.cc b/src/sysinfo.cc\r\nindex e10e19d..1c24239 100644\r\n--- a/src/sysinfo.cc\r\n+++ b/src/sysinfo.cc\r\n@@ -16,9 +16,9 @@\r\n #include \"internal_macros.h\"\r\n \r\n #ifdef BENCHMARK_OS_WINDOWS\r\n-#include <Shlwapi.h>\r\n-#include <Windows.h>\r\n-#include <VersionHelpers.h>\r\n+#include <shlwapi.h>\r\n+#include <windows.h>\r\n+#include <versionhelpers.h>\r\n #else\r\n #include <fcntl.h>\r\n #include <sys/resource.h>\r\n```\r\n\r\n```diff\r\ndiff --git a/src/colorprint.cc b/src/colorprint.cc\r\nindex 81f917b..e580738 100644\r\n--- a/src/colorprint.cc\r\n+++ b/src/colorprint.cc\r\n@@ -21,7 +21,7 @@\r\n #include \"internal_macros.h\"\r\n \r\n #ifdef BENCHMARK_OS_WINDOWS\r\n-#include <Windows.h>\r\n+#include <windows.h>\r\n #endif\r\n \r\n DECLARE_bool(color_print);\r\n```\r\n\r\n```diff\r\ndiff --git a/src/sleep.cc b/src/sleep.cc\r\nindex 918abc4..8f102d5 100644\r\n--- a/src/sleep.cc\r\n+++ b/src/sleep.cc\r\n@@ -20,7 +20,7 @@\r\n #include \"internal_macros.h\"\r\n \r\n #ifdef BENCHMARK_OS_WINDOWS\r\n-#include <Windows.h>\r\n+#include <windows.h>\r\n #endif\r\n \r\n namespace benchmark {\r\n```", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1325/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1324", "title": "Argument 1 null where non-null expected in _nan", "body": "Compiling on GCC-7.1.1 produces the following error traceback:\r\n\r\n```bash\r\ncd /home/ahuszagh/git/PyCPP/third_party/libdynd/build/tests && /usr/bin/c++   -I/home/ahuszagh/git/PyCPP/third_party/libdynd/include -I/home/ahuszagh/git/PyCPP/third_party/libdynd/thirdparty/utf8/source -I/home/ahuszagh/git/PyCPP/third_party/libdynd/build/include -I/home/ahuszagh/git/PyCPP/third_party/libdynd/tests/../thirdparty -I/home/ahuszagh/git/PyCPP/third_party/libdynd/tests/.  -O3 -fomit-frame-pointer -fstrict-aliasing -Wall -Wextra -Wno-missing-field-initializers -fPIC -Werror -Wno-ignored-attributes -std=c++14 -fmax-errors=20 -Wno-type-limits -Wno-maybe-uninitialized  -DGTEST_USE_OWN_TR1_TUPLE=1   -pthread -o CMakeFiles/test_libdynd.dir/types/test_struct_type.cpp.o -c /home/ahuszagh/git/PyCPP/third_party/libdynd/tests/types/test_struct_type.cpp\r\nIn file included from /home/ahuszagh/git/PyCPP/third_party/libdynd/include/dynd/gtest.hpp:17:0,\r\n                 from /home/ahuszagh/git/PyCPP/third_party/libdynd/tests/types/test_complex_type.cpp:12:\r\n/home/ahuszagh/git/PyCPP/third_party/libdynd/include/dynd/math.hpp: In function \u2018dynd::complex<T> dynd::exp(dynd::complex<T>) [with T = double]\u2019:\r\n/home/ahuszagh/git/PyCPP/third_party/libdynd/include/dynd/math.hpp:200:22: error: argument 1 null where non-null expected [-Werror=nonnull]\r\n   return std::nan(arg);\r\n                      ^\r\nIn file included from /usr/include/features.h:410:0,\r\n                 from /usr/include/c++/7/x86_64-redhat-linux/bits/os_defines.h:39,\r\n                 from /usr/include/c++/7/x86_64-redhat-linux/bits/c++config.h:2494,\r\n                 from /usr/include/c++/7/complex:41,\r\n                 from /home/ahuszagh/git/PyCPP/third_party/libdynd/tests/types/test_complex_type.cpp:6:\r\n/usr/include/bits/mathcalls.h:230:1: note: in a call to function \u2018double nan(const char*)\u2019 declared here\r\n __MATHCALLX (nan,, (const char *__tagb), (__const__));\r\n ^\r\nIn file included from /home/ahuszagh/git/PyCPP/third_party/libdynd/include/dynd/gtest.hpp:17:0,\r\n                 from /home/ahuszagh/git/PyCPP/third_party/libdynd/tests/types/test_complex_type.cpp:12:\r\n/home/ahuszagh/git/PyCPP/third_party/libdynd/include/dynd/math.hpp:200:22: error: argument 1 null where non-null expected [-Werror=nonnull]\r\n   return std::nan(arg);\r\n```\r\n\r\nThe fix, once again, is quite trivial. In `math.hpp`, the following lines should be converted:\r\n\r\n```diff\r\ntemplate <>\r\ninline float _nan(const char *arg) {\r\n#ifdef __CUDACC__\r\n  return ::nanf(arg);\r\n#else\r\n-   return std::nanf(arg);\r\n+  return arg ? std::nanf(arg) : std::numeric_limits<float>::quiet_NaN();\r\n#endif\r\n}\r\n```\r\n\r\n```diff\r\ntemplate <>\r\ninline double _nan(const char *arg) {\r\n#ifdef __CUDACC__\r\n  return ::nan(arg);\r\n#else\r\n-  return std::nan(arg);\r\n+  return arg ? std::nan(arg) : std::numeric_limits<double>::quiet_NaN();\r\n#endif\r\n}\r\n```\r\n\r\nThis simply enforces the argument passed to `std::nan` and `std::nanf` is nonnull, and uses `quiet_NAN` otherwise. This requires the `<limits>` header.", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1323", "title": "Implicit Fallthrough in Substitute TypeVars", "body": "In `substitute_typevars.cpp`, using GCC-7.1.1, there is an implicit fallthrough in the `ndt::detail::internal_substitute` for the case of a `typevar_constructed_id`. \r\n\r\nThe original code looks something like this:\r\n\r\n```cpp\r\n  case typevar_constructed_id: {\r\n    map<std::string, ndt::type>::const_iterator it =\r\n        typevars.find(pattern.extended<typevar_constructed_type>()->get_name());\r\n    if (it->second.get_id() == void_id) {\r\n      return substitute(pattern.extended<typevar_constructed_type>()->get_arg(), typevars, concrete);\r\n    }\r\n#ifdef DYND_CUDA\r\n    if (it->second.get_id() == cuda_device_id) {\r\n      return ndt::make_cuda_device(\r\n          substitute(pattern.extended<typevar_constructed_type>()->get_arg(), typevars, concrete));\r\n    }\r\n#endif\r\n// implicit fallthrough here...\r\n  }\r\n```\r\n\r\nAlthough the implicit fall-through is logically unreachable, the compiler does not know this. Changing the above code to the following prevents any implicit fallthroughts:\r\n\r\n```cpp\r\n  case typevar_constructed_id: {\r\n    map<std::string, ndt::type>::const_iterator it =\r\n        typevars.find(pattern.extended<typevar_constructed_type>()->get_name());\r\n    if (it->second.get_id() == void_id) {\r\n      return substitute(pattern.extended<typevar_constructed_type>()->get_arg(), typevars, concrete);\r\n    }\r\n#ifdef DYND_CUDA\r\n    if (it->second.get_id() == cuda_device_id) {\r\n      return ndt::make_cuda_device(\r\n          substitute(pattern.extended<typevar_constructed_type>()->get_arg(), typevars, concrete));\r\n    }\r\n#endif\r\n    stringstream ss;\r\n    ss << \"No constructed id for dynd type var \" << pattern << \" was available\";\r\n    throw invalid_argument(ss.str());\r\n  }\r\n```", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1322", "title": "CMAKE_LEGACY_CYGWIN_WIN32 Is Unset", "body": "DyND uses the WIN32 flag to remove the `-fPIC -Wno-ignored-attributes` flags during compilation, however, it fails to set the `CMAKE_LEGACY_CYGWIN_WIN32` flag at the top of CMakeLists.txt. This flag sets WIN32 to be true on MSYS2/Cygwin compilers, which do not support either flag (and would typically ignore them, however, `-Werror` is enabled).\r\n\r\nThe solution is to add the following line to the toplevel `CMakeLists.txt` at the top of the file:\r\n\r\n```cmake\r\nset(CMAKE_LEGACY_CYGWIN_WIN32 1)\r\n```\r\n\r\nOnce again, I can submit a PR with the last 3 changes, if desired.\r\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1321", "title": "MinGW/Android Don't Export hypot/cbrt to namespace std", "body": "Building libdynd on many MinGW or Android-like compilers fails since these compilers are buggy and frequently do not export `hypot` or `cbrt` to the namespace `std`. Although I am generally of the opinion that compilers should fix their non-compliance, and this should not be an issue of the library using them, in this case the fix is trivial.\r\n\r\nOriginally, `config.h` lines 987-988 look like this:\r\n\r\n```cpp\r\nusing std::cbrt;\r\nusing std::hypot;\r\n```\r\n\r\nChanging them to the following solves the issue, without interfering with MSVC, GCC, or Clang builds:\r\n\r\n```cpp\r\nusing ::cbrt;\r\nusing ::hypot;\r\n```", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1320", "title": "Signed/Unsigned Mismatch Leads to Build Failure", "body": "On MSVC, the `-WX` flag passed leads to all build warnings being treated as errors. in `type_registry.cpp`, there's a fairly simple check for an out-of-range value:\r\n\r\n```cpp\r\nif (id < 0 || id >= infos.size()) {\r\n  throw out_of_range(\"Type ID \" + to_string(id) + \" is out of range, cannot register its known type ID constructor\");\r\n}\r\n```\r\n\r\n`infos`, however, is a vector, meaning the size must be an unsigned type, and `id` is of the type `type_id_t` (an enum), which is a signed type (the check for <0 should also demonstrate that). This produces a signed/unsigned mismatch on MSVC, which then causes an error and stops the build, with the following error trace:\r\n\r\n```\r\nC:\\projects\\libdynd\\src\\dynd\\type_registry.cpp(153): error C2220: warning treated as error - no 'object' file generated [C:\\projects\\libdynd\\libdyndt.vcxproj] [C:\\projects\\crosscxx\\dynd_external.vcxproj]\r\nC:\\projects\\libdynd\\src\\dynd\\type_registry.cpp(153): warning C4018: '>=': signed/unsigned mismatch [C:\\projects\\libdynd\\libdyndt.vcxproj] [C:\\projects\\crosscxx\\dynd_external.vcxproj]\r\n    uint128.cpp\r\n    Generating Code...\r\n  Done Building Project \"C:\\projects\\libdynd\\libdyndt.vcxproj\" (default targets) -- FAILED.\r\n  Done Building Project \"C:\\projects\\libdynd\\libdynd.vcxproj\" (default targets) -- FAILED.\r\n  Done Building Project \"C:\\projects\\libdynd\\ALL_BUILD.vcxproj\" (default targets) -- FAILED.\r\n  \r\n  Build FAILED.\r\n```\r\n\r\nThe fix is quite simple:\r\n\r\n```cpp\r\nvector<id_info> &infos = detail::infos();\r\nif (id < 0 || id >= static_cast<type_id_t>(infos.size())) {\r\n  throw out_of_range(\"Type ID \" + to_string(id) + \" is out of range, cannot register its known type ID constructor\");\r\n}\r\n```\r\n\r\nIf you would like, I can submit a PR for these changes (I will also be submitting numerous other small bug fixes that I discovered via continual integration).", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1320/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "wolfv": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1274", "title": "Documentation, state?", "body": "Hi,\n\nsorry for opening this issue, but I am currently evaluating libdynd for use in a project of mine and it looks just like what I am searching for. \nThe project is to use a computation graph (like tensorflow, or when you are from continuum, like dask ;) and then generate high performance C++ from that. I am planning to publish the project to open source very soon (in a week or two).\n\nCurrently I am using armadillo as the Math/Matrix backend. However, armadillo has the limitation of not being 100% numpy compatible (e.g. more than 3D matrices are afaik not supported). And other stuff like broadcasting and views are there, but less natural as with numpy. \n\nSo obviously libdynd looks like an very interesting candidate! I would love to use it. \nHowever, I am missing some quick introduction sites, benchmarks, and some developer/API documentation as it's hard for me to evaluate the completeness of this library.\nHow ready is it to be seriously used? How many functions will I be missing?\n\nCheers!\n\nWolf\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "skrah": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1266", "title": "non-obvious type_type.hpp include", "body": "The following test program needs a `type_type.hpp` include:\n\n```\n#include <dynd/type.hpp>\n#include <dynd/types/pointer_type.hpp>\n#include <dynd/types/type_type.hpp> // fails without this\nusing namespace dynd;\n\nint\nmain()\n{\n  ndt::type d = ndt::make_type<ndt::pointer_type>(ndt::make_type<char>());\n  d.p<ndt::type>(\"target_type\");\n}\n```\n\nNot sure if it's easily possible, but it would be great to rearrange things so that this include isn't needed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1266/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1135", "title": "Alignment guarantees ", "body": "This came up while working on the PEP-3118 -> callable interface. PEP-3118 also allows quite complex structures, for example these two data type strings are equivalent:\n\n  PEP-3118:   `\"(2,3)ffZdT{B:x:(2,3)d:y:Q:z:}\"`\n  Datashape: `\"2 * 3 * (float32, float32, complex128, {x: uint8, y: 2 * 3 * float64, z: int64})\"`\n\nSo we need some guarantees that the alignment of the array described by the PEP-3118 string can be understood properly by DyND callables.\n\nDyND seems to try to align natively, but not always. Example:\n\n```\nstruct align1 {\n    uint8_t x;\n    __uint128_t y;\n    __uint128_t z;\n};\n```\n\ngcc and clang align `[0, 16, 32]`, DyND aligns `[0, 8, 24]`.\n\nAre the DyND alignment rules (especially for arbitrarily nested structs/tuples) documented?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1122", "title": "Power dimensions should allow whitespace ", "body": "This is very low priority, but I think power dimensions should allow whitespace:\n\n```\n>>> ndt.type(\"128**10 * float32\")\nndt.type('128 * 128 * 128 * 128 * 128 * 128 * 128 * 128 * 128 * 128 * float32')\n```\n\n```\n>>> ndt.type(\"128 ** 10 * float32\")\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"dynd/ndt/type.pyx\", line 141, in dynd.ndt.type.type.__init__ (/home/stefan/dynd-python/build/temp.linux-x86_64-3.6/dynd/ndt/type.cxx:1550)\n  File \"dynd/ndt/type.pyx\", line 377, in dynd.ndt.type.as_cpp_type (/home/stefan/dynd-python/build/temp.linux-x86_64-3.6/dynd/ndt/type.cxx:4420)\nRuntimeError: Error parsing datashape at line 1, column 7\nMessage: expected a number or a typevar symbol\n128 ** 10 * float32\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1116", "title": "Named ellipsis match fails", "body": "As I understand it, both of these should work:\n\n```\n>>> ndt.type(\"... * float64\").match(ndt.type(\"10 * N * float64\"))\nTrue\n```\n\n```\n>>> ndt.type(\"Dim... * float64\").match(ndt.type(\"10 * N * float64\"))\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"dynd/ndt/type.pyx\", line 289, in dynd.ndt.type.type.match (/home/stefan/dynd-python/build/temp.linux-x86_64-3.6/dynd/ndt/type.cxx:2982)\nTypeError: dim_fragment_type failed to get shape from type 10 * N * float64\n>>> \n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1114", "title": "Unexpected symbolic dimension match", "body": "If symbolic types are quantifier-free, I'd expect this to return false:\n\n```\n>>> ndt.type(\"N * float64\").match(ndt.type(\"M * float64\"))\nTrue\n```\n\nOr is the above is a shorthand for `forall M:  M elt nat => M * float64 elt {N * float64 | N elt nat}`?\n\nIn words: For all natural numbers `M`, the type `M * float64` is an element of the set {all types `N * float64` such that `N` is a natural number}.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1114/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1104", "title": "Valgrind startup times", "body": "Something in the declfunc changes has caused Valgrind runs to be very slow here.\nThe main problem is that Valgrind now has a _huge_ startup time in the order of\n2 min -- once the tests begin to run, everything seems normal.\n\nIt isn't a gtest issue: The startup time is the same when debugging dynd-python.\n\nI don't have the exact revision yet (bisecting is quite slow), but I've narrowed\nit down a bit:\n## Linux/clang-3.6\n## Build\n\nexport CC=clang &&\nexport CXX=clang++ &&\nexport CXXFLAGS=\"-stdlib=libc++\"\n\nmkdir build &&\ncd build &&\ncmake -DCMAKE_BUILD_TYPE=debug ..\n## Good Timings\n\ngit checkout 26b44a5a992161c2a3bd7d88b6e7b01ce803db75\nmake\ntime valgrind ./tests/test_libdynd\n\nreal    1m35.131s\nuser    1m32.928s\nsys     0m0.732s\n## Not so good timings\n\ngit checkout baab998862ea94f349899e8c7bc4d0271882cff9\nmake\ntime valgrind ./tests/test_libdynd\n\nreal    3m8.863s\nuser    3m6.669s\nsys     0m0.868s\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1104/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1265", "title": "[WIP] Add flag for building libdyndt only.", "body": "The problem: It would be good to cut down build times for the dynd-python build when libdynd is in the tree. It is already possible to execute `make libdyndt` manually, but I have trouble finding an elegant way to make that happen inside the dynd-python cmake machinery.\n\nAnother way would be to add a `DYND_BUILD_LIBDYND` flag, which is what this patch is doing. Since the tests and benchmarks still depend on libdynd, this is still a bit convoluted.\n\nI'm not sure if I like this patch, I'm mainly hoping for better solutions.\n", "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1022", "title": "Fix invalid access.", "body": "This fixes a valgrind error in the dynd tests.\n", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51298227", "body": "Yes, the goal is to keep one version only.  Currently both versions are needed since other parts still need to be converted.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51298227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51298240", "body": "It would return a reference to a local object otherwise:\n\n/home/stefan/libdynd/include/dynd/callable.hpp:160:53: error: returning reference to local temporary object [-Werror,-Wreturn-stack-address]\n    const nd::array &get_arg_types() const { return get_type()->get_pos_types(); }\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51298240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300680", "body": "Yes, I'll try.  In general there are still many conversions from std::vector -> nd::array because all the consumers expect an nd::array.  Can these be eliminated in the end?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51305542", "body": "Okay.  Regarding the const reference to the internal std::vector:  I'm not sure yet what the ownership invariants are.  If everything is a reference to the internal vector of the tuple type, what prevents the tuple from disappearing while something still holds a reference (I'm usually programming in C, this might be an elementary thing in C++).\n\nIs it an option to use only the move semantics you mentioned below, i.e. not use references at all?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51305542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51351390", "body": "Is it worth changing the 'make' signature to take an rvalue reference?\n\n/*\\* Makes a tuple type with the specified types */\nstatic type make(std::vector<type> &&field_types, bool variadic = false)\n{\n  return type(new tuple_type(std::move(field_types), variadic), false);\n}\n\nThe drawback is that this would require quite a bit of code changes, like https://github.com/libdynd/libdynd/blob/master/src/dynd/types/datashape_parser.cpp#L953 ::\n\n  ndt::type pos = ndt::tuple_type::make(std::move(pos_arg_types));\n  ndt::type kwds = ndt::struct_type::make(kw_names, kw_arg_types);\n  ndt::type result_tp = ndt::tuple_type::make(std::move({pos, kwds}));\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51351390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51367135", "body": "Are you also okay with leaving everything a const std::vector<type> for now and\ndo all the std::moves() later?  -- I've experimented with some small programs\nand clang/gcc produced exactly the same asm for move semantics and const-only\nvectors (it may be different of course for the actual code here).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51367135/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51367323", "body": "Ah yes, for returning vectors from e.g. get_field_types() I have const std::vector & everywhere now, for constructing tuples I have const std::vector.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51367323/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51429244", "body": "You are right (I was still thinking in C).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51429244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51748272", "body": "Yes, definitely.  The showstopper for now is https://github.com/libdynd/libdynd/pull/918/files#diff-d1a413db4b4cdcb4584670f4f43742caL417 (and also the initialization in the constructor should move to a function).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51748272/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51893106", "body": "There are a couple of string related functions in src/dynd/json_formatter.cpp that could also go into some utility file. It's hard to find a good location. \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51893106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51895173", "body": "But are you okay with the extra file for now? Then I can update the patch.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51895173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51918768", "body": "I'm not sure: `const char *field_name_begin` is not guaranteed to be NUL-terminated (I think!), so the size needs to be passed to the comparison.  With a lambda it would be possible, but it would probably not add clarity.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51918768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51919473", "body": "Ah, so it's okay to change the function signature? I'll try that.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51919473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51944669", "body": "In the latest patch I just used `std::string`.  It would be nice to have `std::buffer` for temporarily wrapping a `const char *` without making a copy, but it does not seem to exist.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51944669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52024194", "body": "Thanks! That's what I was looking for.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52024194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52939564", "body": "Thanks for all the comments!  -- I still get broadcast errors even with `EXPECT_ARRAY_EQ(s2, nd::field_access(s3, \"s2\"));`.  I'll have to look into that.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52939564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53223550", "body": "Looking at it again, I think we need something like:\n\n```\nintptr_t index = s->get_field_index(name);\n\n if (index == -1) {\n    throw std::invalid_argument(\"no field named '\" + name + \"'\");\n }\n```\n\nOr should we throw the exception in get_field_index()?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53223550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "mwiebe": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1246", "title": "Types for graphics", "body": "An issue to compile information about graphics-related types.\n- http://graphics.pixar.com/usd/docs/api/_usd__page__datatypes.html#Usd_Basic_Datatypes\n- http://www.lighthouse3d.com/tutorials/glsl-12-tutorial/data-types-and-variables/\n- https://renderman.pixar.com/resources/current/RenderMan/types.html\n\nThere's a naming problem for the parameterizations of vector size and data size. USD mixes them a bit, e.g. has `int64` as a 64-bit signed integer, and `int3` as a 3-vector of 32-bit integers. It also uses `double3`, `float3`, and `half3` as the various precisions of floating point 3-vectors. Using the types `3 * float64`, `3 * float32`, and `3 * float16` doesn't quite feel right, because they should generally be treated as scalar units, e.g. a 1-dimensional array of 3-vectors and a grey scale 2 dimensional image of height 3 shouldn't have the same type.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1246/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/776", "title": "Use chrono and an external date library instead of having dynd's own date and time calculations", "body": "The library https://github.com/HowardHinnant/date looks great for this, check out the CppCon talk https://www.youtube.com/watch?v=tzyGjOm8AKo if you have some time for it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/776/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/422", "title": "Test MSVC fenv_access, enable for fixed versions", "body": "The issue https://connect.microsoft.com/VisualStudio/feedback/details/1043829/32-bit-x86-compiler-performs-invalid-reordering-violating-pragma-fenv-access-on-request is marked resolved as fixed. Should test this and update the code when MSVC 2015 RTM is released late July.\n\nhttps://github.com/libdynd/libdynd/pull/180\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/422/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/401", "title": "Add MINGW configuration in appveyor", "body": "With the added mingw support, we should add a test configuration to keep it working.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/401/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/281", "title": "type-var constructed types", "body": "Add a type to represent a typevar with constructor arguments.\n\nSee https://github.com/ContinuumIO/datashape/blob/master/docs/source/grammar.rst, in particular the part:\n\n```\n# Type Constructor (from the data type constructor symbol table)\ntype_constr : NAME_LOWER LBRACKET type_arg_list RBRACKET\n\n# Type Constructor: list of arguments\ntype_arg_list : type_arg COMMA type_arg_list\n              | type_kwarg_list\n              | type_arg\n\n# Type Constructor: list of arguments\ntype_kwarg_list : type_kwarg COMMA type_kwarg_list\n                | type_kwarg\n\n# Type Constructor : single argument\ntype_arg : datashape\n         | INTEGER\n         | STRING\n         | list_type_arg\n\n# Type Constructor : single keyword argument\ntype_kwarg : NAME_LOWER EQUAL type_arg\n\n# Type Constructor : single list argument\nlist_type_arg : LBRACKET RBRACKET\n              | LBRACKET datashape_list RBRACKET\n              | LBRACKET integer_list RBRACKET\n              | LBRACKET string_list RBRACKET\n\ndatashape_list : datashape COMMA datashape_list\n               | datashape\n\ninteger_list : INTEGER COMMA integer_list\n             | INTEGER\n\nstring_list : STRING COMMA string_list\n            | STRING\n```\n\nThis feature is incompatible with the desire for more free-form type constructor arguments, as discussed in ContinuumIO/datashape#112.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/281/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/163", "title": "Support dimension fragments as first class symbolic types", "body": "As part of dynd's type pattern matching there is a dimension fragment created for intermediate processing of ellipsis dimension types. It appears to be necessary to make dimension fragments first class in the dynd type system, for example to include inside grouped named dimension fragments as in #162.\n\nA way to implement this would be for any dimension type whose element type is uninitialized to be the terminator of a dimension fragment. There are a few things to keep in mind for implementation:\n- It merges the namespace of dimension and dtype.\n- There is a slight complication between the dimension and dtype typevar, where the dtype typevar should be able to match the last dimension in a dimension fragment or another dtype.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/162", "title": "Support typevars with type constraints as dimension fragments/symbolic types", "body": "In combination with the dimensional power, it would be nice to be able to group dimension fragments, allowing one to assign a name to a sequence of several dimensions. For example, `(Dims: fixed**N) * float32` expresses a 32-bit float array with N fixed dimensions, and the name `Dims` can be used later to substitute the particular dimensions matched.\n\nThe proposed syntax is `(Name: type)`, and is distinguished from a tuple type by the symbolic name and colon immediately after the opening parenthesis.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/162/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/158", "title": "string type memory representation", "body": "DyND's string representation could use some refinement. Currently, there are two ways strings are represented: A numpy-style fixed size buffer, and a pooled allocation with each string being a pair of pointers into that pool. The default string type is the latter, using the utf-8 encoding. This has some slightly unintuitive consequences, the biggest being that the string acts as a \"write once\" type. This is fine for simple data conversions and some kinds of computations, but not for interactive manipulation or algorithms which will repeatedly append/modify an array of strings.\n\nSome properties we would like DyND's string representation to have include:\n1. Heap allocation by default, but allow for pooled allocation and referring to strings inside other buffers.\n2. Support the small string optimization, so strings that fit in 15 or fewer bytes don't require a separate memory allocation.\n3. Have other string representations, like fixed-size buffers or various encodings, be expression types whose value type is the standard string type, and whose storage type is bytes[N] or bytes.\n\nIt may be desirable to have an additional \"rope\" type to represent enormous editable strings, but this is not an immediate priority.\n\nThe implementation changes to represent strings satisfying the desired properties are:\n1. Change the memory block allocation to have a heap vs pooled capability.\n2. Introduce the small string optimization. Make the storage be two 64-bit values on all platforms, with the last byte signalling whether it refers to an external buffer or data in the first 15 bytes. Some accounting for big/little endian must occur here.\n3. Change the fixedstring, etc types to be \"adapt\" types, to fit them into a uniform adaptation mechanism. Probably good to still have string[...] aliases for the type representation for simple spellings of these types.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/158/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/157", "title": "missing ?T arithmetic", "body": "```\nIn [84]: x = nd.array([1, 2, None])\n\nIn [85]: x + 1\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-85-4cf92658b648> in <module>()\n----> 1 x + 1\n\nC:\\Users\\mwiebe\\Anaconda\\lib\\site-packages\\dynd\\_pydynd.pyd in dynd._pydynd.w_array.__add__ (dynd._pydynd.cxx:10214)()\n\nRuntimeError: Addition is not supported for dynd types ?int32 and int32\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/144", "title": "Base comparison on a trivalent \"spaceship\" operator instead of many predicates", "body": "As described in the talk here:\n\nhttps://github.com/CppCon/CppCon2014/tree/master/Presentations/C%2B%2B11%20in%20the%20Wild%20-%20Techniques%20from%20a%20Real%20Codebase\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/124", "title": "Easy way to adapt types at nd::array creation", "body": "Given data that has a form like \n\n```\ndata = [{u'timestamp': u'1410360724063', u'url': u'http://google.com/', u'score': u'0.0'}, {u'timestamp': u'1410360724063', u'url': u'http://eccie.net/', u'score': u'0.0'}]\n```\n\nit would be nice to be able to say something like\n\n```\nIn [54]: nd.array(x, dtype=\"{timestamp: adapt[(int64) -> datetime, 'seconds since 1970'], url: string, score: float64}\")\n```\n\nand have it process the timestamp input as integers, apply the transformation, and result in a datetime type.\n\nProbably nd.asarray should have the same behaviour, but nd.view should not.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/117", "title": "Add a hash function implementation to ndt::type", "body": "As part of this, could add a cached hash value to the struct defining members shared by all ndt::type objects (https://github.com/ContinuumIO/libdynd/blob/master/include/dynd/types/base_type.hpp#L91).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/117/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/116", "title": "Extend datashape for arbitrary function signatures/variadic parameters", "body": "If multidispatch is used with components that have different numbers of parameters, there is no way to represent the function signature that results. To fix this, we can extend the datashape function signature syntax slightly. The `...` ellipsis is currently used only for variadic dimensions, but if used by itself, it can also unambiguously represent variadic parameters.\n\n```\n(int, real, ...) -> real\n(...) -> R\n(...) -> Dims... * R\n```\n\nTo also indicate a fully arbitrary unnamed output type, we could again reuse `...`:\n\n```\n# Most general function signature\n(...) -> ...\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/113", "title": "Check that ndt::make_type<T>() is consistent", "body": "With recent changes to ndt::make_type<T>(), there are some inconsistent assumptions in code using it. In particular, some code assumes that the result of this exactly matches the memory layout of data typed with the given type, but this doesn't hold for type (https://github.com/ContinuumIO/libdynd/blob/master/include/dynd/type.hpp#L740).\n\nWe need to resolve this, perhaps by allowing ndt::make_type<T> to be a bit more general, allowing ndt::make_type<bool>()/ndt::make_typestd::string(), and creating an alternative ndt::make_rawmem_type<T>() or something similar for precise memory layout.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/97", "title": "Multiple dispatch for arrfuncs", "body": "The nd::arrfunc object does its type resolution via some function calls, and so far either custom code or strict matching has been used to match types. Would like to provide a way to do multiple dispatch across a bunch of owned arrfuncs.\n\n<!---\n@huboard:{\"order\":243.25,\"milestone_order\":97,\"custom_state\":\"\"}\n-->\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/97/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/96", "title": "Create arrfunc publishing mechanism, add basic math functions", "body": "Need a way to publish libraries of arrfuncs, and build in a library of basic math functions to roughly match numpy's. Thinking to do some kind of namespace mechanism.\n\n<!---\n@huboard:{\"order\":486.5,\"milestone_order\":96,\"custom_state\":\"\"}\n-->\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/96/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/73", "title": "Change nd::view to always return a new nd::array container object", "body": "See comments in https://github.com/ContinuumIO/libdynd/pull/65/files#diff-7b71ac7941948b3d6f279bdaa61db8a0R1278\n\nBeing able to make an nd::view followed by manipulating the arrmeta seems like it will be a common idiom, and having nd::view be guaranteed to return a new unique nd::array container is the way to have this work.\n\n<!---\n@huboard:{\"order\":59.5,\"milestone_order\":73,\"custom_state\":\"\"}\n-->\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/73/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/71", "title": "Review behavior of scalar to var dim assignment", "body": "Currently given a scalar, it produces a size-1 dimension in the output if nothing has been allocated, and broadcasts to what's there if it has. We could alternatively raise an error in the first case instead of allocating a size-1 dimensions.\n\ncc @mrocklin \n\n<!---\n@huboard:{\"order\":51.0,\"milestone_order\":71,\"custom_state\":\"\"}\n-->\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/71/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/68", "title": "Flip tuple=False default in nd.as_py, nd.format_json", "body": "The default was made to convert to/from Python dictionaries and JSON objects, but going to/from sequences seems better based on experience in Blaze. Thus, change the default.\n\n<!---\n@huboard:{\"order\":68.0,\"milestone_order\":68,\"custom_state\":\"\"}\n-->\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/68/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/67", "title": "Support int<->string with thousands separators, alternative decimal point", "body": "Encountering numbers like \"1.000.000\" for a million. Proposed way to do this is with the adapt[] type/operation, something like \"adapt[(string) -> int, 'decimal=, thousands=.']\" modulo figuring out a good syntax within the adaptation description string.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/67/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/57", "title": "relax input strictness on timezone-less datetimes", "body": "To get things to work prior to getting decent timezone support using the Olson database + code, relax the input parsing to throw away time zones when inputting to timezone-less datetimes.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/57/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/33", "title": "Need intelligent summarization of really large arrays", "body": "Ran into a problem by parsing a 1.5GB json file into a single dynd array, then printing it out in ipython with the repr. \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/33/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/18", "title": "reduction ckernel lifting of var_dim dimensions", "body": "This appears to require using something like a mask to work correctly. Simple example:\n\n```\nmin([[], [3]])\n```\n\nshould return 3, but that can't be seen until later. A more complicated example:\n\n```\nmin([[[], [], []],\n     [[], [1], []],\n     [[2], [], []]], axis=(0, 2))\n```\n\nshould raise, but we can't see that until it reaches the end.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/18/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commits": [{"url": "https://api.github.com/repos/libdynd/libdynd/commits/7bec433171991ea92cd86e5331c5f6c9370ccbea", "message": "Merge pull request #1313 from mwiebe/callable_parse\n\nMove callable_type fully into libdynd from libdyndt"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/f9f1fde1e55c78d9e69d84482aa244f9385e621e", "message": "Fix for warning about unused global"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1b2844c074568a3a908122026916a118a29095de", "message": "Reenable callable_type typevar substitution via generic type reconstruction"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/f4ce5f317fd92003e7b3c47e203ed39b70383891", "message": "Change all the parsed callable types to explicit ndt::make_type"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/53bd41b4cda4bf23b7a80674916c696b86ef8372", "message": "Move callable_type into libdynd"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1eab3797347ba01fed1d4bdb9c48e455e26ec1f3", "message": "Add function to register a type constructor for a known type id"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/6ad2d94a6d962647e4f7ab736cff121631028bd6", "message": "Merge pull request #1312 from mwiebe/type_type\n\nRestructure type_type so it can be included from type.hpp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/a8cceb924285c66ab1fc69d4e0454c1d53848950", "message": "Restructure type_type so it can be included from type.hpp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/80df70faa4c62c190fef89d320dc1b51fd54f50f", "message": "Merge pull request #1311 from mwiebe/callable_parse\n\nMove more type parsing to use the type_registry mechanism"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/2a52ce5d397b66a1561f578437c306b3db286727", "message": "Move more type parsing to use the type_registry mechanism"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/b2f8b5a970cbabc977c28752c94423901c5d93d0", "message": "Merge pull request #1310 from mwiebe/fix_dim_kind_type\n\nFix dim_kind_type"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/a59fecff95df0149041e44f9e723e7e6ccf2f1f0", "message": "dim_kind_type fixes and tests"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/f822527ba5c52f7f8db5808062cc12c729f4cc21", "message": "Fix up the dim_kind_type to actually be a dimension type"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/e812d62db539912d0f9916081d261bc18fa7f239", "message": "Merge pull request #1309 from mwiebe/callable_parse\n\nWork towards pluggable datashape parsing"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/c714c07df7f13c1c86013075af5ce00d279a8e2b", "message": "Work around seemingly incorrect warning when building with asan"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/e4c29b93681dbd73e7235afebb940ed70329ad54", "message": "Get all the tests passing with the current state of the parsers/type constructors"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/b94643ea9ba97f98c6635a5aa43aa8c226f6a43e", "message": "Add element type to type constructor, rename some parsing functions\n\nRather than defining two separate type constructor functions,\none for as a dimension type and another for as a scalar type,\none function is used which takes the element type or an uninitialized\ntype."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/2e9b56315f80b81b65ec7e7829200378357b0787", "message": "Move a bunch of the type parsing into the respective classes implementing the type"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/100bdd26188ff0625e9819ee3f3754b3382902a0", "message": "Start with empty slots for the pluggable parsing"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/2365558f5fcc0f892091a4f58770a2c8066edad9", "message": "Start the basic facility for pluggable type parsing"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/050431277ca9e084006c9ec1f95b00de5c6be74e", "message": "Apply clang-format to various parsing code"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/a4a4a7ee518837d1fc5c428389a4cafbec309928", "message": "Reenable datashape parsing of generic type constructor arguments"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/ab22d7a1a22db312cfbc6efa330659300dd89299", "message": "Resurrect generic type constructor argument parsing"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1ab3ef652cd920599b5f2dbb266cf784da7ac858", "message": "Move C++ value initialization from nd::array to nd::buffer"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1e5c274fd79340d736acff8799e6663046ba6494", "message": "Move init.hpp from dynd to dyndt, rename to buffer_init.hpp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/edd0229c00acb1e88a891d2eb9dbd1410e55852a", "message": "Fix up/add some .hpp files in CMakeLists.txt"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/9980862557aa59f74ec5d3e64faccf1961fe6a2b", "message": "Merge pull request #1272 from mwiebe/multidispatch\n\nDesign doc for multidispatch algorithm"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/6a0472a491ffe8da9d16a2dc68f65db7d6fff3c1", "message": "Save changes"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/69cc9837c34c304560bb13dff5cdaf5cd2cc0683", "message": "Fix up the matches set in the md doc, extend the code in the notebook a bit more"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3a7830fa7ba2aacfdfe8d9a95ebed5ca611e7f69", "message": "Further progress on multidispatch notebook, working on sigs with typevars"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/df2b3430e124e9a56b406a897db9405b4eeb75c7", "message": "Add tuple_type constructor from vector<type>"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/5de386d3b0a64b5f02936991c9678fe07d5fd59b", "message": "Move substitute_typevars into libdyndt"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/ce8c9ef04a8c5145105f658e904a6c00a54d1965", "message": "Update matches graph plot to eliminate redundant edges"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/83b49a5405a1059c406ed711c30fb6945871b795", "message": "Add simple tests of typevar matching"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/0e02b75dd516ce904329c2a8dd594610995b928d", "message": "Fix bug in typevar type matching (it's still mostly wrong, detail work needed)"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/35df93e01cdeaab02db799ebbe395fff19b2adc5", "message": "Add libdyndt as library for test_libdynd, so dependency rebuilding works correctly"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/e2afe6c61916786c5d095e7dd15891f81bfd9b5f", "message": "Add graphviz visualization of matches graph"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/7bc06ff8d8ecd9f6c0f0afc8985b89ee46897346", "message": "Postpone the candidate evaluation to later, just process first equation to simplify exposition"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/fca11ecfb8e004f88d0dc09e16cfb5257614ad23", "message": "Create notebook which constructs and runs multi-dispatch signature matching machines"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/bf0ca0b6c403dcbd724eb80e43843fd5fac8509b", "message": "Fix up the rest of the examples to use the equations"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/4d351160790e1ec76b1daa831dd92998c8609a28", "message": "Expand the equation matching algorithm with a type variable symbol table"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/170de487c3a75a8ba75da1a8bfe77658b6da5808", "message": "Express the decision tree construction in terms of equations instead of hand-wavy candidates"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/f743daa69103ddc2b2829faa74680fad456b2bc8", "message": "Add missing header to libdyndt_SRC"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/96d985e071821c84886c855ff6376b8eb94f0a8c", "message": "Work out example 1 fully, including the resulting decision tree execution"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/79c92beac9d45abf0bb05f4eeec3f5d8ee72568c", "message": "Add an example with a tuple"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/d907df1a2d134b095a2fb0d93f16601ecb67065a", "message": "Add some examples including dimensions"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/5404d34304b343a66eaa713a1eb0705c1ee5a89e", "message": "Add some details about building the decision tree, with a few worked examples"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/07129980eb64663ab7adc06841c26d44ebaeef34", "message": "Write out how the decision tree for multi-dispatch can work"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/317027a7646cd746d4e2d1c7a2ab4bddaaac986a", "message": "Some first scratches on a multidispatch algorithm based on the matches primitive"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34681812", "body": "I've pushed a fix to this, just waiting to validate it through the automated builds. These builds are installable from binstar (https://binstar.org/mwiebe/dynd-python for instructions) as they get uploaded by the builder machines.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34681812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34817445", "body": "Thanks for the bug report, proceeding to close the issue.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34817445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34997314", "body": "@aterrel I removed the irrelevant commit, this should be better.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34997314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/35132814", "body": "Looks good, thanks! Another comment is to make a feature branch for the PR instead of working off of master. e.g.:\n\n```\n$ git checkout -b cudabuild\n...\n$ git push origin cudabuild\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/35132814/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/35809686", "body": "Done in PR #8.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/35809686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/36326437", "body": "Having the memory space fixture-basted tests is great, but I think there really needs to be a test_cuda_array.cpp which specifically puts all the typical things you would do with the assignments between various memory space arrays through their paces, and validates that you can only create cuda memory types that make sense. It should do these tests trying to use the more user-friendly array object syntax where possible. (Note: I'm using the new datashape syntax here, so my examples won't necessarily work unless you rebase off of my new_parser branch)\n\n```\n// I was under the impression that this was what we wanted:\nndt::type(\"cuda_host[strided * strided * int32]\")\n// not this:\nndt::type(\"strided * strided * cuda_host[int32]\")\n// to make it possible to error check against things like this:\nndt::type(\"strided * var * cuda_host[int32]\")\nndt::type(\"pointer[strided * cuda_host[int32]\")\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/36326437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37056357", "body": "Going with apply for now, I could see us eventually creating three similar functions possibly with the following naming scheme:\n\nnd::apply\nThis function, uses the fact of immediate evaluation for efficiency, reducing the number of dynamic allocations and some other things.\n\nnd::map\nSimilar to this, but returns a deferred object instead of immediately evaluating it\n\nnd::foreach\nallows parameters to be mutable references, guarantees a particular loop order, so can modify multiple arrays in place.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37056357/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37483444", "body": "I'm going to close this at let @izaid make a PR for his branch.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37483444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37988856", "body": "Ah, that would be because we removed that flag when doing the CUDA support. It could be turned on selectively based on whether CUDA support is enabled.\n\nIn clang, there is a very useful __has_feature macro I've been meaning to use for this purpose (http://clang.llvm.org/docs/LanguageExtensions.html#checks-for-standard-language-features) but haven't gotten around to doing that change yet. Not sure if gcc has something similar yet.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37988856/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37996564", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37996564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37997231", "body": "There's a build error on gcc in travisci from this, and looking at config.hpp, it appears that it's something I've run into before and made a DYND_ISNAN macro to work around. Changing the C++11 logic for 4.6 should fix this.\n\nhttps://github.com/ContinuumIO/libdynd/blob/master/include/dynd/config.hpp#L41\n\nI think let's have it be C++98 (remove the --std=c++0x flag) for gcc < 4.7, and C++11 from gcc 4.7 and onward. Also, if DYND_CUDA is enabled, it should exclude c++11 on gcc 4.7 and onward.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37997231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/38120451", "body": "The particular C++11 features being supported don't make things too crazy, there are basically just two things presently:\n- adding the constexpr keyword in places via DYND_CONSTEXPR\n- allowing initializer lists to construct nd::array, e.g. \"nd::array b = a + {1, 2, 3};\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/38120451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39402534", "body": "Merged\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39402534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39767869", "body": "Yeah, parsing dates is kind of messy. What I've written here is really only part of the story, because it's pretty English-oriented.\n\nC++ does have a mechanism to parse datetimes that are formatted as specified by the current locale (http://www.cplusplus.com/reference/locale/time_get/get_date/), so doing that is an option, but has some complications making sure the string is in the system locale's codec before calling it. Pandas is using the dateutil library, which has its own custom parser. In NumPy, the parser only handles ISO 8601 formatted strings.\n\nFor strptime, you specify the exact format to match against. This accepts any number of common unambiguous formats.\n\nTo extend it to new date/time formats requires editing the C++ code.\n\nNo, I haven't done performance testing, but I suspect this code does pretty well because of how it's written.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39767869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39771318", "body": "I think exposing both strftime and strptime as ufuncs or ufunc methods makes sense. This is partially implemented already:\n\n```\nIn [8]: from dynd import nd, ndt\n\nIn [9]: a = nd.array(['2011-12-10', '2000-01-01'], dtype=ndt.date)\n\nIn [10]: a\nOut[10]: nd.array([2011-12-10, 2000-01-01], type=\"strided * date\")\n\nIn [11]: a.strftime('%Y-%m')\nOut[11]: nd.array([\"2011-12\", \"2000-01\"], type=\"strided * expr<string, op0=date, expr=strftime(op0, \"%Y-%m\")>\")\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39771318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/41461731", "body": "Merging so can be used right away\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/41461731/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43117364", "body": "The name arrfunc came out of some discussion with TJ. It's a typed array function.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43117364/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43117674", "body": "No, it's all renaming, and I don't have any tools that can do this with some semantic knowledge. http://clang.llvm.org/docs/LibTooling.html is making it a possibility to do changes like this that way, though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43117674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43118710", "body": "The features of it that I'm considering important to have are:\n- Can be scalar or array: e.g. scalar add with type (int32, int32) -> int32, lifted version of that add with type (A... \\* int32, A... \\* int32) -> A... \\* int32\n- Lowers to a ckernel for execution\n- Composable, so dynd would grow a set of functions which assemble together arrfuncs. There is already some of this in the lifting mechanism, for example.\n\nOne thing I haven't worked out is where to put or how to structure the extra keyword parameters that can affect the output type like was done in blaze functions. I think that needs to go in here too.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43118710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43129535", "body": "The next steps will be to incrementally tweak the arrfunc abstraction a bit, I think after a few iterations of that the choice of name will prove to be good or need changing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43129535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43424374", "body": "When I try to build this in MSVC2013, here are the first errors that show up:\n\n```\n2>  yn.c\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(76): error C2054: expected '(' to follow 'inline'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(77): error C2085: '__npy_inff' : not in formal parameter list\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(77): error C2143: syntax error : missing ';' before '{'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(82): error C2054: expected '(' to follow 'inline'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(83): error C2085: '__npy_nanf' : not in formal parameter list\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(83): error C2143: syntax error : missing ';' before '{'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(88): error C2054: expected '(' to follow 'inline'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(89): error C2085: '__npy_pzerof' : not in formal parameter list\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(89): error C2143: syntax error : missing ';' before '{'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(94): error C2054: expected '(' to follow 'inline'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(95): error C2085: '__npy_nzerof' : not in formal parameter list\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\mconf.h(95): error C2143: syntax error : missing ';' before '{'\n2>d:\\develop\\libdynd\\thirdparty\\cephes\\protos.h(10): warning C4273: 'acosh' : inconsistent dll linkage\n2>          C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\VC\\include\\math.h(475) : see previous definition of 'acosh'\n```\n\nBecause we're in C++, I think using `std::numeric_limits<T>::infinity()`, `std::numeric_limits<T>::quiet_NaN()`, etc would be reasonable.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43424374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43970070", "body": "Looks good to me. After fixing up the things I've noted, and appending info about the cephes license to LICENSE.md, will go ahead and merge.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43970070/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45393150", "body": "I've split up the files that are using the most memory (elwise.hpp and test_elwise.cpp) to try and reduce memory usage, can you try this and see if it helped?\n\n@izaid do you have any ideas for what to try?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45393150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45530655", "body": "Thanks for reporting that, and glad it works now!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45530655/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45665841", "body": "Merging - this PR consists of function signature changes/renamings and updates to reflect them.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45665841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/46718737", "body": "Having arrays generally be created immutable is basically an experiment to see how far this can go. Without deferred evaluation happening everywhere, it looks like this might not be as reasonable an option.\n\nIn NumPy, there's an inconsistency around this related to the array scalars, which are immutable (except for the struct one which is sort of not), and which get returned when you hit zero dimensions. So code like\n\n```\nv = a[1]\nv[...] = 100\n```\n\nworks if `a` has two or more dimensions, but not if `a` has one dimension.\n\nWhen a dynd array is immutable, it should (in the future) be possible to use it as a key in a dictionary, otherwise not. I guess this boils down to the design question of how to cleanly support mutable computations while also getting some of the nice properties with immutability. What directions would you like to see this go?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/46718737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48137341", "body": "I'm going to merge this, I think it's good as is, and any refinements can be follow-up PRs.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48137341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48852428", "body": "Thanks for the fix!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48852428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49135995", "body": "Yeah, let's change the default to readwrite instead of immutable. Forcing the result of possibly large immediately evaluated expressions to immutable doesn't make sense.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49135995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49137021", "body": "I've implemented/merged a change with the hope to make it easier to work with purely strided arrays, maybe this helps in the cases you're running into? This change had a few elements to it:\n1. The arrmeta of all the types of strided dims is the same, redundantly storing the information from fixed_dim and cfixed_dim. I created a type with the dim_size/stride pair called size_stride_t which is how the arrmeta is laid out.\n2. The type has a new field, accessible as tp.get_strided_ndim(), which indicates how many adjacent strided dimensions are in a row at the beginning of the type. This is also the number of size_stride_t structs at the beginning of its corresponding arrmeta.\n3. To provide an interface to this, I added another overload of tp.get_as_strided, which produces information for the number of dimensions requested instead of just one.\n\nI believe your use case is using strided arrays, so checking the strided_ndim and using the size_stride_t might be an efficient and easy way to access this info? Maybe it still needs some API tweaks or additions to be more convenient.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49137021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49212074", "body": "Looking through this, a few questions/notes:\n- For axis/axes-style arguments, I've made things support python-style negative indices, is this something we want in general?\n- Also for the axes argument, we probably want to bounds check them\n- The C++11 initializer_list would be nice to use for the axes. I guess for code in C++11, it will already work by creating a temporary vector to pass in.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49212074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51230751", "body": "Seems reasonable to me, merging\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51230751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51232355", "body": "Thanks for the fix!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51232355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51234990", "body": "I don't think we want to add null checks everywhere in the C++ layer like this, rather put them a layer up like in the python exposure where we want more safety over performance.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51234990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51417443", "body": "This was fixed in dynd-python.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51417443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51417600", "body": "Adding the get_dim_size(intptr_t i) method as you're describing sounds good to me.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51417600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51418492", "body": "This works now, likely fixed by the python assignment arrfunc changes in dynd-python.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51418492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51418560", "body": "This works now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51418560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53897196", "body": "Looks good! I didn't see a test case of a label being a number `{'1234' : int}`, that might be nice to include as well.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53897196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53905669", "body": "Merged\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53905669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54769359", "body": "Defining this kind of coding convention in terms of clang-format (http://clang.llvm.org/docs/ClangFormat.html), and using it to reformat code that's inconsistent is the approach I prefer. I've created .clang-format files in the repo (https://github.com/ContinuumIO/libdynd/blob/master/.clang-format), and if you set up clang-format keybindings in your text editor, it's generally just a single keystroke to fix things up.\n\nThat doesn't answer what is the one true style for libdynd. I started with size-4 indentation, but it wasn't working great in some cases, so I switched it to size-2. That means the code base is also presently inconsistent on that indentation amount.\n\nI've set options in the .clang-format file to do roughly the brace-style that I was using in the code prior to adding it. Have you got clang-format working in your editor, and what do you think of the results it's producing?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54769359/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54771017", "body": "Handed off to Irwin\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54771017/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54850938", "body": "Yeah, sounds good to me. I made the name as it is to more tightly couple libdynd/dynd-python as things were changing rapidly.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54850938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55152629", "body": "`...` currently means arbitrary dimensions, like `... * float32` matches against any number of dimensions followed by a float32. This is proposing to also use `...` to mean arbitrary many arguments when it appears by itself, with no `* Type` following it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55152629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55370957", "body": "More specifically to this bug, it looks like the reason for the inconsistency is that the style I was using before with if/else isn't one of the options, what I picked (Stroustrup) is slightly different:\n\nFrom http://clang.llvm.org/docs/ClangFormatStyleOptions.html#configurable-format-style-options\n\n> BreakBeforeBraces (BraceBreakingStyle)\n> The brace breaking style to use.\n> \n> Possible values:\n> \n> BS_Attach (in configuration: Attach) Always attach braces to surrounding context.\n> BS_Linux (in configuration: Linux) Like Attach, but break before braces on function, namespace and class definitions.\n> BS_Stroustrup (in configuration: Stroustrup) Like Attach, but break before function definitions, and \u2018else\u2019.\n> BS_Allman (in configuration: Allman) Always break before braces.\n> BS_GNU (in configuration: GNU) Always break before braces and add an extra level of indentation to braces of control statements, not to those of class, function or other definitions.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55370957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55547708", "body": "See https://github.com/CppCon/CppCon2014/tree/master/Presentations/Types%20Don't%20Know%20%23%20-%20Howard%20Hinnant%20-%20CppCon%202014\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55547708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55547922", "body": "The implementation looks ok, but I have a question for how it affects the arrfunc design: How does it interact with composability of arrfuncs? For example let's say we have a chain_arrfunc operation:\n\n```\nnd::arrfunc af0 = ..., af1 = ...; // Signatures (T1) -> T2 and (T0) -> T1\nnd::arrfunc chained = chain_arrfunc(af0, af1); // Gets signature (T0) -> T2\n```\n\nBoth `af0` and `af1` use aux_buffer data, what does `chain_arrfunc` need to do?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55547922/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56147128", "body": "Looks alright to me, feel free to merge it after fixing the various spacing, naming things. I'll double check on the jenkins build tomorrow after it's in.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56147128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56490207", "body": "This one also needs a corresponding python bindings update to merge concurrently, I'll create that.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56490207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56492051", "body": "One thing that needs to be tested is that passing a readonly or immutable array as any parameter of a non-const arrfunc raises an error.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56492051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57354783", "body": "Maybe we should consider setting up precompiled headers?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57354783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58043967", "body": "I think I've run into something like what you're seeing, where gcc had memory leaks and clang didn't. In my case it turned out to be a gcc bug, not sure about here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58043967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58048555", "body": "I don't expect these changes to affect blaze, but will definitely test blaze against it before merging the python bindings, because it's possible it could.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58048555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58050989", "body": "It was in the nd::elwise machinery, my description of it and the changeset that fixed it is https://github.com/ContinuumIO/libdynd/commit/dd2f5971964f7da22037f1c3b10d1ba4563ccfcb\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58050989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58292613", "body": "This is done.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58292613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58688745", "body": "1100 lines of code deleted, nice!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58688745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/59881910", "body": "It apparently can reduce compilation times on MSVC (http://msdn.microsoft.com/en-us/library/4141z1cx.aspx), but maybe not elsewhere. I'm for it because it's a lot simpler than manually managing the include guards, and all the compilers support it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/59881910/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/59884882", "body": "Looking around, everything I'm finding is clear about it as you say, so let's do this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/59884882/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61112760", "body": "I had some thoughts about this a while ago here: https://github.com/numpy/numpy/blob/master/doc/neps/missing-data.rst#reduction-ufuncs-with-missing-values\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61112760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/65033535", "body": "The build on appveyor corresponding to the bug is:\n\nhttps://ci.appveyor.com/project/mwiebe/libdynd/build/0.6.6.16/job/eedio9nqgcv0h3lk\n\nthe test failure caused by the MSVC compiler bug is visible in this failure:\n\n[ RUN      ] TypeAssign.FixedSizeTests_Float64\n....\\tests\\types\\test_type_assign.cpp(331): error: Expected: typed_data_assign(ndt::type(complex_float32_type_id), 0, (char *)&v_cf32, s_dt, 0, s_ptr, &tmp_ectx) throws an exception of type runtime_error.\n  Actual: it throws nothing.\n....\\tests\\types\\test_type_assign.cpp(336): error: Expected: typed_data_assign(ndt::type(complex_float32_type_id), 0, (char *)&v_cf32, s_dt, 0, s_ptr, &tmp_ectx) throws an exception of type runtime_error.\n  Actual: it throws nothing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/65033535/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/65035723", "body": "Bug report submitted here:\n\nhttps://connect.microsoft.com/VisualStudio/feedback/details/1043829/32-bit-x86-compiler-performs-invalid-reordering-violating-pragma-fenv-access-on-request\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/65035723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/68220228", "body": "Merging because I want to touch the initializer list code as well.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/68220228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/68836545", "body": "Merging current progress...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/68836545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70062497", "body": "Yeah, good idea about printing the version/platform info at the beginning. We don't have an OSX CI setup, so it doesn't surprise me that would break. I think also the behaviour across OSX versions varies considerably. Do you know how to get a stack trace from the segfault? I think you can do it with lldb.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70062497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71270369", "body": "@cournape we do use the same compiler for building the Python bindings, and even though it's not something recommended by Microsoft, haven't run into any difficulties doing so. Thanks for trying it out!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71270369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/72355314", "body": "Integrate a fast/accurate float <-> string conversion routine. It looks like https://github.com/floitsch/double-conversion is one, Python uses a tweaked netlib dtoa https://github.com/python/cpython/blob/c7688b44387d116522ff53c0927169db45969f0e/Python/dtoa.c. Supporting hex float notation would be nice as part of this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/72355314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73363711", "body": "@izaid were these issues still there somewhere, or should we close this bug?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73363711/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73363811", "body": "Ah, cool, my WIN32 search failed me :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73363811/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73489751", "body": "In playing around with it some, what seems weird is cases that fail work just fine when I copy/paste the code into simple_example.cpp. I wonder if something about the context that code is compiling, within a template inside of the google test framework, is causing trouble?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73489751/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73497498", "body": "After fiddling a bit more, I was able to get this now using a different test assertion. Presently my suspicion is drifting to another MSVC bug where two adjacent parameter packs get flattened and then recreated incorrectly. Consider this error message:\n\n```\n1>C:\\Dev\\dynd-python\\libraries\\libdynd\\include\\dynd/func/arrfunc.hpp(1085): error C2664: \n'dynd::nd::array\n dynd::nd::arrfunc::call<dynd::nd::array,dynd::nd::array,int>(\n     const dynd::nd::detail::args<dynd::nd::array> &,\n     const dynd::nd::detail::kwds<dynd::nd::array,int> &) const' :\ncannot convert argument 1 from\n     'dynd::nd::detail::args<dynd::nd::array,dynd::nd::array>' to\n     'const dynd::nd::detail::args<dynd::nd::array> &'\n```\n\nI think the input is like (A<T1, T2>, B<T3>), and is being forwarded as (A<T1>, B<T2, T3>), because the two parameter packs <typename... TA, typename... TB> are somehow being flattened to <T1, T2, T3> and unflattened incorrectly.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73497498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73713236", "body": "There's an additional wrinkle this adds to pattern matching, where to match this against other types we need to know what their type constructor arguments look like. We probably want to publish this information via some virtual methods.\n- Need to match type-var constructed type against a concrete type\n- Need to be able to construct concrete type from the parsed arguments\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73713236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/74201486", "body": "Issue has been reported here:\n\nhttps://connect.microsoft.com/VisualStudio/feedback/details/1127375/types-within-adjacent-variadic-template-packs-get-rearranged-valid-code-fails-to-compile\n\nHere's a small.cpp file which reproduces the issue:\n\n```\n/*\nC:\\Dev>cl /EHsc bug.cpp\nMicrosoft (R) C/C++ Optimizing Compiler Version 18.00.31101 for x86\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\nbug.cpp\nbug.cpp(43) : error C2664: 'void print_tuples<int,int,int>(const std::tuple<int> &,const std::tuple<int,int> &)' : cannot convert argument 2 from 'std::tuple<int>' to 'const std::tuple<int,int> &'\n        Reason: cannot convert from 'std::tuple<int>' to 'const std::tuple<int,int>'\n        No user-defined-conversion operator available that can perform this conversion, or the operator cannot be called\n\n*/\n\n#include <iostream>\n#include <tuple>\n\nusing namespace std;\n\n// Helper to print tuple\ntemplate<int I, typename... A>\nstruct print_tuple_i {\n    static void call(ostream& o, const tuple<A...> &a)\n    {\n        print_tuple_i<I-1, A...>::call(o, a);\n        o << std::get<I>(a) << \" \";\n    }\n};\n\ntemplate<typename... A>\nstruct print_tuple_i<0, A...> {\n    static void call(ostream& o, const tuple<A...> &a)\n    {\n        o << std::get<0>(a) << \" \";\n    }\n};\n\ntemplate<typename... A>\nostream &operator<<(ostream& o, const tuple<A...> &a)\n{\n    print_tuple_i<sizeof...(A)-1, A...>::call(o, a);\n    return o;\n}\n\ntemplate<typename... A, typename... B>\nvoid print_tuples(const tuple<A...>& a, const tuple<B...>& b)\n{\n    cout << a << \" : \" << b << endl;\n}\n\nint main() {\n    print_tuples(tuple<int>(1), tuple<int, int>(2, 3));\n    print_tuples(tuple<int, int>(1, 2), tuple<int>(3)); // <---- Uncomment this, and compilation succeeds.\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/74201486/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/76753585", "body": "Still more problems, but I fixed a lot. Merging this for now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/76753585/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/77724820", "body": "This gets things closer to working, but now getting link errors. Merging the progress...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/77724820/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84665634", "body": "Looks like great progress to me. I think at some point, after the operators are filled in, we should take a look at the performance implications of using the big # type IDs by # type IDs table versus alternatives, and see if we can find a better approach.\n\n@mrocklin I'm pretty sure it's possible to further reduce the amount of repeating boilerplate here. On the other hand I also think usually a good idea to start with a few instances of the code more fully written out, establishing and tweaking what the pattern is before generalizing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84665634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/86380456", "body": "Merged with Windows fixes from another PR\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/86380456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/102203220", "body": "Looks great! The g_in_fast_death_test_child change seems to have broken linux builds though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/102203220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/102524914", "body": "Yes, the cuda support doesn't build because of arrfunc refactoring work that hasn't been reconciled with cuda yet.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/102524914/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/114063180", "body": "@izaid the build error is gone, but the flow of resolve_dst_type et al isn't quite complete yet\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/114063180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/117260004", "body": "According to the connect site, the bug this is for is resolved as fixed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/117260004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/121851168", "body": "Something strange going on here, it ends up calling instantiate for an RNG kernel:\n\n```\n    test_libdynd.exe!dynd::nd::random::detail::uniform_kernel<4,2,std::mersenne_twister_engine<unsigned int,32,624,397,31,2567483615,11,4294967295,7,2636928640,15,4022730752,18,1812433253> >::instantiate(char * __formal, unsigned __int64 __formal, char * __formal, void * ckb, __int64 ckb_offset, const dynd::ndt::type & __formal, const char * __formal, __int64 __formal, const dynd::ndt::type * __formal, const char * const * __formal, unsigned int kernreq, const dynd::eval::eval_context * __formal, const dynd::nd::array & kwds, const std::map<dynd::nd::string,dynd::ndt::type,std::less<dynd::nd::string>,std::allocator<std::pair<dynd::nd::string const ,dynd::ndt::type> > > & __formal) Line 79   C++\n    test_libdynd.exe!instantiate_option_to_value_assignment_kernel(char * __formal, unsigned __int64 __formal, char * __formal, void * ckb, __int64 ckb_offset, const dynd::ndt::type & dst_tp, const char * dst_arrmeta, __int64 nsrc, const dynd::ndt::type * src_tp, const char * const * src_arrmeta, unsigned int kernreq, const dynd::eval::eval_context * ectx, const dynd::nd::array & kwds, const std::map<dynd::nd::string,dynd::ndt::type,std::less<dynd::nd::string>,std::allocator<std::pair<dynd::nd::string const ,dynd::ndt::type> > > & tp_vars) Line 263  C++\n    test_libdynd.exe!dynd::kernels::make_option_assignment_kernel(void * ckb, __int64 ckb_offset, const dynd::ndt::type & dst_tp, const char * dst_arrmeta, const dynd::ndt::type & src_tp, const char * src_arrmeta, unsigned int kernreq, const dynd::eval::eval_context * ectx) Line 509 C++\n    test_libdynd.exe!dynd::ndt::option_type::make_assignment_kernel(void * ckb, __int64 ckb_offset, const dynd::ndt::type & dst_tp, const char * dst_arrmeta, const dynd::ndt::type & src_tp, const char * src_arrmeta, unsigned int kernreq, const dynd::eval::eval_context * ectx) Line 375   C++\n    test_libdynd.exe!dynd::make_assignment_kernel(void * ckb, __int64 ckb_offset, const dynd::ndt::type & dst_tp, const char * dst_arrmeta, const dynd::ndt::type & src_tp, const char * src_arrmeta, unsigned int kernreq, const dynd::eval::eval_context * ectx) Line 171 C++\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/121851168/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122013041", "body": "This code fails to compile in the MSVC 2015 RC, so I wouldn't be surprised by that at all.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122013041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122598557", "body": "I've figured out a workaround, which is to replace the is_avail_kernel alias template with inheritance.\n\n```\n// is_avail_kernel.hpp line 379\n\n  // With this, it fails\n  template <type_id_t Src0TypeID>\n  using is_avail_kernel =\n      detail::is_avail_kernel<Src0TypeID, type_kind_of<Src0TypeID>::value>;\n\n  // Replaced with this, it succeeds\n  template <type_id_t Src0TypeID>\n  struct is_avail_kernel\n      : public detail::is_avail_kernel<Src0TypeID,\n                                       type_kind_of<Src0TypeID>::value> {\n  };\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122598557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125309581", "body": "I've got this on my list to take a deeper look into. This area of the MSVC compiler got a lot of improvements and fixes from 2013 to 2015, but this probably represents a regression in some corner case.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125309581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137645040", "body": "Let's merge this then, and continue with 2015 separately.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137645040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137666081", "body": "It looks to me like something is broken about the SFINAE that should be happening within `has_make`, but not sure about the details yet.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137666081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137828473", "body": "Looks reasonable to me\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137828473/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139626436", "body": "I wonder if it's worth using http://www.cmake.org/cmake/help/v3.0/module/ProcessorCount.html to set the default?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139626436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140241775", "body": "One thing to note is that `nd.empty` does support almost the syntax you started with, just without the `dtype=` keyword parameter passing:\n\n`````` python\nIn [2]: nd.empty((2, 5), 'int64')\nOut[2]: \nnd.array([[27584998696288348, 31525665550303337, 12948278432563253,\n                463863545956,                 0],\n          [0, 0, 0, 0, 0]],\n         type=\"2 * 5 * int64\")```\n``````\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140241775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652842", "body": "I believe most compilers use different instructions than NOPs for larger sizes, to skip over these parts faster, have you seen that before?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652855", "body": "Should just delete things like this, no need to clutter with code comments.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652880", "body": "We'll have to figure out what kind of formatting conventions we want - ideally I think it shouldn't be possible to identify who wrote what code based on the formatting. Should start a C++ conventions doc on the wiki.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652896", "body": "Could this go in kernels_for_disassembly.cpp, to isolate all the working kernels like this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1653064", "body": "Ok, I noticed that MS's compiler was sometimes (but not always) aligning the beginning of the loop, and is using instructions other than NOP for sizes smaller than 9.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1653064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1653091", "body": "Yes, with this multi-dimensional dynamic code I find the number of parameters everywhere gets large very quickly. In the current Python-exposed gfunc code, there's a vector<dtype> used for this signature, so maybe a vector or begin/end pointers could be used, to also be consistent with the more general n-ary functions which need to be added yet.\n\nI agree with the implementation being a bit more free than headers that get published more widely, but it would be nice for it to all be pretty close together. This code will be open sourced, and I'd like to establish conventions early of being relatively strict about code cleanliness in general.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1653091/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1658244", "body": "Yes, this is good for the n-ary kernels, can you put this in a new document on the wiki to start a design doc for them there?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1658244/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8039050", "body": "Might be nice to test that the type of `a` and the type of `b` are as expected.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8039050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8482713", "body": "Are you sure it's necessary to remove this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8482713/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8792378", "body": "Indeed, I discovered this by observing it fail.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8792378/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/9207248", "body": "+1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/9207248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/10331366", "body": "Docstring would be nice - I assume this returns all the typevars contained in the type? Just saying 'vars' is a tiny bit ambiguous with var_dim.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/10331366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/10708451", "body": "Doesn't ndt::make_arrfunc<R (A0)>() accomplish this much simpler?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/10708451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/11914837", "body": "This could just be XOR with 0x8000, I believe.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/11914837/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/9767018", "body": "Here I think we just want:\n\n```\n        option(DYND_CUDA\n             \"Build a libdynd library with CUDA\"\n             OFF) # While CUDA support is in development, we default to OFF.\n```\n\nwithout the `if(CUDA_FOUND)` part, and later if we change that we can change it to\n\n```\n        option(DYND_CUDA\n             \"Build a libdynd library with CUDA\"\n             CUDA_FOUND) # Enable CUDA by default if it was found\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/9767018/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155527", "body": "Maybe a comment here, \"This is set when building with CUDA's nvcc\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155533", "body": "And a similar comment, \"This is set when building code which runs on the GPU\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155575", "body": "These macros are a bit of a mouthful to see embedded in the code. Are all three of them used? Maybe with some brainstorming we can come up with acceptable shorter names. DYND_CUDA_DEVCALL.\n\nAlso, some comments here explaining what precisely the three symbols mean would be great.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155632", "body": "Need to add cuda_config.hpp into the list of files too.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155647", "body": "While I don't think 80 columns is reasonable in general for the code in libdynd, would be nice to split up some of these longer lines a bit.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155647/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155669", "body": "The name DYND_ASSERT_WHAT feels weird to me, where does the name \"WHAT\" in the assertion come from? Also, a little comment here explaining when and why it's used would be nice.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155684", "body": "Could split this on two lines.\n\nI like keeping this in here unconditionally like you've done. Matching the ABI fairly closely between builds with and without DYND_CUDA defined is nice to try and do.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155684/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155716", "body": "Maybe put this into a separate cuda_assignment_kernels.hpp, and #include that from here to isolate cuda/non-cuda more.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155741", "body": "A bit more explanation of what memory_kind is for would be good here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155741/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155748", "body": "long line could be split up a bit\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155748/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155782", "body": "I'm thinking that since the memory_kind is not actually holding a pointer, but we've instead gone the route of modifying the pointers upstream, that target_tp isn't a good name for this type. Maybe m_data_tp or something similar is better.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155860", "body": "I'm a bit confused by this check, can't strided arrays, for example, be allocated in CUDA global memory?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155899", "body": "I'm not sure this is what we want, shouldn't different memory types compare different even if they contain the same data? Maybe it should be pure virtual and force the child classes to implement it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155933", "body": "Seriously? This makes me slightly angry at NVIDIA, that they would define a macro called signbit. :P\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155933/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155976", "body": "Is it necessary for the code in this one to be duplicated, or could this use the #include \"dynd_int128.cpp\" trick as well?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10155976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10156123", "body": "I guess this explains the type checks in the cuda_host and cuda_device types above I was confused about. This appears to be making the type \"strided \\* strided \\* cuda_device[float32]\" instead of what I thought we had chosen, which was to always have the memory type at the outermost level of \"cuda_device[strided \\* strided \\* float32]\". What's the reason for the former?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10156123/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10156143", "body": "I think this file should be test_memory.hpp, not test_memory.cpp, because it's #included by a bunch of files.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10156143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175460", "body": "Maybe DYND_CUDA_DCALL, DYND_CUDA_HDCALL, and DYND_CUDA_GCALL? Is that too brief? In an IDE environment, hovering over the symbol would pop up the documentation comment just above the definition, or right click + go to definition is available.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175635", "body": "Looking at the usages, it's being used with a message, and always triggers the assertion. Maybe DYND_TRIGGER_ASSERT(message) would more clearly communicate that? With the current naming, saying DYND_ASSERT_WHAT(x < 3) feels like a reasonable thing to write, and I don't think that's the intention here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175635/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175678", "body": "ok, that's cool with me.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175766", "body": "I think reusing the dtype name here isn't a good idea. What else could we use...storage_tp like in the expression kind might be good.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175818", "body": "It's for the people silly enough to use IDEs like MSVC. :) The .hpp needs to be there to show up in the project file lists.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10175818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11405850", "body": "DyND is using `char *` instead of `void *` for raw data pointers in general, so that byte offsets such as stride values can be added to them easily.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11405850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11423842", "body": "I think this should be \"CACHE STRING\" instead of \"CACHE BOOL\", for the UI hint.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11423842/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11424795", "body": "I also found that this setting should be moved out of the containing if statement, it should be defined even if libdynd is a subproject.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11424795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11426138", "body": "While tracing through the macro execution logic, I've run into some things I didn't get. How would you recommend I get more acquainted with it?\n\nFor example, looking at the macros for DYND_PP_JOIN_MAP_0 vs DYND_PP_JOIN_MAP_1, it looks the same, what are the numbers doing here?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11426138/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11426224", "body": "This is nice, I think it could be a bit better by chaining the make function recursively instead of creating the temporary shape array.\n\nWould be great to have a test of it in test_fixed_dim.cpp.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11426224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11470074", "body": "This function should probably go in namespace detail\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11470074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11470529", "body": "In contexts like this, it could just be NSRC + 1, right?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11470529/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11921704", "body": "added, thanks\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11921704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11974720", "body": "Yeah, it returns an empty array which the view() function sees and raises an exception, so this does not escape.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11974720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12381566", "body": "This change probably has almost no perceivable effect, the gains are from the common case of not having to call unescape_string at all, and the data being used in place as a string directly from the input buffer.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12381566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12381685", "body": "From just the types, yes it could be negative, but in practice it shouldn't be here. The compiler I'm developing with isn't pedantic about this particular thing, that's why these warnings slip in from my code.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12381685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983448", "body": "I've started using std::invalid_argument for this kind of error\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983450", "body": "Also std::invalid_argument\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983457", "body": "invalid_argument\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983484", "body": "Also, in these messages, would be good to mention the function name, as that may not be visible from the context. Possibly \"legendre_p: fabs(x) must be ...\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983484/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983673", "body": "This doesn't look right to me, compare the following:\n\n```\nIn [55]: actual = -1j\n\nIn [56]: expected = 1j\n\nIn [57]: abs(1 - abs(actual) / abs(expected))\nOut[57]: 0.0\n\nIn [58]: abs(actual - expected) / abs(expected)\nOut[58]: 2.0\n```\n\nI think it should just use the latter.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983752", "body": "I wonder if we can do better than this, so as to be able to more quickly debug issues on foreign systems? If there is one error among many here, it will say something like \"0.00001 is not greater or equal to 0.000231\", and we won't immediately be able to tell which of the test values failed. If we write our own EXPECT_REL_ERROR macro that additionally prints out the expected and actual values on failure, I think we will be much happer in that scenario.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983752/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983792", "body": "Are these ${CMAKE_CURRENT_SOURCE_DIR} needed? Isn't that just implied by them being source files?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12983792/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13847839", "body": "This check should be against m_neighborhood_iterdata.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13847839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13847965", "body": "This doesn't look like the right size to me, compare with the code in the array_iter init:\n\n```\n            size_t iterdata_size = m_array_tp.extended()->get_iterdata_size(m_iter_ndim);\n            m_iterdata = reinterpret_cast<iterdata_common *>(malloc(iterdata_size));\n```\n\nsizeof(m_iterdata) will be the size of the pointer, which would be too small I believe.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13847965/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13848026", "body": "I see that this is right here, and I think you were going to update the one above, sorry started reading from the top. :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13848026/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13956106", "body": "I've tweaked things and I believe `nd::empty<int[2][3]>()` should be equivalent to this statement.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13956106/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14250690", "body": "Could change view so that it always returns a new array object pointing at the same data, never returning just a reference to the input.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14250690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14250906", "body": "I think the names need a reference to dims or axis or something, because these operations make sense on just the data itself applied to the first dimension. In STL, the algorithm is rotate (http://en.cppreference.com/w/cpp/algorithm/rotate).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14250906/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576629", "body": "It's a bit surprising that there's no FindFFTW3 included in cmake.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576646", "body": "I did nd::dtyped_empty as a version of nd::empty which just accepts the ndim/pointer pair, you should be able to just use nd::empty for this (and make the vector<> version an nd::empty overload). Do you know of a way to avoid the ambiguity of NULL between 0 and a pointer to avoid this workaround?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576672", "body": "Maybe we can come up with separate direct and mediated versions of these style of functions? The mediated versions going through an abstraction like the arrfunc, so with a bit more overhead.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576672/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576699", "body": "Have you looked at the RNG library added in C++11? Maybe we can model support on that when we get there.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576710", "body": "Did you mean to put a throw here? E.g. throw runtime_error(\"TODO: nd::concatenate is WIP\").\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576720", "body": "I think the only platform that might be a problem is old gcc versions used by centos with which we're building anaconda packages. Let's see if it arises in practice though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576720/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579202", "body": "Nothing wrong, just I think we had different ideas about things: I had nd::empty pegged as the convenient API for numpy-like construction, and nd::dtyped_empty as the exact same API function but that  takes the raw shape array, so that the ambiguity is avoided by there being different names. That's not satisfactory, though, but neither is requiring users of the library to have to know that nd::empty(0, NULL, dtype) would create a 2D 0x0 array of the given dtype instead of a scalar.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579202/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579226", "body": "Yeah, your edit is what I was suggesting.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579691", "body": "Simply `nd::array x0 = vals0;` should be equivalent to these two lines.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579717", "body": "I've made a helper which, while slower, is more succinct and I think useful for writing tests like these:\n\n```\nEXPECT_JSON_EQ_ARR(\"[-4, -3, -2, -1, 0, 1, 2, 3, 4]\", y0);\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579746", "body": "Of course, except for the immutable thing as you point out below... `nd::array x0 = nd::array_rw(vals0);` is what I have in there now, but it's obviously errorprone if I'm getting it wrong. :P\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14579746/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16618953", "body": "Yes, I think the following more verbose idiom should be faster:\n\n```\n  dynd::dimvector shape(i + 1);\n  if (!get_ndo()->is_builtin_type()) {\n    n.get_ndo()->m_type->get_shape(i + 1, 0, shape.get(),\n                            n.get_arrmeta(), get_ndo()->m_data_pointer);\n  } else { /* error */ }\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16618953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629517", "body": "It would be nice to include the type and which dimension's size was requested in the error message, I could imagine tracing back this error message being somewhat inscrutable.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629521", "body": "This test is actually redundant, because if \"i < get_ndim()\" is true, then get_ndim() > 0, which none of the built-in types satisfy.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16686064", "body": "I just meant that the `if (i < get_ndim()) {` test already guarantees that it's not built-in if `i` is a valid >= 0, so this if statement can be removed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16686064/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17771564", "body": "In the lines above, both DYND_SRC_MAX and DYND_ARG_MAX are defined, but the comment is for DYND_SRC_MAX both times, and the descriptions of the differently named parameters are the same.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17771564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17771577", "body": "Tab character instead of spaces?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17771577/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772056", "body": "Are these std:: ok across all the supported platforms? Unfortunately our jenkins server will only test this once it's merged.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772458", "body": "Somewhere, maybe above this line, would be nice to have a doxygen string describing what the metafunction computes.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772548", "body": "There's probably a better name than from_bytes for this, being almost a reinterpret_cast wrapper object. Maybe typed_param_from_bytes, if that's not too long.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772667", "body": "Another tab instead of spaces\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17772667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17899113", "body": "The way I like to name boolean property accessors, this would be called is_const() instead of get_const().\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/17899113/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629485", "body": "These two functions will only work correctly if the dimensions prior to `i` are strided, not with e.g. a `var` dimension. Could either raise if this assumption doesn't hold, or change it to work more generally.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629485/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629491", "body": "This should be using the arrmeta_copy function on the type, because arrmeta are able to own references to resources. For example, the string type's data buffer is owned by its arrmeta.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629491/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629497", "body": "This will only work if all the dimensions before `i` are strided, should validate that this holds.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629503", "body": "For dtypes which have non-trivial arrmeta, something like this would be necessary. I think the general approach you're taking here, of copying the arrmeta with the pre-newaxis type, then fixing it up, can work fine. You'd want to do the memcpy (memmove actually) before setting the dim_size and stride of the new dimension though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629503/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629512", "body": "I recommend to test with the `string` type, together with valgrind it should help flush out details of the arrmeta copying.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16629512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/18714458", "body": "Because arrmeta can contain references, heap-allocated memory, and other owned resources, memcpy can only be ok when you know exactly that the particular arrmeta being copied is POD. This is true for the fixed/cfixed dimensions, but not true for var dimensions or the string type, hence the suggestion below to test with string.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/18714458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/18719594", "body": "arrmeta_copy_construct copies the full arrmeta of the type, including all child types. In base_dim_type there's another method implemented which just copies the arrmeta for that dimension.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/18719594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/22329046", "body": "I think this check isn't quite right, for a signature like (int, int, ...) -> int, but being passed too few values.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/22329046/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26618758", "body": "This is a bit annoying - the clang-format embedded in MSVC is behaving differently than other clang-format embeddings for this case.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26618758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26622522", "body": "Couldn't the inner parameter be handled more cleanly by a recursive case? Something like:\n\n```\ntemplate <typename T>\n  class fixed_dim<fixed_dim<T>> {\n\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26622522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26628110", "body": "Ok, so the reason to have this flag in there is to share implementation details between var_dim and fixed_dim, using the is_dim<...> metafunction.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26628110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26628871", "body": "What's the purpose of start_stop_t?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26628871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26629037", "body": "Comment out of date here\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26629037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26904981", "body": "Should have a docstring.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26904981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26905012", "body": "So nd::plus is both the type of the class and the instance, is that right? I'm used to that kind of thing being problematic, does it work fully consistently now?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26905012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26905115", "body": "I believe using identifiers like this with an _ at the beginning, is undefined, because the standard reserves such names for the compiler to do whatever it likes with. I think it would be a good practice to avoid using this kind of name.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26905115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/27370920", "body": "You can use `std::unique_ptr<char[]>` to hold this data, it would be nice to never have raw new/delete.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/27370920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/33485024", "body": "From reading this, I think the i[2] is to allow multi-dispatching based on any two of the source types, or the dst + a source type, is that right? Might be worth a small comment to help ease reading the code.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/33485024/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/33485095", "body": "Yes, since dynd doesn't support older MSVCs any more, this is good.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/33485095/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/39102645", "body": "One suggestion I have here is to add a comment describing why it's not a subclass of std::exception, as that seems like a pretty obvious question to ask when browsing this code.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/39102645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42280232", "body": "Error message here says \"nd::sum\" instead of \"nd::min\".\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42280232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42330111", "body": "Might be nice to keep these tests in terms of `sizeof(void *)` or similar, because the intention is to define the specific layout in memory so C code or other JITted could could interoperate without having the C++ definition of `bytes`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42330111/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/45532261", "body": "This change looks a bit fishy to me, why was it necessary? An expression type's storage type could require destruction, and it should be inheriting this particular flag from the storage type, not the value type.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/45532261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49379307", "body": "Another reason, which I didn't write down, is that it has to be this way to be able to define the serialization properly. The type generally specifies the structure of the data quite rigidly, unlike JSON-like serialization formats where each element can have different types. If we put the type into the serialization of everything, we can't recursively apply that definition for serializing arrays, tuples, etc, without the type appearing repeatedly everywhere.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49379307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49379606", "body": "CBOR is primarily designed to serialize JSON data. As such, there is one \"number\" type, among other things. Whether we can interact well with that data model is a thing that is not thought out, this may turn out to be a bad idea.\n\nIn http://cbor.io/, it says \"CBOR is defined in an Internet Standards Document, RFC 7049. The format has been designed to be stable for decades.\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49379606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49382455", "body": "They have a subsection http://tools.ietf.org/html/rfc7049#section-3.6 which delves a bit more into recommendations about interpreting this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49382455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51291356", "body": "Hey @mdboom thanks for getting into the code, it's awesome to see more faces in the commit logs :)\n\nI think we want to keep a barrier between dynd::bytes and dynd::string, just like in Python 3. That would mean no implicit conversions, and structuring it so that the explicit conversions are very clear.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51291356/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51292452", "body": "It looks like because the string isn't following the design in https://github.com/libdynd/libdynd/blob/master/docs/string-design.md yet, this can't currently be implemented with an exponential growth strategy for efficient amortized concatenation. What thoughts does everyone have on finishing that up?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51292452/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51295300", "body": "It looks like the implementation doesn't have a `capacity` in the heap storage mode either. I'll put a little more in that design doc to try to make it more clear.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51295300/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51299657", "body": "It's pretty close, but I think it needs API to distinguish the exponential growth mode, so that can be used appropriately. The ABI is quite a bit different, that's something that needs to be solidified before connecting it with Numba or another JIT. I've made https://github.com/libdynd/libdynd/pull/907 to give one possible way the exponential growth can be expressed, I can turn that into a code PR later if that API looks alright.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51299657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300071", "body": "We might want to change these to return a const reference to the internal std::vector instead? Implicitly doing a copy of the whole array when get_arg_types() and other API is called feels like it adds hidden performance traps.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300263", "body": "Should maybe be `new tuple_type(std::move(field_types), ...)`, to avoid the extra copy.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300399", "body": "Probably should be `m_field_types(std::move(field_types))`\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300602", "body": "`std::move(field_types)` here too, and also anywhere else the by-value std::vector<type> parameter is.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300934", "body": "Yes, I think those will generally go away, and consumers changed to expect `std::vector<T>`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51300934/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51305816", "body": "Nothing prevents the tuple from disappearing, that's true. It's the responsibility of the code getting that property to make sure the lifetime of that reference is not longer than the lifetime of the object it came from.\n\nThis is pretty common - e.g. in std::vector, operator[] returns a `T&` reference with exactly the same considerations.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51305816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51307012", "body": "Re: the move semantics, for property access using const references is better, as that way the data doesn't have to be copied. To use move semantics, a copy of that internal data would be what is moved, and it's not good to have such an expensive operation in there for just property access.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51307012/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51330226", "body": "I think what you want is `ndt::make_type<intptr_t>()` instead of `ndt::type(int64_id)`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51330226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51953510", "body": "http://en.cppreference.com/w/cpp/header/experimental/string_view is what you're thinking of, I think it's making its way into C++17\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51953510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53366040", "body": "Is it be reasonable to make `nd::array({0, 40, 1}, \"?int32\")` or `nd::array({0, 40, 1}, \"3 * ?int32\")` work? A succinct spelling of this would be nice.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53366040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53523462", "body": "One thing to ensure is that NULL and a zero-length bytes are distinct values?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53523462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}]}, "insertinterestingnamehere": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1196", "title": "Callables should use the restrict keyword on input data pointers", "body": "The DyND iteration model does not currently account for cases where input and output arrays may overlap. This means that, in terms of our interface, writing output to an array that overlaps with an array that is only expected to be used as input may result in garbage results.\nSince that assumption is part of the package's current design, it would be good to allow the compiler and optimizer to make that same assumption by using the restrict keyword on input data given to callables.\n\nMore details:\nNumpy now checks for memory overlap to prevent things like `a += a.T` from giving garbage results (see https://github.com/numpy/numpy/pull/6166). Since DyND allows for user-defined dimension types, this problem is harder to solve in general here. It's not clear how this would work with variable length dimensions, etc. Given that DyND also currently targets lower level languages like C++ where solving overlap problems like this on a callable call would be considered an unreasonable dynamic cost, it may be better to say that corner cases like this are undefined behavior and give garbage output. Regardless of whether or not we end up supporting overlap detection in the long run, the memory overlap problem would be something that would have to be solved when we determine how we are going to iterate over input arrays and shouldn't be something we require the compiler to consider.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1196/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1195", "title": "Interfaces for creating callables from C++ type generic code", "body": "We already have mechanisms internally that allow the creation of a type dispatched callable from a given C++ template and a list of types for which the template should be instantiated. It'd be really nice to create a better user-facing interface for this sort of thing. Function templates and generic lambdas would be the ideal targets for this sort of thing.\n\nSome relevant observations:\n- with generic lambdas, it's tricky (but not necessarily impossible) to infer which function parameters are declared `auto`. An interface where we do a \"call this with these argument types\" may be easier to construct initially.\n- the types for the auto parameters most likely map, in order, to the template parameters used in the lambda's `ClosureType::operator()` template. I'm not sure if that's actually required by the standard though.\n- Some times it may be easier for users to supply a `type_list` of `type_list` types that each represent the types with which to call the given template, other times it may be easier to construct such a thing through an outer product.\n\nWith that in mind, here are some ideas:\n- We could build a \"call this with these types\" interface and a \"instantiate this template with these types\" interface. This would nicely cover pretty much every use-case other than lambdas that have mixed auto and non-auto function parameters. Those would have to have dummy types that match their non-auto parameters.\n- Some type list manipulations should be exposed as a public interface. Things like `dynd::outer` and `dynd::join` would be good.\n- While we could support templating all of these on type ids, it would probably be better if we focused the user interface on using actual types rather than type ids. As such, this would probably be better done once we transition to using types as template parameters when doing this sort of thing internally.\n- Attaching a template specifying a condition showing when to include a given set of types proved to be useful internally, we should probably make that functionality a part of a public interface as well.\n\n`new_make_all` and `make_all_if` are the interfaces we use for this internally right now. I'm pretty sure we could build something better for users on top of that though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1195/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/613", "title": "Wrong MinGW Install Location", "body": "(submitting as an issue partially to make sure I don't forget this) When building with the MSYS Makefiles generator on 64 bit Windows, libdynd is installed into the wrong location (\"C:/Program Files (x86)/libdynd\" as opposed to \"C:/Program Files/libdynd\"). At some point we need to make sure that when building a 64 bit. A simplified version of https://github.com/petroules/solar-cmake/blob/master/TargetArch.cmake that uses simpler preprocessor logic should be sufficient to detect the architecture.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/575", "title": "Constructors from std::array and std::experimental::dynarray", "body": "The standard library has a few more array-like types. We should probably support constructing dynd::arrays from them.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/566", "title": "Remove unnecessary flags.", "body": "Looking at the different array flags we have available, several things are unclear to me.\n\nWhy do we have a readable flag? Wouldn't a non-readable be useless? (see also [write-only memory](http://repeater-builder.com/molotora/gontor/25120-bw.pdf)).\n\nWhat is the difference between immutability and non-writability? The two seem identical to me in practice.\n\nIn light of the ambiguity, I propose that we remove the readable and immutable flag values..\n\nOn that note, what are the compelling reasons to keep the writable flag? The only times I can see them being really helpful for users are deprecations (as numpy did with numpy.diagonal), debugging, and ownership (which, IMHO, should be dealt with via copies).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/563", "title": "More Constructors", "body": "It would be nice to have some attributes of an array specifiable as keyword arguments to the array constructor. The read/write attribute is the first one that comes to mind. We could also allow users to specify a datashape and then broadcast the input into an array with the specified datashape.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/563/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/483", "title": "Additional Testing Environments", "body": "Gcc 4.7 is a few years old now, so we may want to consider moving some of the current CI tests to a newer version. It may also be wise to start testing dynd-python on Python 3.5. Is that something we'd like to do?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/469", "title": "msvc 2015 test failure", "body": "There is currently one test failure when using msvc 2015.\n\n```\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(58): error: Value of: (is\n_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePar\nam, 2>>::type, type_sequence<integer_sequence<TypeParam, 0, 2>, integer_sequence\n<TypeParam, 1, 2>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(66): error: Value of: (is\n_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePar\nam, 2, 3>>::type, type_sequence<integer_sequence<TypeParam, 0, 2>, integer_seque\nnce<TypeParam, 0, 3>, integer_sequence<TypeParam, 1, 2>, integer_sequence<TypePa\nram, 1, 3>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(75): error: Value of: (is\n_same< typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2, 3, 4>>::type, type_sequence< integer_sequence<TypeParam, 0, 2>, integer_\nsequence<TypeParam, 0, 3>, integer_sequence<TypeParam, 0, 4>, integer_sequence<T\nypeParam, 1, 2>, integer_sequence<TypeParam, 1, 3>, integer_sequence<TypeParam,\n1, 4>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(84): error: Value of: (is\n_same< typename outer<integer_sequence<TypeParam, 0, 1, 2>, integer_sequence<Typ\neParam, 3, 4>>::type, type_sequence< integer_sequence<TypeParam, 0, 3>, integer_\nsequence<TypeParam, 0, 4>, integer_sequence<TypeParam, 1, 3>, integer_sequence<T\nypeParam, 1, 4>, integer_sequence<TypeParam, 2, 3>, integer_sequence<TypeParam,\n2, 4>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(102): error: Value of: (i\ns_same< typename outer<integer_sequence<TypeParam, 0, 1, 2, 3, 4>, integer_seque\nnce<TypeParam, 5, 6, 7, 8, 9>>::type, type_sequence< integer_sequence<TypeParam,\n 0, 5>, integer_sequence<TypeParam, 0, 6>, integer_sequence<TypeParam, 0, 7>, in\nteger_sequence<TypeParam, 0, 8>, integer_sequence<TypeParam, 0, 9>, integer_sequ\nence<TypeParam, 1, 5>, integer_sequence<TypeParam, 1, 6>, integer_sequence<TypeP\naram, 1, 7>, integer_sequence<TypeParam, 1, 8>, integer_sequence<TypeParam, 1, 9\n>, integer_sequence<TypeParam, 2, 5>, integer_sequence<TypeParam, 2, 6>, integer\n_sequence<TypeParam, 2, 7>, integer_sequence<TypeParam, 2, 8>, integer_sequence<\nTypeParam, 2, 9>, integer_sequence<TypeParam, 3, 5>, integer_sequence<TypeParam,\n 3, 6>, integer_sequence<TypeParam, 3, 7>, integer_sequence<TypeParam, 3, 8>, in\nteger_sequence<TypeParam, 3, 9>, integer_sequence<TypeParam, 4, 5>, integer_sequ\nence<TypeParam, 4, 6>, integer_sequence<TypeParam, 4, 7>, integer_sequence<TypeP\naram, 4, 8>, integer_sequence<TypeParam, 4, 9>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(120): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2>, integer_sequence<TypeParam, 3, 4>>::type, type_sequence<integer_sequenc\ne<TypeParam, 0, 2, 3>, integer_sequence<TypeParam, 0, 2, 4>, integer_sequence<Ty\npeParam, 1, 2, 3>, integer_sequence<TypeParam, 1, 2, 4>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(129): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2, 3>, integer_sequence<TypeParam, 4>>::type, type_sequence<integer_sequenc\ne<TypeParam, 0, 2, 4>, integer_sequence<TypeParam, 0, 3, 4>, integer_sequence<Ty\npeParam, 1, 2, 4>, integer_sequence<TypeParam, 1, 3, 4>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(142): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2, 3>, integer_sequence<TypeParam, 4, 5>>::type, type_sequence<integer_sequ\nence<TypeParam, 0, 2, 4>, integer_sequence<TypeParam, 0, 2, 5>, integer_sequence\n<TypeParam, 0, 3, 4>, integer_sequence<TypeParam, 0, 3, 5>, integer_sequence<Typ\neParam, 1, 2, 4>, integer_sequence<TypeParam, 1, 2, 5>, integer_sequence<TypePar\nam, 1, 3, 4>, integer_sequence<TypeParam, 1, 3, 5>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(159): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1, 2>, integer_sequence<Typ\neParam, 3, 4>, integer_sequence<TypeParam, 5, 6>>::type, type_sequence<integer_s\nequence<TypeParam, 0, 3, 5>, integer_sequence<TypeParam, 0, 3, 6>, integer_seque\nnce<TypeParam, 0, 4, 5>, integer_sequence<TypeParam, 0, 4, 6>, integer_sequence<\nTypeParam, 1, 3, 5>, integer_sequence<TypeParam, 1, 3, 6>, integer_sequence<Type\nParam, 1, 4, 5>, integer_sequence<TypeParam, 1, 4, 6>, integer_sequence<TypePara\nm, 2, 3, 5>, integer_sequence<TypeParam, 2, 3, 6>, integer_sequence<TypeParam, 2\n, 4, 5>, integer_sequence<TypeParam, 2, 4, 6>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(176): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2, 3, 4>, integer_sequence<TypeParam, 5, 6>>::type, type_sequence<integer_s\nequence<TypeParam, 0, 2, 5>, integer_sequence<TypeParam, 0, 2, 6>, integer_seque\nnce<TypeParam, 0, 3, 5>, integer_sequence<TypeParam, 0, 3, 6>, integer_sequence<\nTypeParam, 0, 4, 5>, integer_sequence<TypeParam, 0, 4, 6>, integer_sequence<Type\nParam, 1, 2, 5>, integer_sequence<TypeParam, 1, 2, 6>, integer_sequence<TypePara\nm, 1, 3, 5>, integer_sequence<TypeParam, 1, 3, 6>, integer_sequence<TypeParam, 1\n, 4, 5>, integer_sequence<TypeParam, 1, 4, 6>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(193): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2, 3>, integer_sequence<TypeParam, 4, 5, 6>>::type, type_sequence<integer_s\nequence<TypeParam, 0, 2, 4>, integer_sequence<TypeParam, 0, 2, 5>, integer_seque\nnce<TypeParam, 0, 2, 6>, integer_sequence<TypeParam, 0, 3, 4>, integer_sequence<\nTypeParam, 0, 3, 5>, integer_sequence<TypeParam, 0, 3, 6>, integer_sequence<Type\nParam, 1, 2, 4>, integer_sequence<TypeParam, 1, 2, 5>, integer_sequence<TypePara\nm, 1, 2, 6>, integer_sequence<TypeParam, 1, 3, 4>, integer_sequence<TypeParam, 1\n, 3, 5>, integer_sequence<TypeParam, 1, 3, 6>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(215): error: Value of: (i\ns_same<typename outer<integer_sequence<TypeParam, 0, 1>, integer_sequence<TypePa\nram, 2, 3>, integer_sequence<TypeParam, 4, 5>, integer_sequence<TypeParam, 6, 7>\n>::type, type_sequence<integer_sequence<TypeParam, 0, 2, 4, 6>, integer_sequence\n<TypeParam, 0, 2, 4, 7>, integer_sequence<TypeParam, 0, 2, 5, 6>, integer_sequen\nce<TypeParam, 0, 2, 5, 7>, integer_sequence<TypeParam, 0, 3, 4, 6>, integer_sequ\nence<TypeParam, 0, 3, 4, 7>, integer_sequence<TypeParam, 0, 3, 5, 6>, integer_se\nquence<TypeParam, 0, 3, 5, 7>, integer_sequence<TypeParam, 1, 2, 4, 6>, integer_\nsequence<TypeParam, 1, 2, 4, 7>, integer_sequence<TypeParam, 1, 2, 5, 6>, intege\nr_sequence<TypeParam, 1, 2, 5, 7>, integer_sequence<TypeParam, 1, 3, 4, 6>, inte\nger_sequence<TypeParam, 1, 3, 4, 7>, integer_sequence<TypeParam, 1, 3, 5, 6>, in\nteger_sequence<TypeParam, 1, 3, 5, 7>>>::value)\n  Actual: false\nExpected: true\nC:\\Users\\Owner\\libdynd\\tests\\test_integer_sequence.cpp(253): error: Value of: (i\ns_same< typename outer< integer_sequence<TypeParam, 0, 1>, integer_sequence<Type\nParam, 2, 3>, integer_sequence<TypeParam, 4, 5>, integer_sequence<TypeParam, 6,\n7>, integer_sequence<TypeParam, 8, 9>>::type, type_sequence<integer_sequence<Typ\neParam, 0, 2, 4, 6, 8>, integer_sequence<TypeParam, 0, 2, 4, 6, 9>, integer_sequ\nence<TypeParam, 0, 2, 4, 7, 8>, integer_sequence<TypeParam, 0, 2, 4, 7, 9>, inte\nger_sequence<TypeParam, 0, 2, 5, 6, 8>, integer_sequence<TypeParam, 0, 2, 5, 6,\n9>, integer_sequence<TypeParam, 0, 2, 5, 7, 8>, integer_sequence<TypeParam, 0, 2\n, 5, 7, 9>, integer_sequence<TypeParam, 0, 3, 4, 6, 8>, integer_sequence<TypePar\nam, 0, 3, 4, 6, 9>, integer_sequence<TypeParam, 0, 3, 4, 7, 8>, integer_sequence\n<TypeParam, 0, 3, 4, 7, 9>, integer_sequence<TypeParam, 0, 3, 5, 6, 8>, integer_\nsequence<TypeParam, 0, 3, 5, 6, 9>, integer_sequence<TypeParam, 0, 3, 5, 7, 8>,\ninteger_sequence<TypeParam, 0, 3, 5, 7, 9>, integer_sequence<TypeParam, 1, 2, 4,\n 6, 8>, integer_sequence<TypeParam, 1, 2, 4, 6, 9>, integer_sequence<TypeParam,\n1, 2, 4, 7, 8>, integer_sequence<TypeParam, 1, 2, 4, 7, 9>, integer_sequence<Typ\neParam, 1, 2, 5, 6, 8>, integer_sequence<TypeParam, 1, 2, 5, 6, 9>, integer_sequ\nence<TypeParam, 1, 2, 5, 7, 8>, integer_sequence<TypeParam, 1, 2, 5, 7, 9>, inte\nger_sequence<TypeParam, 1, 3, 4, 6, 8>, integer_sequence<TypeParam, 1, 3, 4, 6,\n9>, integer_sequence<TypeParam, 1, 3, 4, 7, 8>, integer_sequence<TypeParam, 1, 3\n, 4, 7, 9>, integer_sequence<TypeParam, 1, 3, 5, 6, 8>, integer_sequence<TypePar\nam, 1, 3, 5, 6, 9>, integer_sequence<TypeParam, 1, 3, 5, 7, 8>, integer_sequence\n<TypeParam, 1, 3, 5, 7, 9>>>::value)\n  Actual: false\nExpected: true\n[  FAILED  ] SizeType/IntegerSequence/0.Outer, where TypeParam = unsigned __int6\n4 (16 ms)\n```\n\nIt looks like the template `outer` that takes the cartesian product between the two integer sequences isn't working properly. I haven't debugged it farther than that yet.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commits": [{"url": "https://api.github.com/repos/libdynd/libdynd/commits/a588062734f7f5eb840eaa556a2b95866fee9655", "message": "Merge pull request #1330 from insertinterestingnamehere/tst\n\nUpdate Google Benchmark"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3f3f75cfb9e09fcf372f677a5070deabfc925e58", "message": "Clean up unused variables in reduction callable."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/6bbdd5382ebae5fdbacdc04929bf2d5839b6e7f7", "message": "Prevent google benchmark from trying to find googletest.\nSince we bundle googletest as single files it's unclear\nwhether or not google benchmark will be able to find and\nuse bundled version."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1700341cae944a8437619f96b0f65d323ab96de7", "message": "Updated to latest version of google benchmark."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/5df10025b5fcb0d87064c677cb4c8b5adc2e39a5", "message": "Merge pull request #1317 from insertinterestingnamehere/ci_fixes\n\nCI test fixes"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/c8bdbb447e988458407c9fb68076efb17fb41c63", "message": "Allow failures in Python build in the build matrix.\nThis makes it so that the builds can indicate when the Python\nbindings need to be updated without failing outright."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/2ef3e42fb15cc74c54a9aef9e82c9aadd26fa9df", "message": "Preliminary fix for segfault in tuple construction.\nThe previous implementation of the init_kernel for std::tuple\nrelied on undefined behavior. In particular it relied on the\narguments passed to a function (the constructor for the std::tuple\nof child kernels) be executed in the order they are provided.\nThat was what was going on before with the idiom involving\npostfix_add. The old code worked fine with MSVC and clang, but,\nfor whatever reason, gcc decided to reorder the evaluation of\nfunction arguments and caused a segfault in doing so.\nThe metaprogramming added here is an initial pass to fix the issue.\nIt should still be simplified if possible, moved somewhere\nmore sensible, and documented better. For now though, this\nat least avoids the crash."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/32ef4b5a1a1b7a6be171a2a42723b05e0a3e8338", "message": "Forward user-provided compiler flags during the coverage build."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/5eba895865fa2deed741c1e3534a951727011395", "message": "Explicitly tell gcc to use the gold linker for the address sanitization\nbuild. This works around the bug described at\nhttps://stackoverflow.com/q/37603238/1935144"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/415ccdc33ad3843bd352ada6eba6efccf5d8228e", "message": "Try running on containerized ubuntu trusty images on travis CI.\nExplicitly specifying sudo: false should be sufficient to do that."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/9ea5eab423884ed10a6629db094ab90c0437da03", "message": "Remove workaround for old bug in conda-build\nhttps://github.com/conda/conda-build/issues/949 was closed long ago.\nWe no longer need to maintain these workarounds."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3cd62abe526e86bea31e1f3ca30c5b970677afe2", "message": "Clean out some cruft in the travis CI build.\nIn particular, we aren't using most of the secure env variables."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/40149168fd45b237c99e6d8f2bee07c9c537e01f", "message": "Eliminate sudo: required in Travis CI build since all the needed packages\nare available in the whitelisted apt sources allowed for the container\nbuilds."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/6e0ef31ebf3919b8c0b6588fd43990cefb836070", "message": "Fix miniconda download URL for OSX."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/b3bae1de3ae17163b4d05199030ecbad22fd2b95", "message": "Merge pull request #1328 from insertinterestingnamehere/static\n\nStatic Builds"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/53ac2772e9bcddb5882342b8fb47949dd445d4bb", "message": "Fix symbol visibility macro use and linker order for static builds."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/f6a45555630ad3daff228e1deec8ee7ea99ce980", "message": "Merge pull request #1318 from insertinterestingnamehere/clang_build\n\nFixes for Clang on Windows"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/684f344bfac28aec2749b1442ee27c0a1b4e07a3", "message": "Make sure that template keyword is used in a way that satisfies clang\nin type_sequence, regardless of whether clang is emulating msvc."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3a65a6a0d3bce753263e36ac899447ab641f2482", "message": "Make sure that gtest does not use its own tuple implementation when\ncompiling with clang on windows. This does expose some warnings from\ngtest, but the gtest refuses (with a hard error) to compile if it thinks\nit is using its own tuple implementation under MSVC, even if it is really\njust being compiled by a version of clang that emulates MSVC."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/8d2e71ea9cc0dc6581da92910182ab254d40571c", "message": "Rename _bind to helper_bind to avoid using a name starting with a\nsingle underscore."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/dcb94fb80c4b2a6e334a4d4a8c2795ee9006b023", "message": "Remove DYND_API declaration from _bind helper in assignment.cpp.\nThings declared in anonymous namespaces cannot be exported via the\nshared library interface. It's intended to be a private helper\nfunction anyway."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/b9091d45edde53552e35f5168411747148d2715f", "message": "Avoid incorrect use of incomplete type in CRTP idioms involving\nbase_kernel and its various subclasses. In this particular case,\nnew versions of clang complained about calling sizeof on a type that\nis built using a CRTP pattern since base_kernel<thing> is instantiated\nbefore all the members of thing are defined."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/d9164492c97daf30b05d460ec2813b33a7b01bbd", "message": "Merge pull request #1316 from insertinterestingnamehere/gcc7\n\nMinGW fixes"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/d99e54b22b920b7440d6d56b8eb7928b6bb70e66", "message": "Fix static initialization order fiasco resulting from the dependency of\nnd::min and nd::max on nd::limits::min and nd::limits::max.\nIt would be better to have nd::min and nd::max reference their\ndependencies directly rather than having to re-construct them, but this\nfix is primarily just to get the load-time behavior correct before\naddressing that."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/bb672cfc9b6d4b9ca55f6683a48682ec85dcc4c8", "message": "Fix symobol visibility for is_valid_typevar_name.\nMinGW is more strict about having proper visibility specifications\non everything and for some reason MSVC didn't complain about this one\neven though MinGW did."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/5e3d67e3f694a3080ed67e67c1d6db18552e4617", "message": "Split comparisons.cpp into files for each specific comparison callable.\nThis works around the old \"object file has too many sections\" bug on\nMinGW.\nIn making this fix it also became clear that some of the kernel headers\nwere missing some includes. This fixes that as well."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/e55ef0b4b91bb5ab40bf26b7ffe880b2c75c4383", "message": "Move DYND_SHARED_LIBRARY_SUFFIX into templated header instead of\npassing it in as a define. This avoids an error, presumably in the\nCMake generator (MSYS Makefiles or MinGW Makefiles) when using MinGW,\nthe define is passed with quotes escaped instead of using plain quotes.\nThat causes odd compilation errors when using that generator."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/235d14ec4a5f4394ff4c179f1bcebb07f81cee18", "message": "Merge pull request #1283 from insertinterestingnamehere/recipes\n\nClean up conda recipe"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/aa457f265cf8f6acad1eba30df644f0b6428bae2", "message": "Re-add code using script_env in meta.yaml to forward CC and CXX to\nthe build script on Linux.\nChange clang/Python build back to gcc to avoid issues with LLVM apt\nsources not working. See\nhttps://github.com/travis-ci/travis-ci/issues/6120."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/9b3a84549892facc9f31e83757a02b6dbd53f8df", "message": "Increase clang version used in Linux/Clang/Python test to 3.8."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/567abcb1905fee05a04aa03ae07af77ab74fc428", "message": "Clean out cruft from travis CI build.\nSet up coverage build to use gcc 6.\nChange Python build back to using clang 3.5 since it's the only place\nwhere clang/dynd-python is tested on Linux."}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/e954f824f692c0cc717d116e0d40e75f5c194edb", "message": "Clean out conda recipe for libdynd.\nAuto-detect the number of processors and use that to build the\nconda package in parallel on non-CI systems.\nStop statically linking libstdc++.\nClear out some dead code."}], "pull_requests": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1329", "title": "Update to latest googletest.", "body": "Another pass at https://github.com/libdynd/libdynd/pull/1319.", "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1194", "title": "Simplify compile-time if", "body": "Simplify make_all_if by using std::tuple and generic lambdas rather than a\nproxy template to perform the compile-time if statement.\n\nCurrently doesn't work with gcc or clang. The errors thrown are completely different in each case. I'm not sure if it's bugs in the compilers or an issue with my implementation. This approach works across all compilers in simpler cases. I'm putting this here for the next time we end up revisiting our metaprogramming code. If nothing else, it shows a useful technique.\n\nConceptually, this works because generic lambdas are represented as instances of anonymous classes with templated call operators. This means that the code inside each lambda should only be instantiated when the given lambda is called with concrete types. A compile-time if statement can be performed by writing the different generic lambdas needed, putting them in a std::tuple, and then using std::get to get the appropriate lambda to call. I haven't verified that this works with lambdas that capture things from the surrounding scope, but that's not a huge deal since none of the lambdas involved actually need to be called outside their surrounding scope, so any needed contextual information can be passed in the function parameters to the lambdas.\n", "author_association": "OWNER"}], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85257383", "body": "Hello, my name is Ian Henriksen.\nI'm currently a masters student studying mathematics at Brigham Young University. My research is in isogeometric analysis (finite element analysis on spline curves).\nI'm running a little late, but I'm putting together an application for a Google Summer of Code.\n\nAs a student, I am still in the process of becoming more exposed to making significant contributions in open source. However, I have spent a great deal of time making a Cython API for BLAS and LAPACK in SciPy. See https://github.com/scipy/scipy/pull/4021. As such, I am certainly interested a new challenge to continue my education.\nI've been interested in the progress of DyND, and am looking for where I can contribute. I have a lot of experience working with Python, NumPy, and Cython, and am also familiar with C, C++, and Fortran. I'm less familiar with the current DyND internals, but I am very interested to learn more about them. Expression analysis for n-dimensional arrays in C++ is a really great idea, and I'd like to delve more into how it works.\n\nHere are some ideas I have had for projects I am interested in working on:\n- Exposing a Cython api in dynd-python to make it so that the array objects can be used in Cython for array arithmetic without the GIL and without the corresponding Python overhead.\n- Writing type-generic implementations of existing linear algebra operations for DyND arrays (like matrix multiplication, solving systems of equations, etc.). Alternatively, I could provide DyND-centered wrappers for BLAS and LAPACK.\n- Writing an approximation theory library for Python. My plan would be to focus primarily on evaluation and refinement of splines. I'd also like to include methods for working with other polynomial objects (polynomials in the power basis, Chebyshev polynomials, and Legendre Polynomials). A primary goal, then, would be to develop a working prototype for a C++ library developed using libdynd that can be exposed to Python and other dynamic languages the same way the core array object is. Ideally, both the array library and the polynomial library would expose C++, Cython, and Python APIs that are as similar as possible.\n- Writing a utility similar to f2py or fwrap for wrapping Fortran libraries using dynd. This would probably be one of the harder projects here, but I'd be intrigued to work on it as well.\n\nAre any of these projects needed in DyND? What would be the most helpful?\n\nThanks!\n\nIan Henriksen\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85257383/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85637530", "body": "Although I enjoy working on open source work as a challenge alone, I will admittedly not be able to devote as much time to these projects as I would like to without some form of funding. I'm not particularly attached to the GSOC program, though it does seem like a good way to do it. I'll contact @izaid and see what we can arrange.\nNumFocus was listed as an organization, though it's unclear if it is still planning to participate. Their [page](https://www.google-melange.com/gsoc/org2/google/gsoc2015/numfocus) looks pretty empty. I'll put together an application tomorrow afternoon through them and through PSF and see where it goes. For the PSF, the Cython API would probably be the most applicable since it'll help people develop extension modules with array operations a lot easier. Efficient array operations are one of the biggest features missing in Cython right now and a public Cython API for DyND is a perfect way to address that need. I'll list the linear algebra operations as a secondary goal.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85637530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/102518861", "body": "Okay, this should fix that now. Are the test failures with cuda on Travis expected?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/102518861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116163992", "body": "This is the same error as https://github.com/libdynd/libdynd/issues/408. AFAICT it's a build error that only shows up when building with older versions of libc++. Which version of OSX is this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116163992/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116164121", "body": "Building with g++/libstdc++ should probably work as a short-term solution.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116164121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116190722", "body": "As to my knowledge there isn't a reliable way to distinguish between the different versions of libc++ that have shipped with the different llvm releases. The version macro it defines has the same value (1101) for versions where this does and does not work. The way I isolated the issue was to test on different versions of freebsd where one had the latest libc++ and the other did not.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116190722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116190788", "body": "This error can be reproduced on Linux (mint 17 with clang-3.6 installed) by running cmake with\n\n```\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_VERBOSE_MAKEFILE=ON -DCMAKE_C_COMPILER=/usr/bin/clang-3.6 -DCMAKE_CXX_COMPILER=/usr/bin/clang++-3.6 -DCMAKE_CXX_FLAGS=\"-stdlib=libc++\" ..\n```\n\nI'm not sure if the extra \"-stdlib=libc++\" should link properly, but using the headers for compilation is enough to get this error to show up.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116190788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116851071", "body": "If we wanted to make a Travis CI build with libc++ we could run cmake with\n\n```\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_VERBOSE_MAKEFILE=ON -DDYND_BUILD_BENCHMARKS=OFF -DCMAKE_C_COMPILER=/usr/bin/clang-3.6 -DCMAKE_CXX_COMPILER=/usr/bin/clang++-3.6 -DCMAKE_CXX_FLAGS=\"-stdlib=libc++ -lc++ -lc++abi -Wno-error=unused-command-line-argument\" ..\n```\n\nIf clang and libc++abi have been installed this should work for compiling, linking, and testing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116851071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662188", "body": "I'm seeing this with gcc 4.9.2 as well now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662543", "body": "Thanks. There's no major rush on my end. I've been suppressing the error in all the builds where it has been cropping up. I've put these here primarily to document these though, since we should probably be able to install from source on all recent versions of gcc without having to override any flags.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662619", "body": "Also, thanks for the great work over the last few days. Something you did recently fixed the last few test failures I was seeing with my mingw-w64 dynd-python build.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120663496", "body": "Yes, we could do the same thing for uninitialized variables. I'll look into this a little deeper on Monday and see if I can figure out if this is just compiler noise that we can safely ignore in all cases.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120663496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/121307469", "body": "I opted to do the disabling/re-enabling in two separate macros rather than a single multi-line macro since the warnings were still showing (but not causing errors) when I used a multi-line macro to suppress them. That's probably a gcc bug, but this workaround should be good enough.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/121307469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125303937", "body": "Yep, that fixes it, I'll submit a PR shortly. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125303937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125305045", "body": "Great! Thanks!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125305045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125315730", "body": "That sounds right to me. Let me know how I can help.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125315730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127762350", "body": "Thanks, I noticed that the SciPy devs got theirs working recently, so I'm feeling hopeful :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127762350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127796974", "body": "Okay, except for the Python build, this is working. I've currently removed the Python build since it tends to fail all the time. If you'd like, I can figure out how to re-add it or re-add it as an allow-fail block so it can run and fail without making the indicator for the whole PR fail. Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127796974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127862345", "body": "Okay, I haven't figured out how to get the Python build running yet. I'll try a few more things tomorrow. The latest version is my most recent attempt. It has all the others commented out to let me debug faster. Other than that, all the builds that use only C++ work fine.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127862345/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128423536", "body": "@izaid This looks like the segfault we were seeing with clang the other day. I'm baffled as to why it is only showing up on the new infrastructure and not on the current clang builds. I'll try enabling the verbose output and see if there are any differences in the flags.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128423536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128438321", "body": "Hmm, rebuilding numpy with clang didn't fix it either. I'm not sure if this could show up with gcc. I'll try running the travis build here using gcc.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128438321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128456213", "body": "Okay, this all works with gcc. If you'd like I can re-enable the other builds and we can merge this for now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128456213/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128703194", "body": "Yep, I just commented the others out to speed up debugging the Python build. The Python build works with gcc but not with clang.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128703194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128717336", "body": "Not really, I need to re-enable the other builds first. We could do that if\nyou'd like though.\n\nOn Fri, Aug 7, 2015, 8:05 AM Irwin Zaid notifications@github.com wrote:\n\n> Oh, wait, are you saying that you want me to merge this now to help with\n> sorting out the clang issue with Python? In that case I'll do it now.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/libdynd/libdynd/pull/481#issuecomment-128709133.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128717336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128723210", "body": "Fantastic! Yes, I'll switch this build back to clang and see if that fixes\nit. Thanks!\n\nOn Fri, Aug 7, 2015 at 8:54 AM Irwin Zaid notifications@github.com wrote:\n\n> @insertinterestingnamehere https://github.com/insertinterestingnamehere\n> I believe I just fixed the clang issue, at least on my local machine. I've\n> merged a change into dynd-python. Do you want to try again now?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/libdynd/libdynd/pull/481#issuecomment-128722042.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128723210/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128728849", "body": "Okay, the clang build works here now. I'll re-enable the other builds and get a similar PR up for dynd-python.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128728849/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128732830", "body": "Alright, let's see if this works. Once the builds pass again this should be good to go.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128732830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128757877", "body": "Alright, this is done. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128757877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137627274", "body": "Okay, my goal here was to find a small workaround rather than adding a lot of extra code. I have it down to 3 errors, but am struggling to get it any further. I'll leave it open for reference while we work on getting this fixed. Mark's larger refactoring in https://github.com/libdynd/libdynd/pull/531 is probably the way to go.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137627274/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137627426", "body": "I now have a msvc 2013 environment working, so at least this is no longer causing problems for the visibility fixes.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137627426/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137772182", "body": "Ah, sorry I wasn't clear, getting 2013 working on my end stemmed from getting the environment for it working properly and was independent of these changes. There's little or no net gain from this PR for the repository in general other than a small reduction in the number of msvc2015 errors we're seeing. Aside from that, this is just a handful of unnecessary special cases. I'll open a PR that reverts it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137772182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137810219", "body": "It would be good to get this one merged at some point.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137810219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137828962", "body": "Thanks!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137828962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137874319", "body": "Hahaha, okay, this has spectacularly many compiler errors at the moment, but the first pass to make all needed symbols visible is done. The next step in this PR is to go back and see if I can make the compiler happy that all the visibility declarations are consistent.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137874319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138618006", "body": "Closed by https://github.com/libdynd/libdynd/pull/452.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138618006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138674807", "body": "Okay, so the next barrier to this appears to be that msvc raises a warning when an object from the standard library is exposed as a part of the interface for a dll. I'm trying to minimize this by more agressively inlining some functions and methods. From there, I think we should just suppress that particular warning, merge this, then continue working to remove the dependencies on standard library types in separate pull requests. Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138674807/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138698925", "body": "This one is also resolved by https://github.com/libdynd/libdynd/pull/452.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138698925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138784347", "body": "Thanks for the input. This is working on msvc 2013 now. MinGW and msvc 2015 are still terribly averse to it though. :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138784347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138941360", "body": "Merging. I'll follow up later today with more fixes and cleanup for MinGW and msvc 2015.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138941360/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139008591", "body": "This is good to go. The rest of the changes ended up being relatively straightforward. I did make it so that `dynd::dynd_exception` no longer subclasses from `std::exception` so that it can pass across dll boundaries. If there are no objections, I'd like to merge this soon and continue with more modifications to the build system in a separate PR.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139008591/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139008726", "body": "https://github.com/libdynd/dynd-python/pull/354 fixes the dynd-python error in the Python build.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139008726/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139445030", "body": "Okay, enabling parallel compilation for msvc made appveyor terribly slow, so that'll just have to be done via the arguments to cmake for now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139445030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139445841", "body": "I just enabled parallel building for the conda build as well. I haven't taken the time to make the number of threads an option. I just set it to default at 5 so that it will run well on the two-core Travis CI machines. @izaid any thoughts on that?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139445841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139582687", "body": "The only slowdown was because appveyor couldn't handle running msvc with the -MP flag. On my windows machine doing that speeds up compilation dramatically, but the single-core appveyor bot wouldn't have anything of it, so I removed that change. Merging now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139582687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139659178", "body": "Yep, we could definitely do some kind of dynamic processor detection in the conda build. There really isn't any point in doing that in the Travis build. On the other hand, the conda build calls cmake and then make, so setting the number of cores automatically may need to be done in shell. I haven't found any way to have cmake set the default number of threads for a makefile yet.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139659178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139663059", "body": "Okay, I took a shot at it in https://github.com/libdynd/libdynd/pull/540.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139663059/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139666691", "body": "Only for Linux and Mac for now.\n\nWe could do the same thing in the conda build for windows by adding `-DCMAKE_C_FLAGS=\"-MP\" -DCMAKE_CXX_FLAGS=\"-MP\"` to the cmake configuration step. I'm reluctant to do that by default in CMakeLists.txt for Windows right now though because it makes AppVeyor take around twice as long as before.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139666691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139668107", "body": "My goal here is to make it so that we can (finally) build a usable dll and then make that the default behavior. There are still many linker errors that come when trying to build a dll, but I'll be pushing progress here as it comes.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139668107/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140605239", "body": "@mwiebe @izaid It looks like I need to use a cmake templating mechanism to make it so that if we are installing a shared library the preprocessor defines give `__declspec(dllimport)` in all the appropriate places and if we are installing a static library all the dllimports are not present. Can either of you confirm that? It seems weird to be changing one of the main macros like that, but that's the only way I see for supporting using both static and dynamic libraries.\nAs things are, this version works for building a shared lib (other than the fact that the libdynd.dll needs to be copied into the folder for the tests to get them to run properly), but it fails badly for a static build. On the other hand, if I make it so that the dllimport macro isn't present for client modules, everything works fine.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140605239/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140785488", "body": "Okay, I think I see where to go from here. [It appears](http://stackoverflow.com/questions/4489441/why-when-is-declspec-dllimport-not-needed) this is only a problem for data and objects exported from the dll. Those, I should be able to fix by declaring things like `dynd::ndt::type::instances`, `dynd::eval::default_eval_context`, `dynd::ndt::detail::builtin_kinds`, `dynd::ndt::detail::builtin_data_alignments`, `dynd::ndt::type::instances`, `dynd::ndt::detail::builtin_data_sizes`, `dynd::string_encoding_char_size_table`, `dynd::nd::sin`, `dynd::nd::random::uniform`, `dynd::nd::mean`, etc. in their corresponding header files as static rather than having them be declared extern in the headers and defined in the cpp files.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140785488/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140839861", "body": "Okay, this is good locally. We'll see if appveyor agrees.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140839861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140897475", "body": "Okay, this is passing. I'm still hunting out symbols that aren't used by the tests but still should be exported. This can be merged as it is though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140897475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140903041", "body": "Thanks for the help!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140903041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141155248", "body": "With this last change, the tests all compile and pass for both static and dynamic libs on both msvc 2013 and mingw-w64 (gcc 5.2).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141155248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141159302", "body": "No news for cuda on windows. I just gave that build a shot and it is definitely broken, though maybe I'm not telling cmake to use nvcc properly. We'll have to revisit that at some point, but now probably isn't the time.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141159302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141522524", "body": "This is now all working in master. Closing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141522524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141740221", "body": "This is fantastic! It's great that we can start doing stuff like this now!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141740221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142032703", "body": "Hmm. That's a really odd test failure. Looking into it more now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142032703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142041076", "body": "Good idea. Thanks. I've been wanting to read through more examples of going from function to kernel to arrfunc.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142041076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142043791", "body": "Will do.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142043791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142070074", "body": "I'm fine with these changes once the tests pass. Looking forward, I do have some questions about these routines though:\nWhat is the benefit of using an arrfunc for these allocation routines as opposed to a convenience function?\nIn the long run, should we expect looping through an array for initialization to be optimized by the compiler, or should we work towards doing this sort of initialization via a call to `memset`?\nIs there any reason we chose to make two nearly identical arrfuncs for filling an array with values, and is there a straightforward way to remove the repetition?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142070074/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142343652", "body": "I'm a little worried about the msvc failure. It looks like it's complaining about using an explicit template instantiation as a template parameter. Hopefully using the kernels in `kernels/apply.hpp` will help in working around the issues here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142343652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742385", "body": "Concatenating bytes sounds fine to me. I don't really have a strong opinion there.\nAren't our strings null terminated though? That would make it so that we'd want a string-specific implementation of concatenation.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742900", "body": "Okay, that's a surprise to me. Implementing it in bytes sounds great for now then. We can change that if we decide to go for null terminated strings later.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/39104912", "body": "Good idea, I'll add that in a follow up PR.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/39104912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40109264", "body": "I prefer the macros primarily because they let the reader know that the _exact_ same thing is being done several times over, but that's just me. I can see why we would prefer not to have them though, so we can get rid of them if you'd like.\n\nThanks for pointing out the kernels there. It makes a lot of sense to use those instead.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40109264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40110936", "body": "That makes a lot of sense. I'll go ahead and make that change.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40110936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42385929", "body": "Okay, I've seen that all over the place. I'll remove it here, but a style PR is probably in order for everything else.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42385929/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42387249", "body": "`EXPECT_FALSE` implicitly performs a static cast to bool by applying the logical not operator. Once a class overloads the logical not operator, the appropriate overload is called instead, so an array is returned from the expression rather than a boolean value. I didn't finish digging through the gtest code to find exactly why it fails after that. I could try fixing it in their code.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42387249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40002372", "body": "We should be able to just use some of our predefined typedefs here. [aritmetic_type_ids](https://github.com/libdynd/libdynd/blob/master/include/dynd/types/type_id.hpp#L207) is the same as what you define here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40002372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40002472", "body": "Same as above, use one of the prebuilt lists for this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40002472/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51161029", "body": "I did things in that order to avoid adding an extra layer of indirection in the templates before passing the kernel in to `make_all` at https://github.com/libdynd/libdynd/blob/master/include/dynd/func/arithmetic.hpp#L61. Is there another interface there that I should be using or are you asking for another set of templates here?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51161029/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51162031", "body": "I did that deliberately since the code is completely identical for unsigned integers, signed integers, and bools and we have to check that both arguments are one of those types. That's why I originally implemented this with `std::is_integral`. Is there a another way to do this that doesn't involve rewriting the same thing nine times?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51162031/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51162441", "body": "An alias like that looks good to me. I'll add that in. Thanks.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51162441/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51295329", "body": "There are a variety of places here where you change const references to by value returns. Is there any particular reason for this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51295329/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51296035", "body": "Does this completely replace the old `get_then_copy_kernel`? Why not make the changes to the original rather than having two kernels?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51296035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51298935", "body": "Yes, that error makes sense since `get_pos_types` doesn't return a const reference either (nor does `get_field_types`). The change would have to be made for all of them.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51298935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}]}, "izaid": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1124", "title": "Documentation for DyND ndt and datashape", "body": "This is an issue to have a discussion about @skrah's documentation: http://www.bytereef.org/1112730/datashape/build/html/index.html. Pinging @insertinterestingnamehere @mwiebe.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/969", "title": "Reductions can fail on scalar values", "body": "Reductions currently don't work with arrays of zero dimensions. They do, however, work for everything else.\n\nNot sure exactly where the error is.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/969/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/968", "title": "Reductions have difficultly with non-builtin identity values", "body": "Reductions in DyND currently work with an `identity` keyword argument. If an `identity` value is passed in, this value is assigned to the result. If no`identity` value is passed in, then the reduction assigns the first element of the input array to be the identity.\n\nWhile this works well in the case of simple operations like arithmetic, this fails when we have more complicated reductions like serialization. In that case, the signature is `(Dims... * Scalar) -> bytes`, and we can't assign values to bytes like that.\n\nSo we need a better way to handle identities and/or the initialization step of a reduction.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/968/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/953", "title": "nd::equal and nd::not_equal do not work for struct types with array members", "body": "This is because they are using `nd::equal` as the child (which is elementwise), rather then something like `nd::all_equal` (which would just return a bool). I'll work on fixing this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/953/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/564", "title": "DyND To-do List", "body": "We still have some way to go before DyND is really feature-complete, but we are closing that gap reasonably quickly now. Here is a place to list the things we need to do over the next little while.\n- Add missing kind types like \"Dim\"\n- Implement strings as per @mwiebe's proposal at https://github.com/libdynd/libdynd/blob/master/docs/string-design.md\n- Write an iterator for DyND array elements. We already have an iterator that @mwiebe wrote, and DyND's model for computation is that one shouldn't really use iterators, but we still need one internally. Especially for 1D arrays. \n- Complete option operations (@cpcloud did much of this already)\n- Add kernels that can return views\n- Add basic missing operations (linear algebra, statistics, etc) -- I don't want us to spend too much time on this unless we are sure we need the operation\n- Fix CUDA support*\n- Add LLVM-based composability*\n- Numba integration for dimension types (maybe this should wait until after LLVM-composability?)\n- Use Intel MKL for FFT instead of FFTW\n- A lightweight NumPy-compatibility module (@jreback, among many others, would love this)\n- Benchmark, benchmark, benchmark -- we already have Google Benchmark included, so we just need to write some!\n- Add user-defined types from Python (first need to merge @izaid's and @mwiebe's PRs)\n- Split out the datashape parser\n- Fix Windows issues (@insertinterestingnamehere is on it)\n- Dask interoperability (@mrocklin will probably do it)\n\nA \\* means this is a back-burner issue and probably shouldn't be tackled now\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/270", "title": "Google Summer of Code projects", "body": "Ideas go here...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/248", "title": "ndt::type copy constuctor from string not working consistently", "body": "I'm a bit confused by some of the behavior with constructing types from strings. For instance, ndt::type(\"T\") seems to work, but not ndt::pattern_match(\"T\", \"int32\") -- or any other function that takes a const ndt::type &. Why is this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/248/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/247", "title": "Windows issues with test_apply.cpp", "body": "@mwiebe Can you please take a look at the master version of test_apply.cpp? If you do, you'll notice that there are two places where ifdefs prevent Windows from compiling the code. For instance, https://github.com/libdynd/libdynd/blob/master/tests/func/test_apply.cpp#L522\n\nWhat's happened here is I've brought back a number of the apply tests that were disabled because of CUDA. There seems to be some sort of compiler error with Windows, which doesn't look too bad to fix. Could you please?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/206", "title": "Comparision of integers of different sign", "body": "Right now, we can't compare intptr_t and size_t without the compiler failing. Is this necessary? Can we just turn that single error off?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/149", "title": "ckernel and arrfunc file names and locations", "body": "We've gotten a bit sloppy on where we are keeping ckernels and, also, how we name things. For instance, we have ckernels in the kernels directory and some ckernels in arrfunc src code. \n\n1) An arrfunc is placed in the func subdirectory. If it's name is \"something\", the appropriate file can be something_arrfunc.{hpp, cpp}.\n\n2) Every ckernel is placed in the kernels subdirectory. If it's name is \"something\", the appropriate files can be something_kernels.{hpp, cpp}. The 's' in \"kernels\" can be removed if it defines a single kernel.\n\nQuestion: Maybe it makes more sense to remove both the \"_arrfunc\" and the \"_kernels\" from the above files, as those are specified by the directory anyway.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/148", "title": "inline", "body": "Which methods should we declare as inline?\n\nMy understanding of the C++ standard is that class methods defined within a class are, by default, inline. Source: http://stackoverflow.com/questions/9734175/why-are-class-member-functions-inlined?rq=1\n\nThe above link specifically quotes the C++11 standard, \"A member function may be de\ufb01ned (8.4) in its class de\ufb01nition, in which case it is an inline member function (7.1.2) ...\"\n\nIf that's the case, we should stop putting inline on class methods unless they are defined outside the class.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/112", "title": "Be more consistent with braces", "body": "We're a bit inconsistent with braces in libdynd. Sometimes we put the brace on a newline and sometimes we don't. I think we should pick one and stick with it.\n\n<!---\n@huboard:{\"order\":63.75,\"milestone_order\":112,\"custom_state\":\"\"}\n-->\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/112/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commits": [{"url": "https://api.github.com/repos/libdynd/libdynd/commits/65f822d00ac24069f3a51b7e88e8b85c0442e100", "message": "Merge pull request #1308 from izaid/various\n\nAdded a variety of small fixes"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/31e94f5acba9333f45f419febbb4a4547285cdf6", "message": "Merge pull request #1307 from izaid/gtest\n\nMoved dynd_assertions.hpp to dynd/gtest.hpp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/27c223c85aa6da132a77cf6d34a2b142315d20ab", "message": "Merge pull request #1306 from izaid/various\n\nAdding definitions of constexpr variables to fix optimization bug"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3d785a6cfc43f43fd655d87ae0dd482d989253e2", "message": "Merge pull request #1305 from izaid/init\n\nAdded some tests to STLArray"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/c853724278522c0f357d638a1cf2c9ad0fd7af05", "message": "Merge pull request #1304 from izaid/init\n\nRefactoring around init_kernel"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/04a741f07841ca2f2d06e26742f0aeee9149c111", "message": "Merge pull request #1303 from izaid/various2\n\nRefactoring around init_kernel"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/2f88235de52738be298bb78b36a009997af2f857", "message": "Merge pull request #1301 from izaid/init\n\nHunting down MSVC bug in tuple init"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/aaca433e30e3a38c2fd342a611a96e696d660f81", "message": "Merge pull request #1298 from izaid/init\n\nCleaned up buffer constructors"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/c52ce38da605bacf43e91cb71d29852aa6959d20", "message": "Merge pull request #1297 from izaid/init\n\nMoved remaining init code into nd::buffer"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/fdbce9ce4131a749e241703dd5073f1c5fa163c6", "message": "Merge pull request #1296 from izaid/init\n\nMoved init code into buffer"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/aa3bbd6540e3254cedd843ef7a4be58a388cdd0a", "message": "Update .travis.yml"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/efe9e33d7e1faeee14a5fa6c5423d3d5d4b144a4", "message": "Update .travis.yml"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/149c3df19db3d1ee644d9a9d60baac85c0865a0f", "message": "Update test_option_type.cpp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/ed316929553a58e645a67b3f165b6551eb632db8", "message": "Update .travis.yml"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/a8e449c41fe5d4fc1074c84f5110b1ee26ae1939", "message": "Update .travis.yml"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/ea0e76c58a19853f0159e5f4a1d2b406b860d858", "message": "Merge pull request #1295 from izaid/fft\n\nClean-up of .travis.yml"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/d5a64d5941f7759b02ec521de1c7e25f9f449ea5", "message": "Merge pull request #1294 from izaid/mkl\n\nAdding tests for MKL"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/aaa4d5a8ff5687befc5bec50f9444246d09690f3", "message": "Merge pull request #1293 from izaid/various\n\nFixed path bug in registry_entry::insert"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3b2f9bd2255cef4c2a59da9efeaf5b68a61639cd", "message": "Merge pull request #1292 from izaid/various\n\nUpdates to the registry"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/d7610a48e09f7259a54987acf490d16f0bb2446f", "message": "Update simple_example.cpp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/c7e4401c7232ed1484ae73b5e5d521a365a5f6d1", "message": "Merge pull request #1291 from izaid/destruct\n\nAdded registry.{h,c}pp"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/dfbb4f504beb5d2cfd77badbf43a466921e343cd", "message": "Merge pull request #1289 from izaid/registry\n\nSome follow-on changes for registry API"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3e081d4c91991e68921bbc5a81a2ad01f5e82cdc", "message": "Update CMakeLists.txt"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/c343fc40e0f7d8c64c2ac27a5fba602732d64eab", "message": "Merge pull request #1288 from izaid/various\n\nRemoved dynd::get(), added dynd::parent_registry() and some registry()"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/cd24f2a403f10f0be5b02999da79edf7771343d0", "message": "Merge pull request #1287 from izaid/various\n\nChanging the registry API"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/b45ba745510553730ca8717a4f3d8191922b0ab9", "message": "Merge pull request #1286 from izaid/various\n\nAdded dynd. to registry"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1b07377ca298eafe9f86ae9a370ed3571b08d280", "message": "Merge pull request #1285 from izaid/various\n\nAdded nd. to the registry"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/725cd90c512869c1e275686b0ffbb2e94c8e5cc0", "message": "Merge pull request #1284 from izaid/various\n\nMaking the registry use absolute paths"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/2137ef126ecc57f13b35e79ef7f7d3694f479054", "message": "Merge pull request #1282 from izaid/various\n\nAdded an all_equal callable, fixed long-standing scalar reduction bug"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/62fe05c7a0950d5b531cf1b96814a78ec5395b77", "message": "Merge pull request #1281 from izaid/various\n\nReduction work"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/255e395e15e86bfbd6c9daac7b3740d95dd861b7", "message": "Merge pull request #1280 from izaid/various2\n\nA variety of fixes"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/5589bb64a250f805a733c963acf62418aa3dece9", "message": "Merge pull request #1279 from izaid/stride\n\nChanging fixed_dim to not have stride = 0 if size == 1"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/327fc0d0b897070cda9e925f53ae2f8dac0672f0", "message": "Merge pull request #1277 from izaid/various\n\nAdding tuple to apply"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/330797d185e53f2a87236885bb6af3bafc393e69", "message": "Merge pull request #1276 from izaid/various\n\nRenamed fixed_dim<T> to fixed<T>"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/3c72acd87916cad3df53c78f90f0cd252389813a", "message": "Merge pull request #1275 from izaid/various\n\nUpdating apply to allow for returning of arrays"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/9b2058ade415e1221e6f573cba81fd54bcb63c94", "message": "Merge pull request #1273 from izaid/various\n\nRefactored fixed_dim<T>, added more functionality to optional<T>"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/7e0578806c99dc0eda8c04a20366b3dca299db0b", "message": "Merge pull request #1271 from izaid/dispatch\n\nRemoved more old dispatch callables"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/1f2ee9b2819cff7d08cce4fed355c9fdb64099b6", "message": "Merge pull request #1270 from izaid/dispatch\n\nRemoved base types from type constructors"}, {"url": "https://api.github.com/repos/libdynd/libdynd/commits/baffd7dcd7fb1d3f816006e2b706742c916818b8", "message": "Merge pull request #1269 from izaid/dispatch\n\nRestored base ID hierarchy"}], "pull_requests": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1153", "title": "Added a type ID for escape option", "body": "", "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1037", "title": "Added sparsehash as a header-only library", "body": "", "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/1036", "title": "[WIP] Adding Google sparsehash as a thirdparty library", "body": "", "author_association": "OWNER"}], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/36344014", "body": "Okay, there is already some testing for valid memory types in test_cuda_host_type.cpp and test_cuda_device_type.cpp.\n\nI agree that test_cuda_array.cpp is a good thing, and I'll do it, but I'd like to hold off on it until after this merge. The TestFixture for memory spaces and test_cuda_*_type.cpp should be doing enough for now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/36344014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/46794583", "body": "Alright, I understand the idea here. I don't think arrays should be immutable by default as there are too many times arrays are constructed as an intermediate part of a calculation. Without thinking about this too deeply, if I was to come up with some sort of principle, it would be the following:\n\nArrays should, by default, not be immutable. Arrays which represent scalars should, by default, be immutable.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/46794583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49049826", "body": "Any thoughts on this, @mwiebe?\n\nWhat is the right way to get dim_size's of individual dimensions? Going through get_shape feels a bit unnecessary, as it has to create the std::vector. Is that the preferred way to do this or should we setup a convenience method?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49049826/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49050165", "body": "What do you think about disabling this? Right now, it is getting a bit complex to use arrays in simple expressions, as they are always created immutable.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49050165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49177091", "body": "Just had a look at this, and it is much better. One further thought for convenience.\n\nWhy don't we add a new method to nd::array called get_dim_size(intptr_t i), which returns the size of the ith dimension? It can use get_strided_ndim() and then directly grab the dim_size from the array metadata. That should be very efficient. If the dimension is beyond that returned by get_strided_ndim(), then it'll have to go through types, but okay.\n\nThe thing is, dealing with datashapes and array metadata is very powerful, but sometimes it is a bit inconvenient if you are doing high-level calculations. Other times, though, it is great.\n\nI don't mind writing this if we settle on the API.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/49177091/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53072762", "body": "Done with PR, see https://github.com/ContinuumIO/libdynd/pull/100\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53072762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53158455", "body": "I'll point out that the fft interface already has it's own cleanup function, that gets called via atexit https://github.com/ContinuumIO/libdynd/blob/5bb5385b09e299d9e9eada35b0b6a75f8705b7d4/src/dynd/fft.cpp#L23\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53158455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54759222", "body": "I think we can merge this now, though more to do obviously.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54759222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55188555", "body": "Just chiming in to say it seems elegant to me, and the double use isn't that big a deal.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55188555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55574657", "body": "Currently, there are two ways to handle the above that should just work \"out of the box\". First, if the arrfuncs both expect the same aux_buffer subclass (or none) then it's fine. Second, one can define two aux_buffer subclasses, say my_aux_buffer0 (for af0) and my_aux_buffer1 (for af1). If one of these inherits from the other, then it should also work fine.\n\nI think these are good solutions to that problem. I don't think we can (should?) support chained arrfuncs that take totally different aux_buffers.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55574657/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56492171", "body": "Okay, I can add a test for that.\n\nI also probably just broke the Python bindings again (sorry) due to the new change in instantiate (aux_buffer \\* -> nd::array).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/56492171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57359002", "body": "Yeah, that might be what we should do. Solution for now is to use clang.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57359002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57540066", "body": "Done, closed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57540066/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57715144", "body": "libdynd.so is now the default. We should probably add a version and make libdynd.so a symlink at some point.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/57715144/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58048643", "body": "What was your resolution? It is confusing me, and I'm looking into now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58048643/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58064757", "body": "Fixed the memory issue, it was my mistake.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58064757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58199437", "body": "I'm closing this now. I merged in a pretty solid neighborhood arrfunc. Still needs a bit of work, but it is very usable right now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58199437/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/60859143", "body": "Done, closed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/60859143/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61018509", "body": "Looks good. I would just add that unnamed parameters must come before named parameters of the same type (src / aux). For instance, I don't see any reason why the following shouldn't be valid:\n\n(int, val: fixed \\* float32; int, boundary: string) -> int\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61018509/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61816963", "body": "A preview version of this is in master. A slightly better version is my FFT branch, which gets merged when more of the arrfunc machinery is sorted out.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61816963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/63477458", "body": "Closing this issue, because I don't think we need them anymore with the introduction of variadic templates.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/63477458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/63477548", "body": "C++11 solved this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/63477548/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/64821576", "body": "This adds a new build mode to Travis CI, where DyND and its tests are built with CUDA but not run.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/64821576/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/64886243", "body": "Closed, because I merged this into master with the C++11 changes.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/64886243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/68382996", "body": "We came to the decision today that the \"kernel\" and \"func\" directories will be merged into a single \"func\" directory. Analogous files will also be merged.\n\nIn master, func/elwise.hpp is an example of what this should look like.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/68382996/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/69265496", "body": "I fixed this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/69265496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/69265719", "body": "It turned out that FindCUDA.cmake had a bug, see the long discussion at http://public.kitware.com/pipermail/cmake/2015-January/059482.html (which starts on a different issue).\n\nThis should be fixed in the CMake repository. There is also a workaround, which I've implemented here. One simply needs to pass a build type to CMake. It works with any build type, but not no build type.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/69265719/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70063481", "body": "My main platform is OS X 10.10, things are working here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70063481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70189709", "body": "Interestingly, I just tried to upgrade to CUDA 7.0, which requires clang instead of GCC. I now get this test failure.\n\nTo be clear, I was building with clang before as well when I didn't use CUDA (up to earlier today), but it wasn't an issue.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70189709/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70190273", "body": "FYI, it is just two tests. The rest of DyND works.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70190273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70272187", "body": "While I haven't fixed this, I have modified test_libdynd to simply fail (for those two tests) instead of segault on Mac. You should be able to run the rest of test_libdynd without any problems.\n\n@mwiebe It's strange that there is only an issue in two type substitution tests. If it was really a problem with type substitution, we should get failures everywhere.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70272187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71202790", "body": "I did this, but badly! Still need to add a proper hash function implementation to ndt::type.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71202790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71240021", "body": "Hi David,\n\nWe recently updated libdynd to use C++11, and thus do require Visual Studio 2013. This is mentioned in some of the docs (see BUILD.md), but sorry you couldn't find it easily!\n\nIf it doesn't work with VS 2013, please let us know!\n\nEdit: It is, in fact, mentioned on the main page of the repository.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71240021/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71241054", "body": "Ok, cool, thanks for letting us know about the tarball.\n\nYes, I believe we typically build dynd_python with the same compiler. I don't use Windows, so @mwiebe can jump in if I've got something wrong.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71241054/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73363774", "body": "Issues are still there. Note the #ifndef _MSC_VER in func/test_apply.cpp\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73363774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73494753", "body": "It could be, but that's something I haven't come across before. Do all the failing cases work in simple example? (And this is without CUDA, right?)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73494753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73499321", "body": "Yeah, that looks weird. I don't know exactly what the problem with that is.\n\nYou may have noticed that I updated the arrfunc call operator on the weekend. We now have both static and dynamic parsing, including for keyword arguments at the Python level. I don't think much needs to change for arrfunc calling anymore, so if we can just hunt down these last bugs we'll be good.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/73499321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/74223187", "body": "I'm confirming that this also happens with CUDA.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/74223187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/74357581", "body": "Closing this as elwise doesn't even exist anymore in that form! Going forward, we do still have a casting issue, but it's global.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/74357581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/76622625", "body": "I just fixed the take test. The multidispatch test I've left unfixed, as there is now a question of unifying the two versions of multidispatch.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/76622625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/78975341", "body": "I like how fast you were with that +1!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/78975341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84676786", "body": "@mrocklin When I was implementing unary minus, I was thinking of you. ;)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84676786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84678721", "body": "I do think there is a lot of repetition here, which is frustrating. I'd like to find a way to reduce that without making the code unreadable. For instance, I could use dynd's preprocessor more, but it makes it much harder to see what's going on. Let me see what I can do...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84678721/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85422889", "body": "Hey Ian! These are all fantastic ideas. I think the first two especially would fit with where DyND is at this stage.\n\nTo start off, though, we didn't actually end up applying for GSoC, so we can't mentor you through that. That's not a problem for me, but it may be for you. If you're still interested, can you shoot me an email and we'll talk further about what can be done.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85422889/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85654978", "body": "Thanks @mrocklin @nouiz @bryevdv -- am sorting it out now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85654978/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/110032226", "body": "@mwiebe Can we get these merged, at least partially?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/110032226/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/113572522", "body": "So I've never seen this is before. I'd vote towards an incompatibility as well.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/113572522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/114064581", "body": "Thanks! I can take it from here if you'd rather.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/114064581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116163818", "body": "Is this with the latest Github source? I use Mac OS as my main machine, and things are fine.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116163818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116760096", "body": "Yep -- it was also necessary to use value as a parameter to templates.\n\nI think multidispatch is slowly converging, but it needs a lot of work still. I'm updating everything else and letting that drive how multidispatch works, it's all very experimental.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116760096/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/117128302", "body": "Closing because we are moving to my branch.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/117128302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662243", "body": "Okay, this is on my todo list to sort out. If you are trying to build dynd-python, it is currently broken (fixing that now).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662338", "body": "If the \"maybe unused\" variables are arguments, there is a DYND_IGNORE_UNUSED(...) macro that fixes it. We can probably come up with something similar for declared variables.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/120662338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/121880496", "body": "That is super weird. It's also really weird that all Travis CI tests pass. Is it possible that MSVC is actually compiling things wrong?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/121880496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122601762", "body": "Thanks! We'll add template aliases to the long list of things that MSVC can't handle.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122601762/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122690496", "body": "Fixed in master now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122690496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122690551", "body": "Fixed in master now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/122690551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125300823", "body": "Yep, this one is easily solved. If you see undefined reference to \"dynd::nd::array::f\", it means some file is very likely missing an #include \"dynd/gfunc/call_callable.hpp\". gfunc is the ancient arrfunc which can't be deleted until we sort out views properly, it causes trouble sometimes. Try putting the include in test_time_type.cpp.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125300823/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125304668", "body": "Will merge when green.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/125304668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/126520737", "body": "Sounds good, thanks!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/126520737/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127759971", "body": "Ha, this is awesome! We've been talking about doing this for a while, but have been held back because we didn't think we could install everything without sudo. Massive +1 if you can do it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/127759971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128006385", "body": "Okay, it's awesome that everything is working besides Python. That being said, I don't think we can drop the Python build -- it is too useful. We use it to determine if we broke the Python bindings and need to fix them, which happens frequently.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128006385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128408911", "body": "@insertinterestingnamehere I merged the dynd-python PR and reran Travis, but it seems we're getting a segmentation fault at the test stage.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128408911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128428260", "body": "@insertinterestingnamehere Agreed. I think this segfault is now a major issue we need to solve. I'm also seeing a segfault on anaconda.org, although that is using gcc. I wonder if it is the same.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128428260/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128651051", "body": "Wait, so do all the builds work?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128651051/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128706161", "body": "Okay, we'll definitely merge this but I'd like to see if I can sort out the clang issue first.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128706161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128709133", "body": "Oh, wait, are you saying that you want me to merge this now to help with sorting out the clang issue with Python? In that case I'll do it now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128709133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128722042", "body": "@insertinterestingnamehere I believe I just fixed the clang issue, at least on my local machine. I've merged a change into dynd-python. Do you want to try again now?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128722042/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128771306", "body": "Fantastic work!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/128771306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/136335191", "body": "Ended up going with conda.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/136335191/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/136961118", "body": "Sounds good, merged.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/136961118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137704848", "body": "FYI, std::common_type is already overloaded for the complex types in complex.hpp\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137704848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137879311", "body": "This is lots of work. So far, it looks like major steps in the right direction!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/137879311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138675512", "body": "Yep, I think that's absolutely the right approach. Suppress the MSVC warning, make this pass on all platforms, then feel free to merge it if it does.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/138675512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139447611", "body": "Wow, is it actually twice as fast with clang? That's impressive, feel free to merge so long as nothing is terribly slow.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139447611/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140231236", "body": "We'll definitely do a compatibility layer. I'm not sure exactly which form it will take (it may need an explicit buy-in), and I quite appreciate having all these issues here. No ETA on that, sorry.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140231236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140900659", "body": "This is a lot of solid work, thanks a lot!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140900659/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141826781", "body": "@cpcloud, you are the current expert on this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141826781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141826799", "body": "But, yes, it should do that Jeff. It's just a question of a missing feature.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141826799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141879062", "body": "Want to look through this, @insertinterestingnamehere?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141879062/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142039187", "body": "@insertinterestingnamehere -- Actually, I was just thinking it'd be good for you to review the code. I don't think you need to fix any failures.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142039187/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142043629", "body": "@insertinterestingnamehere If you can do this as a formal code review, that'd be great. Leave comments for anything that needs to be fixed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142043629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142086780", "body": "Merged.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142086780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "commit_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/comments/8054122", "body": "I added such a test in latest merge.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8054122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8482898", "body": "Not necessary, but in most of our other classes we don't use the private label at the top. So we should be consistent I think.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8482898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8792331", "body": "I don't think this will work with CUDA, I'm pretty sure CUDA can only handle gcc 4.7.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/8792331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/9116712", "body": "This is actually a problem when compiling dynd-python with Clang. It fails because tolower and isspace are supposedly ambiguous, which is why I added the std::. Unfortunately, with this change, it is back to being ambiguous and failing again.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/9116712/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/9207743", "body": "Great to see you are paying attention!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/9207743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/10708899", "body": "Indeed it does!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/10708899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/11917695", "body": "Probably, yes! float16 and float128 are not complete. :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/11917695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15741990", "body": "Do we want this operator in `dynd::bytes` or `dynd::string`? I actually don't know the answer, it's a question of what semantics we want.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15741990/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742000", "body": "The `extra_type` is no longer necessary, feel free to delete.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742000/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742045", "body": "Kernel looks good. Where we should put concat_one_string is a good question.\n\nSome kernels, like this one, expose functions that are generally useful. Another example would be all our special mathematical functions. If that is the case, we typically expose a `dynd::` version so people can use them independently. I'm not sure if concat is a candidate for this or not, just putting it out there.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742082", "body": "Looks good. You can drop the `dynd::` part. Also, `make_type<dynd::string>()` and `type(string_id)` do the same thing. No preference here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742140", "body": "Just a little mistake, need to also rename view on line 16 to string_concatenation. What we do here is really declare a singleton struct of type `string_concatenation` and a global variable of the same type called `string_concatenation`. The name after the declaration refers to the variable `string_concatenation`, but the struct can be referred to by `struct string_concatenation`.\n\nThe explanation is complicated, but the user interface is easy.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742140/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742151", "body": "I'm sure you'd catch this, but the function body shouldn't be there.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742151/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742188", "body": "We can use `EXPECT_ARRAY_EQ` for testing. If you do that, you don't need to use `.as<T>`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742188/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742198", "body": "This should just work `nd::string_concatenation(a, b)`, without the `()`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742198/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742280", "body": "Ping @insertinterestingnamehere and @mwiebe.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742432", "body": "`dynd::string` is actually not NULL-terminated, which is the same as `std::string` (also not NULL-terminated). So we're actually cool, though I know that is a bit unexpected depending on one's background.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742492", "body": "You have this function defined twice, right? Once in string_concat_kernel.cpp and once in string.cpp?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742512", "body": "Ah, okay, I see. You don't even need this file `string_concat_kernel.cpp`. The reason the compiler isn't complaining is probably because that file wasn't added to CMakeLists.txt. (Just delete it.)\n\nIn general, we try and keep our kernels all in the header files.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742512/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161396", "body": "Yeah, all three of them are used. DYND_CUDA_HOST_DEVICE_CALLABLE is unavoidable. I can remove the others and sprinkle **device** and **global** throughout the code, but it keeping all three of them seems consistent.\n\nComments are fine, I'll add some. I don't care about the names, I'd be fine if you want to choose them. Maybe we just drop the 'CALLABLE' part?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161420", "body": "That's fine. Just curious, why do you put the _.hpp files in CMake. I thought only the source files (_.cpp, *.cu) need to be specified.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161445", "body": "I actually take the terminology from the standard library. ;)\n\nThe code for runtime_error is:\n\n## \n\nclass runtime_error : public exception {\npublic:\n  explicit runtime_error (const string& what_arg);\n};\n\n## \n\nAnd the base exception call even has a method what() that returns the error message.\n\nAgain, we can change them, I don't care.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161460", "body": "Cool. I'm trying to keep the ABI consistent when possible.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161460/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161518", "body": "If it's okay with you, I think it would be better to keep the declarations in assignment_kernels.hpp. Otherwise, we need to do a cuda_whatever.hpp for every single file we are going to change, and I think it will get very messy.\n\nSince we split at the source file level, and it works nicely because of the different extensions (assignment_kernels.cu versus assignment_kernels.cpp), the code is basically separate anyway.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161518/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161528", "body": "Will do.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161528/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161557", "body": "I agree with you that the target_tp is not a good name, but I was struggling to come up with something better. What about if we refer to it as the dtype of a memory type? We then change get_target_type to get_dtype?\n\nOr is that too confusing with the array dtype?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161559", "body": "Answered in email.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161564", "body": "Agreed. I wasn't thinking too carefully, will change.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161605", "body": "That's a mistake on my part, good catch. It should be #include \"dynd_int128.cpp\", I'll change it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161613", "body": "Answered in new email.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161613/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161615", "body": "Okay, will change.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10161615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10268605", "body": "I think we should keep the HOST and DEVICE part as it maps one-to-one from CUDA. What I did was drop the CALLABLE part for all three.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10268605/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10269848", "body": "Okay, I changed it to DYND_TRIGGER_ASSERT.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10269848/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10270406", "body": "I went with storage_tp.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10270406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10270778", "body": "Though another option is value_tp.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/10270778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11429423", "body": "It is now recursive, and I have added tests into test_fixed_dim.cpp.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11429423/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11429593", "body": "Done.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11429593/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430445", "body": "I think the best thing to do is to simply try it out. You can do this by using gcc -E or cl.exe /E, which just shows the preprocessor output. You can look at the tests I've written in test_pp_list.cpp as an example of how to use the more complicated macros.\n\nMost of the macros behave like their Python counterparts. DYND_PP_RANGE(4) returns (0, 1, 2, 3). DYND_PP_MAP(MAC, (0, 1, 2, 3)) returns (MAC(0), MAC(1), MAC(2), MAC(3)). DYND_PP_REPEAT(TOK, 4) returns (TOK, TOK, TOK, TOK).\n\nDYND_PP_ELWISE and DYND_PP_OUTER behave like the dynd functions we are implementing. DYND_PP_ELWISE(MAC, (0, 1, 2), (3, 4, 5)) returns (MAC(0, 3), MAC(1, 4), MAC(2, 5)). DYND_PP_OUTER(MAC, (0, 1, 2), (3, 4, 5)) returns (MAC(0, 3), MAC(0, 4), MAC(0, 5), MAC(1, 3), MAC(1, 4), MAC(1, 5), MAC(2, 3), MAC(2, 4), MAC(2, 5)).\n\nThe JOIN versions of the above take an arbitrary separator in parentheses, like (,), (;), or () for nothing, and apply the same operation except without enclosing the final result in parentheses. The JOIN versions are needed for doing the metaprogramming. \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430445/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430547", "body": "Here is the deal with the subscripts. For the most part, a macro with subscripts shouldn't be called directly. There is only one situation where it should, which I'll detail below.\n\nThe C preprocessor isn't recursive. So, if I define a macro that internally uses some particular macro, like DYND_PP_MAP, there can be issues. Consider #define MAC(X) DYND_PP_MAP(OTHER_MAC, DYND_PP_RANGE(X)). MAC(4) returns (OTHER_MAC(0), OTHER_MAC(1), OTHER_MAC(2), OTHER_MAC(3)).\n\nHowever, if I write something like DYND_PP_MAP(MAC, DYND_PP_RANGE(4)), the DYND_PP_MAP call in MAC's definition won't expand. For that reason, I need a second implementation of DYND_PP_MAP, i.e. DYND_PP_MAP_1. I should instead write #define MAC(X) DYND_PP_MAP_1(OTHER_MAC, DYND_PP_RANGE(X)).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430626", "body": "The general idea is that, for these situations, the programmer needs to keep track of the recursive depth manually. I believe BOOST does exactly the same thing.\n\nHence ppgen takes an argument that specifies the maximum depth (default is 3). And, for each of DYND_PP_MAP, DYND_PP_REDUCE, DYND_PP_JOIN, DYND_PP_REPEAT, DYND_PP_ELWISE, and DYND_PP_OUTER, there is a corresponding version DYND_PP_*_X, all of which are identical.\n\nBy default, DYND_PP_MAP is a shortcut for DYND_PP_MAP_0. Likewise for the other list macros.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430685", "body": "In elwise.hpp, I call the macro ELWISE with a DYND_PP_JOIN_MAP. Hence I need to use a recursive depth of 1 for each call to DYND_PP_JOIN_MAP in the implementation macro. For consistency, I put the other list processing macros at depth 1 too.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11430685/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11474307", "body": "Yes. I used DYND_PP_INC because then it is for sure evaluated at compile-time.\n\nEdit: Of course, a const expression '5 + 1' should be too. I have switched DYND_PP_INC with the expressions.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11474307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11483220", "body": "Done.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11483220/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282545", "body": "Changed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282550", "body": "Also changed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282550/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282557", "body": "changed\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282589", "body": "Added function name.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282652", "body": "Done.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282830", "body": "Not needed, I removed them.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13282830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13286222", "body": "Done.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13286222/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14247560", "body": "This is an awful hack, but I only want to use this for testing now. We'll fix rand when the underlying machinery is present. I mention in comments in its header file that it should be rewritten.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14247560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14247628", "body": "Do I need to do shallow_copy_array_memory_block(get_memblock()) here? I found just doing a view did not copy the metadata.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14247628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14247695", "body": "We can eventually metaprogram this.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14247695/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14248355", "body": "Maybe a better name for 'roll' would be 'cycle'?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14248355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14252679", "body": "We should go with rotate.\n\nAlthough I thought about the axis reference, I'm not totally sure about that. Transpose is fine, everyone seems to just call it transpose. Permute I think as well, MATLAB just calls it permute (http://www.mathworks.com/help/matlab/ref/permute.html).\n\nSo the lone dissenter is roll. Maybe we should just call 'roll' instead 'rotate' and see if we can live with it. It seems weird having 'transpose', 'permute', and 'rotate_axis' rather than 'transpose', 'permute', and 'rotate'.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14252679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14252735", "body": "It's not a big deal to me, but that probably makes more sense. I think view should be the same data, but everything else is a copy. I was surprised when view used the same metadata.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14252735/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576482", "body": "I understand the point about not including too many external headers in our header files. But, if we want to provide access to the FFTW library rather than just opaquely wrap it, we need to include it.\n\nIf someone chooses to build with FFTW, then it seems reasonable to expect the FFTW headers are included.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576482/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576487", "body": "I hacked up this rand function a bit more so it can do complex rands. Again, needs to be done properly at some point.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576487/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576496", "body": "Sometimes I need a fundamental function that libdynd is missing -- in this instance, concatenate. Usually I will try and implement it properly. Rarely, like in this case and for rand, I will put a quick stopgap in so I can move on with the bigger picture. Concatenate is an example of this. It needs to be done properly at some point.\n\nThis version works for a pair of 1D arrays.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576501", "body": "The keys for caching an FFTW plan are 9-dimensional. So I needed a tuple.\n\nDo we have cross-platform issues by using tr1 here?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576510", "body": "Environment variables seem to be the \"right\" way to do options with Travis CI.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576520", "body": "Some issues with comparing complex and double came up in the testing. This is what I needed to do to fix it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576954", "body": "Yeah, it looks pretty good. Seems like something we can work off of.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576956", "body": "Cool, sounds good.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576956/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576957", "body": "This is true.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576957/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14577003", "body": "A bit confused here -- what's wrong with this dtyped_empty?\n\nAs for the ambiguity, no ideas yet. Currently I'm just using static_casts to intptr_t to avoid it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14577003/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14577007", "body": "Yes I did. Added and will commit now with these changes\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14577007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576950", "body": "I don't fully understand. Are the functions that currently exist the separate ones?\n\nEdit: Wait, unless you are proposing to split the header into two headers. One for direct versions, which is this. Another for mediated, which uses arrfunc to hide the FFTW components?\n\nIn any case, I can also move the fftw namespace to the .cpp file, it's not something I really care deeply about.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14576950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14577858", "body": "This is a good example of why having immutable arrays created by default can be weird sometimes. I should just be able to do 'nd::array x = x0 + x1'.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/14577858/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16609253", "body": "If i is greater then the strided_ndim, I currently use get_shape()[i]. Is there a better way to do this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16609253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16626340", "body": "Changed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16626340/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630650", "body": "Changed it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630654", "body": "I don't understand this comment. Aren't the built-in types just scalars, so they should go to the exception?\n\nIn any case, what would you like it to be?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630654/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16626002", "body": "@mwiebe, is the DYND_MEMCPY(smd +1, ...) here necessary? I thought it might be due to changes for strided arrays you made recently.\n\nWith or without this, I expect this to work.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16626002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630697", "body": "Do you mean arrmeta_copy_construct? Wouldn't that copy all of the arrmeta, whereas we need to only copy the part of it before the new axis.\n\nI can see how it would work for part after the new axis though.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630697/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630701", "body": "We should make it work more generally. What is the right way to do this?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630701/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630707", "body": "Do you mean because of the type function with_new_axis, or because of something else? If it is the latter, what is that something else?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/16630707/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/18715270", "body": "Does arrmeta_copy_construct also handle the child types? If it does, then isn't it going be a problem here because the child types may be different if I inserted a new dimension somewhere?\n\nIf it doesn't, then it's fine.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/18715270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/22331041", "body": "It's not, we should probably ensure nsrc >= self_tp->get_npos().\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/22331041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26626785", "body": "What about if we want to support var_dim (not for neighborhood, but for apply or iteration)? I guess we could do that by simply inheriting from the fixed_dim<fixed_dim<T>> case?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26626785/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26628336", "body": "The flag is because the innermost details need to be specialized. But, yes, fixed_dim[var_dim[T]] and fixed_dim[fixed_dim[T]] should behave the same way at the outermost fixed_dim.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26628336/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26631448", "body": "It's a bit vestigal. We need a mechanism to support using fixed_dim in neighborhood. This tells which parts of the neighborhood are out of bounds. I'm trying to figure out a better way to do that...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26631448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26631454", "body": "Also true.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26631454/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26906015", "body": "It is. I'm actually using this pattern for all of our arrfuncs defined through declfunc. It does work well. If you want to specify the class, and not the instance, you can do it by using the keyword \"struct\". \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/26906015/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40053099", "body": "A few changes I would suggest here. We should rename I0, I1, ... to Src0TypeID, Src1TypeID, ... (this was introduced to the other kernels later on after the arithmetic_kernels were written). We also should write template parameters AsFirstLetterCapitalized. @mwiebe and I decided on this at one point and we're trying to be consistent now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40053099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40053174", "body": "So, in terms of code duplication this is obviously better. I definitely the idea of having kernels being templated on the operation and want to keep that. A few thoughts:\n\n1) Should we use macros here? It does make the code more unreadable.\n\n2) I think we might be able to reuse the kernels in apply_kernels.hpp for this. We should check that out.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/40053174/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629167", "body": "Adding the TypeIDs as a template parameter is a good step for sure. A trivial comment is that I typically have called such a typename TypeIDSequence throughout DyND, so we should harmonize that.\n\nA less trivial comment is I'd like to hear your opinions on this arithmetic_operator template. This template probably should be a more general thing, as we have a similar comparision_operator template and so on. I'm not sure if arithmetic_operator was a good idea or not, it was a bit experimental when I wrote it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629391", "body": "Things like sfinae_true should go into config.hpp as they are more general than just arithmetic. But, we should be really careful about adding templates unless we really need them -- which, in this case, we do.\n\nHowever, there is a true_t in config.hpp which does the same thing. Probably best to use that.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629786", "body": "I'm the one who originally write the make function here, so I'm just criticizing myself. We shouldn't use ndt::substitute in these functions. At the time, we lacked tools to easily construct a callable_type, but we have those now. One should use something like `callable_type::make(ndt::type::make<R>(), {ndt::type::make<A0>()})`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629786/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629847", "body": "Same as above.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/41629847/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360766", "body": "So, a method in a class is `inline` by default. You actually don't need to specify it here -- if it's specified anywhere else in DyND, it should be removed.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360818", "body": "Same `inline` comment.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360830", "body": "Same `inline` comment.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360830/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360888", "body": "Why the change to EXPECT_ALL_FALSE? Why doesn't EXPECT_FALSE work anymore?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/42360888/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51152587", "body": "Looks good, this is the right way to do it. For consistency, I've been doing Src0ID, Src0BaseID, Src1ID, Src1BaseID rather then Src0ID, Src1ID, Src0BaseID, Src1BaseID. We should probably stick with the former as it is used throughout DyND.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51152587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51152764", "body": "Rather then the check template variable, what I would do here is break out the int_kind and bool_kind into a template specialization. This might require some demacroizing....\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51152764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51161724", "body": "The solution we've been using here is a template alias -- see https://github.com/libdynd/libdynd/blob/master/include/dynd/kernels/uniform_kernel.hpp#L229.\n\nI'm also open to other solutions, anything that simplifies.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51161724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51163962", "body": "If we leave the type ID as an unspecialized template variable, but specialize on the base ID for unsigned, signed, and bool, then we only have to write it out 3 times. I think you can probably simplify, but you just need to play around a bit. This is partially a question of personal preference, I think.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51163962/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51140632", "body": "Your string_concatenation kernel is perfect. You just need to fill in the body of single with the operation, and that's exactly how we write them.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51140632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51140736", "body": "The `ndt::traits<...>` template that you are using communicates the signature of the kernel to how we make callables (details to follow on that). This is also perfect.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51140736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51140871", "body": "How you made the `nd::callable f` is also good. There's a way we declare these functions in DyND as global variables, which is all you are missing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51140871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51180056", "body": "`#include <dynd/kernels/string_concat_kernel.hpp>` should only be in the string.cpp file. That really simplifies the amount of includes visible to the user.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51180056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51286777", "body": "Why is `string(const bytes &other)` necessary? It feels strange to me to have a copy constructor in string from it's base class.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51286777/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51286974", "body": "Extra printf that we should remove.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51286974/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51289279", "body": "Ah, okay. There probably is a better way to do it, but I don't know what it is offhand. So let's leave this in and fix it whenever someone feels like playing around with it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51289279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51294522", "body": "The only thing that's lacking from the design implementation is the inline storage, right? We should definitely finish that at some point, but it doesn't alter how we are building string kernels -- unless I'm missing something.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51294522/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51296621", "body": "@mwiebe To me, the really important thing is that we're building the string kernels off a relatively stable `dynd::string` API. If you think that's not the currrent case, let me know!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51296621/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366639", "body": "Eventually, yes, but I wouldn't worry about these kind of optimizations for now. Let's get our code structure into a good place, then we can optimize that kind of thing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51367212", "body": "Yes, I'm okay with that. I do think we should do const std::vector & now, because that makes a lot of things easier (with regard to passing temporaries and the like).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51367212/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51368393", "body": "If I understand you correctly, constructing tuples can also be `const std::vector &`, rather then `const std::vector`. It just can't be stored as a reference `&. So the constructor can take a` const std::vector &`, but store it as a`std::vector`or`const std::vector`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51368393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477122", "body": "Should be `std::vector<ndt::type>`, I don't think `const` on return makes sense. (Later on, we'll move this to `&&` anyway.)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477122/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477224", "body": "`this->` is unnecessary anyway, you can drop it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477224/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477275", "body": "Let's remove the `const` for now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477275/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477298", "body": "Let's remove the `const` for now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51477298/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366710", "body": "Okay, so you probably only need one of {`#include <dynd/string.hpp>`, `#include <dynd/types/string_type.hpp>`} and `#include <dynd/kernels/base_kernel.hpp>` here. We normally don't include kernel_builder directly.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366729", "body": "I'd probably just call `string_concat(2, reinterpret_cast<string *>(dst), reinterpret_cast<string *>(src[0]));` and skip the temporaries, but it's up to you. Because we're already in the `dynd` namespace, `string` implicitly refers to `dynd::string`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366742", "body": "What Mark said above.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366742/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366759", "body": "In terms of API design, these functions should probably take references to `dynd::string` or something. It would be nice if these functions made sense and were usable independently of their corresponding kernels -- e.g., so users could apply them in their own DyND functions.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366769", "body": "`inline` is actually implicit for any methods in a class or struct, so you can drop it.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366769/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366816", "body": "`nd` is also implicit here because these algorithms are in the `nd` namespace\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366816/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366833", "body": "You can match a whole array with `EXPECT_ARRAY_EQ` by passing in the values as an `std::initializer_list`. For instance, this should be equivalent to what you have above: `EXPECT_ARRAY_EQ(nd::array{0l, 2l, -1l, -1l}, nd::string_find(a, b))`. The benefit of that is it does everything you have (checks type, shape, and values), but we get it down to a single line.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366833/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366839", "body": "Same comment as above.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51366839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51382625", "body": "Fixed above, markup ate the actual filenames.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51382625/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51382706", "body": "I think we should have a simple API, it can be based off of either the C++ API (my preference) or the C API. If we can support both through templates, even better.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51382706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51419584", "body": "Sounds good to me!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51419584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51491632", "body": "Yeah, the current string proposal from @mwiebe originated as an attempt to move away from exactly that. Our old strings were capable of doing things like that, and it got crazy. ;)\n\nSo I'm +1 to implementing algorithms on a generic `StringType` template that supports obvious things.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51491632/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51747505", "body": "Should we make this `const` as well?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51747505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51748918", "body": "Makes sense!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51748918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51890389", "body": "I don't want this extra file, but I agree that `is_simple_identifier_name` needs to go somewhere else. I'm not sure where...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51890389/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51890451", "body": "`static` should be removed here, that should only be used for functions in a `.cpp` file\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51890451/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51890988", "body": "We should just use `std::find(m_field_names.begin(), m_field_names.end(), field_name_begin)` here if we can make that work.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51890988/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51894126", "body": "Yeah, I agree. We can leave it here for now, just voicing my thoughts.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51894126/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51894194", "body": "Also, this needs to be in a namespace `dynd`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51894194/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51895253", "body": "Yes, we can certainly keep it for now. I don't have a better idea. :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51895253/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51919045", "body": "It's not guaranteed, but it should be NULL-terminated. Otherwise it's kind of a weird thing to do in C++.\n\nWe definitely don't need field_name_end though, so just turning that into a size would be good. (I know this is not code you wrote, but we may as well correct it now.)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51919045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51919575", "body": "Absolutely! You should feel free to do that in general (and I'll feel free to tell you if the particular change is a bad one).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51919575/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52919241", "body": "`EXPECT_EQ(s1, s1)` seems like a mistake here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52919241/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52919541", "body": "In general, can you use `EXPECT_ARRAY_EQ` instead of `EXPECT_EQ`? The reason being `EXPECT_ARRAY_EQ` will also check the `ndt::type`, whereas `EXPECT_EQ` will only check the values. You shouldn't need to change anything else, just the macro name.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52919541/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52919794", "body": "A bit of bikeshedding here, but what should this callable be called? Do people like `nd::field_access`? Ping @mwiebe @insertinterestingnamehere \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52919794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52920443", "body": "Can you also add some tests for arrays of structs? e.g. `10 * {x: float64, y: int32}` and `10 * var * {x: float64, y: int32}` and whatever. This should work just with `elwise`, but we should test it.\n\nTo make that work, we'll have to change `return callable::make<field_access_kernel>();` to `return functional::elwise(callable::make<field_access_kernel>());` in `field_access::make`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/52920443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53223690", "body": "Yeah, you're right, we need an error check like that. I'll add it in after I fix the other issues.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53223690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53366142", "body": "No, it's not reasonable. Already on my mind. :)\n\nEdit: Ah, sorry, I misunderstood your comment. The code in the tests is currently not reasonable. You are exactly right, and we need some sort of simple, general mechanism for putting dtypes in places where types can be accepted. Like for views or for casting.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53366142/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53188729", "body": "Can we remove the self_type here? That was an old pattern of ours, but is pretty unnecessary now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53188729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53188890", "body": "Rather then a `memory_block_data *`, let's store this as a `intrusive_ptr<memory_block_data>`, which is exactly what it is in the var_dim arrmeta. That gives us reference counting, but the semantics should otherwise be the same.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53188890/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53188959", "body": "You should be able to drop the `.get()` if we change how we store the memblock.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53188959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53189001", "body": "Should be able to just do `string_count`, not `dynd::string_count`.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53189001/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53189330", "body": "You shouldn't need in-place new here, I believe dst_memblock->alloc should initialize the strings to their default state (a NULL pointer). So you should be able to just do dst_str->assign(...) or whatever.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53189330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53189662", "body": "Okay, so you should be able to use EXPECT_ARRAY_EQ here. It might be a little fiddly with the var dims though, so I'll play with it after we merge this PR.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53189662/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53191002", "body": "Ah, okay, that's cool then.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53191002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "OWNER"}]}, "nyue": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/1035", "title": "Building benchmark ?", "body": "I would like to build the benchmarks.\n\nWhere can I obtain more information about the pre-requisite and build instruction for libdynd to build with benchmarking ?\n\nCheers\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/1035/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "datnamer": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/985", "title": "Questions about Dynd type system", "body": "Hi Everyone, I've been following this discussion in #979 and I have some questions about Dynd's type system.\n\nHope its ok to open an issue for this, wasn't sure where else to post. \n\nI don't know much C++, but I was a bit confused by the muliple ways of describing data that Dynd seems to have.\n\nThere seems to be datashape/metadata, symbolic types, Concrete Types (analogous to class seems like), properties (ie T.real ), and @insertinterestingnamehere discussed including traits (I think this is great to facilitate lightweight abstractions for code reuse). \n- How do these all fit together and what is the separation of duties (abstraction, writing generic code, dispatch  etc)? \n- Also, Will we be able to define a Type so that its fields are typed as whatever data it is parameterized with?  \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/950", "title": "Ideas for missing values implementation", "body": "Based on experience with their dynamic data structures, the Julia folks have thought a lot about an efficient and type stable missing value representation. I think that especially with the potential GSOC project, a glance at this work would be really helpful. \n\nThe last link also has some interesting thoughts on the   building of a broader scalable stats ecosystem. \n1. http://www.johnmyleswhite.com/notebook/2014/11/29/whats-wrong-with-statistics-in-julia/\n2. http://wizardmac.tumblr.com/post/104019606584/whats-wrong-with-statistics-in-julia-a-reply\n3. http://julialang.org/blog/2015/10/nullablearrays?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+JuliaLang+%28The+Julia+Blog%29\n4. http://juliacomputing.com/blog/2016/01/14/stats-roadmap.html\n\nMore recent thoughts have emerged suggesting a higher level API build on nullable due to its sometimes unwieldy semantics....or better compiler support for Union types so that data structures with NAs can support faster code. \n\n@mwiebe \n\nalso pinging @kwmsmith because this intersects with blaze's domain.  \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/819", "title": "Integration with Elemental, for Distributed-memory dense and sparse-direct linear algebra and optimization", "body": "https://github.com/elemental/Elemental\n\nAlready has python bindings. \n\nHeres how Julia did it:\n\nhttps://github.com/JuliaParallel/DistributedArrays.jl\nhttps://github.com/JuliaParallel/Elemental.jl\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/819/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/615", "title": "Unums?", "body": "@insertinterestingnamehere Some kinda of unum system may be relevant to this proposal : https://github.com/insertinterestingnamehere/libdynd/commit/effcf2cc3a64739e6773d6f88bf45ac74533c312 \n\nReally interesting benchmarks here: hhttps://github.com/tbreloff/Unums.jl/issues/6  \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/615/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/600", "title": "libFLAME backend?", "body": "http://www.cs.utexas.edu/~flame/web/libFLAME.html \n\nThis looks interesting. \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sirinath": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/689", "title": "Different Language Binding", "body": "Can you consider different language bindings along with python version?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jreback": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/559", "title": "odd semantics of is_avail", "body": "#554 adds `is_avail` and in theory issue: https://github.com/libdynd/dynd-python/issues/349, but\n\n```\nIn [10]: arr1 = nd.array([1,2,3],dtype='?int32')\n\nIn [11]: arr2 = nd.array([1,2,3],dtype='int32')\n\nIn [12]: nd.take(arr1,nd.is_avail(arr1))\nOut[12]: \nnd.array([1, 2, 3],\n         type=\"var * ?int32\")\n\nIn [13]: nd.take(arr2,nd.is_avail(arr2))\n---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n<ipython-input-13-0750c1f3bc13> in <module>()\n----> 1 nd.take(arr2,nd.is_avail(arr2))\n\ndynd/nd/callable.pyx in dynd.nd.callable.callable.__call__ (/Users/travis/build/libdynd/dynd-python/build/temp.macosx-10.5-x86_64-2.7/callable.cxx:786)()\n\nRuntimeError: no child found\n\n```\n\nthis should simply return a boolean array of all `True` on a non-supported dtype rather than raising. This forces the user to introspect the dtype a-priori to every indexing operation. This is a very odd semantic.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/545", "title": "COMPAT: nd.empty", "body": "`dynd: eacabc4 [54b7eac]` (dynd & libdynd), same versions I have been using\n\n```\nIn [5]: np.empty((2,5),dtype='int64')\nOut[5]: \narray([[         0,          0, 4424794129, 4424451248, 4424892568],\n       [4424451528,          0,          0, 4419479936,          0]])\n```\n\n```\nIn [6]: nd.empty((2,5),dtype='int64')\nTypeError: nd.empty() got an unexpected keyword argument 'dtype'\n\nIn [7]: nd.empty((2,5))\nTypeError: could not convert the object (2, 5) into a dynd type\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/258", "title": "segfault in test_libdynd", "body": "just built from master on macosx\nbtw. maybe the test_libdydn should include version, platform info at the top?\n\nv0.6.6-464-g501d054\n\n```\n[----------] 5 tests from TypeCasting\n[ RUN      ] TypeCasting.IsLosslessAssignment\n[       OK ] TypeCasting.IsLosslessAssignment (0 ms)\n[ RUN      ] TypeCasting.StringToInt32\n[       OK ] TypeCasting.StringToInt32 (0 ms)\n[ RUN      ] TypeCasting.StringToInt64\n[       OK ] TypeCasting.StringToInt64 (0 ms)\n[ RUN      ] TypeCasting.StringToInt128\n[       OK ] TypeCasting.StringToInt128 (0 ms)\n[ RUN      ] TypeCasting.StringToUInt64\n[       OK ] TypeCasting.StringToUInt64 (0 ms)\n[----------] 5 tests from TypeCasting (0 ms total)\n\n[----------] 5 tests from SubstituteTypeVars\n[ RUN      ] SubstituteTypeVars.SimpleNoSubstitutions\nSegmentation fault: 11\n```\n\nlmk what other info I can provide\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/258/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61328840", "body": "your number 2 is effectively interning, so +1 on that.\nIn theory strings < 5 in length should be differently but probably complicates things. (as you can hold this in a single 64-point pointer).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61328840/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70190342", "body": "FYI I am running 10.9\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70190342/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70275284", "body": "Cool...that finishes now thanks!\n\ni'll leave the issue open so the failed tests are noted\n\n```\n[----------] Global test environment tear-down\n[==========] 526 tests from 95 test cases ran. (221 ms total)\n[  PASSED  ] 524 tests.\n[  FAILED  ] 2 tests, listed below:\n[  FAILED  ] SubstituteTypeVars.SimpleNoSubstitutions\n[  FAILED  ] SubstituteTypeVars.SimpleSubstitution\n\n 2 FAILED TESTS\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/70275284/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/78973902", "body": "+1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/78973902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/94317687", "body": "whoosh!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/94317687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116164295", "body": "I have an old libc++ I believe (though I thought I updated last time)\nhow do I show u the version?\n\nthis is where binstar versions of libdynd/dynd-Python would help :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/116164295/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140231129", "body": "agreed\n\nso works around for me\nbut for compat dynd needs to coerce these\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140231129/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233302", "body": "yeh no hurry. posting as a I find.\n\nI am in fact creating a compat layer (which of course I hope to eventually disolve :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233513", "body": "@cpcloud in fact this type of transformation is so common, I think it belongs in datashape proper, mainly for numpy compat in construction:\n\n```\nIn [4]: dshape('3 * 5 * int64')\nOut[4]: dshape(\"3 * 5 * int64\")\n\nIn [5]: dshape((3,5),dtype='int64')\nTypeError: dshape() got an unexpected keyword argument 'dtype'\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233918", "body": "ahha!\n\nthe magical method, awesome! thanks\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233918/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234273", "body": "hmm, this should really by on dynd-python.....\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234273/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234862", "body": "yeh what I mean is should have posted it on `dynd-python`, this is `libdynd` \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234862/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140235128", "body": "hahah, ok in the meantime...\n\nI am actually trying to do this.\n\n`shape=(2,5), ndt.type('?int64')`\n\nhow do I make a datashape from this?\n\n`dshape('2 * 5 * ?int64'`\n\nw/o string hacking :tm: \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140235128/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140235804", "body": "winner-winner chicken-dinner\n\n```\nIn [25]: nd.empty('*'.join([ str(i) for i in shape ] + [str(dtype)]))\nOut[25]: \nnd.array([[4294967297, 4294967297, 4294967297, 4294967297, 4294967297],\n          [4294967297, 4294967297, 4294967297, 4294967297, 4294967297]],\n         type=\"2 * 5 * ?int64\")\n```\n\ndon't need no datashape :chicken: \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140235804/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "aterrel": {"issues": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/40", "title": "Support timezone implementation on datetime", "body": "", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/40/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/31050788", "body": "+1 I don't see any obvious errors\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/31050788/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37478533", "body": "LGTM\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37478533/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37478559", "body": "this stall out?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37478559/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/38113542", "body": "Is this really the right approach?  C++11 adds non-compatible features with C++98. Having two standards in a single code base seems pretty dangerous to me. (Or at least lots of fun #ifdefs)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/38113542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/52658967", "body": "no description what is this doing?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/52658967/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "cpcloud": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/561", "title": "Turn zeros and ones into kernels", "body": null, "author_association": "CONTRIBUTOR"}], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48827186", "body": "Moving to dynd-python.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48827186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48852436", "body": "sure thing!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/48852436/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51235393", "body": "sounds good, i'll make the change\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/51235393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55152150", "body": "So `...` currently means arbitrarily many arguments, each of an arbitrary type unless it's prefixed with a type variable or a concrete type?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/55152150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140229481", "body": "since shape and dtype are specified together, you pass it all in as a datashape like this:\n\n``` python\nIn [1]: from dynd import nd\n\nIn [2]: nd.empty(\"2 * 5 * int64\")\nOut[2]:\nnd.array([[                   0,                    0,                    0,\n           -6230216477459388373,                    0],\n          [                   0, -6643761981031997627,                    0,\n                              0, -2748508434750321115]],\n         type=\"2 * 5 * int64\")\n\nIn [3]: nd.zeros(\"2 * 5 * int64\")\nOut[3]:\nnd.array([[0, 0, 0, 0, 0], [0, 0, 0, 0, 0]],\n         type=\"2 * 5 * int64\")\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140229481/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233687", "body": "@jreback in fact this _is_ in datashape :)\n\n``` python\nIn [3]: from datashape import dshape, from_numpy\n\nIn [4]: from_numpy((2, 5), int)\nOut[4]: dshape(\"2 * 5 * int64\")\n\nIn [5]: from dynd import nd\n\nIn [6]: nd.zeros(str(from_numpy((2, 5), np.int64)))\nOut[6]:\nnd.array([[0, 0, 0, 0, 0], [0, 0, 0, 0, 0]],\n         type=\"2 * 5 * int64\")\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140233687/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234791", "body": "@jreback what do you mean? This is really a datashape only operation ... dynd-python has `ndt`\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234791/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234876", "body": "FWIW, when The Great Parser Rewrite\u2122 happens there will be the One True Representation and this problem will go away.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140234876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140235626", "body": "not the prettiest thing in the world:\n\n``` python\nIn [15]: from dynd import nd, ndt\n\nIn [16]: from datashape import DataShape, dshape\n\nIn [17]: t = ndt.type('?int64')\n\nIn [18]: DataShape(*(shape + (dshape(str(t)),)))\nOut[18]: dshape(\"2 * 5 * ?int64\")\n\nIn [19]: nd.zeros(str(DataShape(*(shape + (dshape(str(t)),)))))\nOut[19]:\nnd.array([[0, 0, 0, 0, 0], [0, 0, 0, 0, 0]],\n         type=\"2 * 5 * ?int64\")\n```\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/140235626/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141879674", "body": "I see the problem\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/141879674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142085710", "body": "@izaid should this be merged?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/142085710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "mrocklin": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34699034", "body": "Wonderful.  Thanks for the speedy response @mwiebe !\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/34699034/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39764231", "body": "After glancing through this briefly the first thing that comes to mind is, \"gosh, parsing dates sure is complex,\" which, of course, is true.  So some general questions:\n\nIs there a standard solution to this problem?  \n\nHow does this compare to `strptime`?  \n\nHow extensible is our solution to new date/datetime formats if they should arise?  \n\nDo we have performance comparisons to other date/datetime parsing systems?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39764231/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39769542", "body": "How likely are we to want new datetime formats in the future? If the answer if \"somewhat likely\" and if generic prebuilt systems like `strptime` aren't terribly slow then an approach like that seems like it would require less maintenance.  I have been bottlenecked by strptime before though (although it was through the Python interface) so it could be that a dual system that optimized common formats would be worthwhile.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39769542/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43116172", "body": "Can you motivate the name `arrfunc`?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43116172/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43116419", "body": "Is there anything in here that isn't just a renaming?  Are you able to perform these changes with developer tools or is this a lot of grepping?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43116419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43117703", "body": "What does typed array function mean exactly?  Is this a new concept?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43117703/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43539076", "body": "Awesome.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43539076/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54770255", "body": "I'd be very interested in seeing how the Python interface to this would look.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/54770255/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58020760", "body": "Should I be aware of anything here for Blaze compatibility?\n\nOn Mon, Oct 6, 2014 at 12:13 AM, Mark notifications@github.com wrote:\n\n> This is towards making the 'strided' dim type be an abstract type, and\n> have concrete arrays always used 'fixed' in the context they used strided\n> before.\n> \n> Most of the effort of this conversion is done, but there are still some\n> \n> ## crashes/failures in the tests, and the python connection needs updating.\n> \n> You can merge this Pull Request by running\n> \n>   git pull https://github.com/mwiebe/libdynd stridedtofixed\n> \n> Or view, comment on, or merge it at:\n> \n>   https://github.com/ContinuumIO/libdynd/pull/134\n> Commit Summary\n> - First pass towards replacing use of 'strided' with 'fixed' throughout\n> - Changes to implementation/tests, so only a few are crashing/failing\n>   still\n> \n> File Changes\n> - _M_ include/dynd/array.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-0 (116)\n> - _M_ include/dynd/arrmeta_holder.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-1 (6)\n> - _M_ include/dynd/buffer_storage.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-2 (3)\n> - _M_ include/dynd/ensure_immutable_contig.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-3 (3)\n> - _M_ include/dynd/func/arrfunc.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-4 (27)\n> - _M_ include/dynd/random.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-5 (22)\n> - _M_ include/dynd/type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-6 (59)\n> - _M_ include/dynd/types/arrfunc_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-7 (4)\n> - _M_ include/dynd/types/base_expr_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-8 (4)\n> - _M_ include/dynd/types/base_memory_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-9 (12)\n> - _M_ include/dynd/types/base_tuple_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-10 (6)\n> - _M_ include/dynd/types/base_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-11 (16)\n> - _M_ include/dynd/types/busdate_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-12 (2)\n> - _M_ include/dynd/types/bytes_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-13 (4)\n> - _M_ include/dynd/types/categorical_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-14 (4)\n> - _M_ include/dynd/types/cfixed_dim_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-15 (10)\n> - _M_ include/dynd/types/char_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-16 (2)\n> - _M_ include/dynd/types/cstruct_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-17 (27)\n> - _M_ include/dynd/types/ctuple_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-18 (28)\n> - _M_ include/dynd/types/date_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-19 (2)\n> - _M_ include/dynd/types/datetime_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-20 (2)\n> - _M_ include/dynd/types/dim_fragment_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-21 (4)\n> - _M_ include/dynd/types/ellipsis_dim_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-22 (4)\n> - _M_ include/dynd/types/fixed_dim_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-23 (12)\n> - _M_ include/dynd/types/fixedbytes_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-24 (2)\n> - _M_ include/dynd/types/fixedstring_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-25 (2)\n> - _M_ include/dynd/types/funcproto_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-26 (13)\n> - _M_ include/dynd/types/json_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-27 (4)\n> - _M_ include/dynd/types/ndarrayarg_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-28 (2)\n> - _M_ include/dynd/types/option_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-29 (7)\n> - _M_ include/dynd/types/pointer_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-30 (10)\n> - _M_ include/dynd/types/strided_dim_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-31 (12)\n> - _M_ include/dynd/types/string_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-32 (4)\n> - _M_ include/dynd/types/struct_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-33 (27)\n> - _M_ include/dynd/types/time_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-34 (2)\n> - _M_ include/dynd/types/tuple_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-35 (30)\n> - _M_ include/dynd/types/type_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-36 (4)\n> - _M_ include/dynd/types/typevar_dim_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-37 (4)\n> - _M_ include/dynd/types/typevar_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-38 (4)\n> - _M_ include/dynd/types/var_dim_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-39 (10)\n> - _M_ include/dynd/types/void_pointer_type.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-40 (2)\n> - _M_ src/dynd/array.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-41 (508)\n> - _M_ src/dynd/dim_iter.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-42 (5)\n> - _M_ src/dynd/func/arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-43 (25)\n> - _M_ src/dynd/func/chain_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-44 (20)\n> - _M_ src/dynd/func/copy_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-45 (14)\n> - _M_ src/dynd/func/lift_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-46 (67)\n> - _M_ src/dynd/func/multidispatch_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-47 (32)\n> - _M_ src/dynd/func/rolling_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-48 (25)\n> - _M_ src/dynd/func/take_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-49 (22)\n> - _M_ src/dynd/kernels/expression_assignment_kernels.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-50 (5)\n> - _M_ src/dynd/kernels/expression_comparison_kernels.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-51 (4)\n> - _M_ src/dynd/kernels/option_kernels.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-52 (6)\n> - _M_ src/dynd/random.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-53 (14)\n> - _M_ src/dynd/type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-54 (63)\n> - _M_ src/dynd/types/arrfunc_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-55 (2)\n> - _M_ src/dynd/types/base_expr_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-56 (7)\n> - _M_ src/dynd/types/base_memory_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-57 (20)\n> - _M_ src/dynd/types/base_struct_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-58 (3)\n> - _M_ src/dynd/types/base_tuple_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-59 (27)\n> - _M_ src/dynd/types/base_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-60 (13)\n> - _M_ src/dynd/types/bytes_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-61 (2)\n> - _M_ src/dynd/types/categorical_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-62 (13)\n> - _M_ src/dynd/types/cfixed_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-63 (78)\n> - _M_ src/dynd/types/cstruct_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-64 (17)\n> - _M_ src/dynd/types/ctuple_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-65 (14)\n> - _M_ src/dynd/types/dim_fragment_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-66 (3)\n> - _M_ src/dynd/types/ellipsis_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-67 (3)\n> - _M_ src/dynd/types/fixed_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-68 (210)\n> - _M_ src/dynd/types/funcproto_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-69 (15)\n> - _M_ src/dynd/types/json_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-70 (2)\n> - _M_ src/dynd/types/option_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-71 (11)\n> - _M_ src/dynd/types/pointer_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-72 (14)\n> - _M_ src/dynd/types/strided_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-73 (55)\n> - _M_ src/dynd/types/string_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-74 (2)\n> - _M_ src/dynd/types/struct_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-75 (14)\n> - _M_ src/dynd/types/tuple_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-76 (14)\n> - _M_ src/dynd/types/type_substitute.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-77 (2)\n> - _M_ src/dynd/types/type_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-78 (8)\n> - _M_ src/dynd/types/typevar_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-79 (3)\n> - _M_ src/dynd/types/typevar_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-80 (8)\n> - _M_ src/dynd/types/var_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-81 (159)\n> - _M_ src/dynd/view.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-82 (9)\n> - _M_ tests/CMakeLists.txt\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-83 (1)\n> - _M_ tests/array/test_array.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-84 (98)\n> - _M_ tests/array/test_array_assign.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-85 (43)\n> - _M_ tests/array/test_array_range.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-86 (81)\n> - _M_ tests/array/test_array_views.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-87 (168)\n> - _M_ tests/array/test_arrmeta_holder.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-88 (6)\n> - _M_ tests/array/test_view.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-89 (80)\n> - _M_ tests/dynd_assertions.hpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-90 (53)\n> - _M_ tests/func/test_callable.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-91 (2)\n> - _M_ tests/func/test_elwise_callrefres.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-92 (8)\n> - _M_ tests/func/test_elwise_callretres.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-93 (4)\n> - _M_ tests/func/test_elwise_funcrefres.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-94 (8)\n> - _M_ tests/func/test_elwise_funcretres.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-95 (2)\n> - _M_ tests/func/test_elwise_methrefres.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-96 (8)\n> - _M_ tests/func/test_elwise_methretres.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-97 (2)\n> - _M_ tests/func/test_functor_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-98 (28)\n> - _M_ tests/func/test_lift_arrfunc.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-99 (9)\n> - _M_ tests/func/test_reduction.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-100 (69)\n> - _M_ tests/func/test_rolling.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-101 (4)\n> - _M_ tests/func/test_take.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-102 (6)\n> - _M_ tests/test_arithmetic_op.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-103 (10)\n> - _M_ tests/types/test_categorical_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-104 (4)\n> - _M_ tests/types/test_cfixed_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-105 (12)\n> - _M_ tests/types/test_cstruct_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-106 (6)\n> - _M_ tests/types/test_date_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-107 (24)\n> - _M_ tests/types/test_fixed_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-108 (67)\n> - _M_ tests/types/test_groupby_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-109 (55)\n> - _D_ tests/types/test_strided_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-110 (148)\n> - _M_ tests/types/test_string_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-111 (11)\n> - _M_ tests/types/test_struct_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-112 (6)\n> - _M_ tests/types/test_symbolic_types.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-113 (2)\n> - _M_ tests/types/test_type_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-114 (2)\n> - _M_ tests/types/test_var_dim_type.cpp\n>   https://github.com/ContinuumIO/libdynd/pull/134/files#diff-115 (20)\n> \n> Patch Links:\n> - https://github.com/ContinuumIO/libdynd/pull/134.patch\n> - https://github.com/ContinuumIO/libdynd/pull/134.diff\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/ContinuumIO/libdynd/pull/134.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/58020760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61111913", "body": "Perhaps off topic, but what are your thoughts on `?T` reductions like `mean(nd.array([1, 2, None]))`\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/61111913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84626301", "body": "Cool.  Glad to see pedestrian things like this happen.  \n\nFrom an external perspective a fair amount of this seems repetitive; is there a way to generalize things? \n\nI ask because the [number of operators](https://docs.python.org/2/library/operator.html#mapping-operators-to-functions) is somewhat large and presumably one might want to change this code in the future.  Is it possible to define these operators and their computation/type interactions in a more compact way that would make future changes more pleasant?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84626301/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84699443", "body": "Mostly I wanted to point to the [list of python operators](https://docs.python.org/2/library/operator.html#mapping-operators-to-functions) to flesh out a scope that would be useful from the Python user side.  \n\nHappy to leave design bits to you all.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/84699443/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85557517", "body": "PSF would also be appropriate if the project was at least a little Pythonic.  \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85557517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85643920", "body": "From @aterrel (NumFocus board member)\n\nNumFOCUS is participating in GSoC, but DyND is not one of our supported projects. So DyND would need to apply to NumFOCUS first to be part of our sponsored projects.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85643920/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11403251", "body": "Why do these take in strings that are immediately cast to integers?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11403251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49377846", "body": "The phrase \"only the data gets serialized, not the type\" concerned me.  It looks like you follow this with a reason about why this isn't a problem.  Just want to verify that the serialization would be self-describing.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49377846/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49377931", "body": "As people add custom types they'll also want a mechanism to serialize and deserialize those types.  What is a good solution here?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49377931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49377948", "body": "Thoughts on categoricals?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49377948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49378037", "body": "Are current CBOR standards sufficient to describe all dynd arrays?  I know it's community-extensible, I just don't know how far along they've gotten in defining their standards.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49378037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49378299", "body": "Ah, I see that @insertinterestingnamehere already made the point about custom types.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49378299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "garaud": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37991372", "body": "OK. My CMake fix hasn't been tested with the CUDA support. I don't know if it's enough. Tell me if you want me to change something.\n\nInteresting Clang feature. Thanks, I didn't know. I don't know for GCC.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/37991372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "FrancescAlted": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39433730", "body": "In general looks good to me.  I think you don't have tests on time arithmetic yet, so adding some would be interesting.  Also, full support for TZ does not seem to be there yet.  I suppose this will be implemented in a future PR for datetime.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/39433730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "talumbau": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/41088462", "body": "so. much. code. +1 for merge\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/41088462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/41808263", "body": "Python syntax is weird in this case, but you have dutifully followed the rules. +1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/41808263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42471682", "body": "+1 to merge. I think size_t is fine for resolving the unsigned/signed comparisons.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42471682/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42572775", "body": "looks good. +1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42572775/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42574145", "body": "LGTM +1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42574145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42875783", "body": "good to go. +1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42875783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42877023", "body": "+1 for merge.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/42877023/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43547093", "body": "(retroactive) +1\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43547093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43547909", "body": "I agree with @mrocklin \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/43547909/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/44877664", "body": "+1 with fix for option[option[T]]\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/44877664/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45361398", "body": "LGTM, as I commented before (but apparently it got lost?), would like to see template techniques used to reduce size of option type implementation, e.g. identical implementations for date, datetime, and time. +1 if Travis CI doesn't complain!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45361398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11685725", "body": "Was this comment cut off accidentally? Seems to end mid-sentence.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11685725/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11885602", "body": "Would it be out of place here to motivate this with a small example? Or even just a \"e.g. (some kind of kernel over some kind of array\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11885602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11974121", "body": "Not sure I follow everything happening here, but it seems like the intended operation is unable to proceed at this point, so we return an empty array. Is this the best way to go? (it might be, just interested in why)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11974121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11974139", "body": "same as comment above.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/11974139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12380951", "body": "So, is this where you achieve avoiding dynamic string creation? In the old code, you had something like:\n\n```\n out = \"\";\n```\n\nwhich I believe our dutiful compiler would make into something like\n\n```\nout.operator=( std::string(\"\"));\n```\n\nyes?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12380951/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12381420", "body": "At first I thought that clang/gcc were just being pedantic, but now I wonder if this is legit. Could size here be negative under some pathological condition? If so, the warning about comparing signed and unsigned is good.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12381420/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12594926", "body": "would like to see a unit test around this function\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12594926/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12595531", "body": "would like to see unit test for this\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12595531/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12595761", "body": "unit test?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12595761/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12595972", "body": "unit test!\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/12595972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13192562", "body": "Noticed you have the return type here as arrfunc_type_data instead of nd::arrfunc (like below). I guess this is for efficiency but seems a bit confusing to have two different options for the same thing. \n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/13192562/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "momenezes": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45397624", "body": "Hi,\n\nAlmost there; it seems that compilation have progressed but still geting segfault.\n\n```\nmake[2]: Entering directory `/home/mario/progs/python/src/libdynd/build'\n/usr/bin/cmake -E cmake_progress_report /home/mario/progs/python/src/libdynd/build/CMakeFiles \n[100%] Building CXX object examples/CMakeFiles/simple_example.dir/simple_example.cpp.o\ncd /home/mario/progs/python/src/libdynd/build/examples && /usr/bin/c++   -  DDYND_ELWISE_MAX=7 -g -fomit-frame-pointer -fstrict-aliasing -fPIC -Wall -Wextra -Werror -Wno-missing-field-initializers -fmax-errors=20 -std=c++11 -O2 -g -DNDEBUG -I/home/mario/progs/python/src/libdynd/thirdparty/datetime/include -I/home/mario/progs/python/src/libdynd/include -I/home/mario/progs/python/src/libdynd/thirdparty/utf8/source -I/home/mario/progs/python/src/libdynd/build/include -I/home/mario/progs/python/src/libdynd/examples/../include    -o CMakeFiles/simple_example.dir/simple_example.cpp.o -c  /home/mario/progs/python/src/libdynd/examples/simple_example.cpp\nIn file included from /home/mario/progs/python/src/libdynd/include/dynd/func/elwise.hpp:14:0,\n             from /home/mario/progs/python/src/libdynd/examples/simple_example.cpp:17:\n/home/mario/progs/python/src/libdynd/include/dynd/func/elwise_callrefres.hpp:162:1: internal compiler error: Segmentation Fault\n DYND_PP_JOIN_MAP(CALL_REF_RES, (), DYND_PP_RANGE(1, DYND_PP_INC(DYND_ELWISE_MAX)))\n ^\nPlease submit a full bug report,\nwith preprocessed source if appropriate.\n```\n\nThis machine has only 4GB of memory, which, in spite of being a modest amount, I think is enough for such compilation.\n\nThanks for your attention\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45397624/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45398145", "body": "Hi again,\n\n After updating my local repo, I forgot to `rm -rf build` to rebuild all makefiles.\n\n I, then, did this and seems that now the compilation succeed.\n\nthanks for the fix.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/45398145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "nevermindewe": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53900753", "body": "Good catch. I just added a test for that.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/53900753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "quasiben": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/65520055", "body": "enjoyed the small bit of flowery prose in the history section.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/65520055/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "cournape": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71240569", "body": "@izaid it was not mentioned in the tarball, but I see indeed the requirement updated from 2010 to 2013 in master.\n\nQuick question: I suspect you need to build dynd_python w/ the same compiler. Is that how you build it even for python 2.x ?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71240569/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71258954", "body": "I can confirm the 3 tests now pass with VS 2013. Aren't compiler bugs fun :)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/71258954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "bryevdv": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85486822", "body": "I think NumFocus got a block of grants? Perhaps something could be routed through them. (I could also be mistaken)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85486822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "nouiz": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85616547", "body": "Is it too late for PSF for new org? I recall that they wouldn't accept new\norg, except if they have a very good candidate (it seem to be the case).\n\nIf you try that, do it rapidly and tell you have a good candidate.\n\nOn Tue, Mar 24, 2015 at 10:30 AM, Matthew Rocklin notifications@github.com\nwrote:\n\n> PSF would also be appropriate if the project was at least a little\n> Pythonic.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/libdynd/libdynd/issues/270#issuecomment-85557517.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/85616547/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "seibert": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139832355", "body": "This sounds very interesting...  Can you explain a little more what the motivation is for this feature?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/issues/comments/139832355/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49382176", "body": "Looking through the CBOR docs, it appears they follow the JSON data model structurally, but also define the usual set of specialized binary integer and float types one would expect.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49382176/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49383267", "body": "I see, so DyND would basically specify a CBOR protocol where different numeric data formats would be used based on the datashape.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/49383267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "ovillellas": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652938", "body": "that just slipped in, shouldn't be there.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652964", "body": "this was kind of making things clear for me. Plenty of parameters in a single line confuses me. IMO it is even better to keep parameter lists shorts, for example I wanted to propose to you packing all the signature items in some kind of struct, so that it becomes a single parameter. But yes, we need some coding conventions... in my opinion those are more important in the interface front to be consistent (headers). Implementation should be more \"free but easy to read\" IMO.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652983", "body": "yep, but this is right now just used to align the specialization table. The multibyte nops would be overkill ATM. In the intel manuals there are recommended nops upto size 9...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1652983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1656524", "body": "I'd go for something simple, both for types and strides, maybe packed into\nan struct all the info. In fact, I will do that not only for the arguments,\nbuy I'd consider also return type as an extra element... and the calling\nconvention.\n\nThe idea is passing a description of streams, not so different from what\nyou get when programing GPUs. You see, in the end is all the same stuff...\npassing streams of inputs to a fixed function. Note that GPUs usually have\nalso a set of static data that gets passed in to be shared among all the\nelement computations.\n\nI'll go for something that goes like:\n\nstruct call_signature {\n    callconv_t calling_convention;\n    call_type_id_t\\* types; // [0] is return value, [1] is 1st arg, ...\n    size_t arg_count; // including return... that is, the size of \"types\"\n};\n\nstruct call_context {\n    void\\*               streams;   // [0] is return stream, [1] is 1st arg,\n[2] is 2nd arg...\n    ptrdiff_t\\*          strides; // \u001b\u001b[0] is return stream stride, ...\n};\n\nThe generated code will receive a call_context that contains enough\ninformation to describe the streams, the count and function to call. Note\nthat I would keep the count outside the call_context as well as the\nfunction, but that could not be needed. The arg count should be implicit in\nthe function being called (generated code).\n\nThe code generator would receive the signature. I would assume the\ncall_signature to contain call_type_id_t... that is, types from the calling\nconvention point of view. That is so because we really want to cache code\nbased on the calling convention signature, that should be made outside of\nthe code generation. There should be a function to translate a signature\nfrom the semantic point of view (the current type_id) to the calling\nconvention type. Note that those functions already exist as the unique_id\n(kind of). On its current implementation using bitfields for the different\ntypes we could support around 21 parameters (using 3 bits per parameter in\na 64 bit register... with 1 bit for different calling conventions -not\nneeded in 64 bits). In any case, I would move that to some kind  data base\nthat allows retrieving a unique id.\n\nLong story short: doing something like that will reduce the interface. If\nwe get the signature and the call_context, the interface for n-ary function\nwill be the same, and internally it could use if necessary some internal\ndispatch to generate the different functions if needed. We could probably\nmake an assembly function template that would be general for all kernels in\nmost places, with the only changes needed being those dealing with the\nsetup of the arguments, the update of the streams and the extraction of the\nresult.\n\nCheers,\n  Oscar\n\nOn Tue, Jul 31, 2012 at 7:16 PM, Mark <\nreply@reply.github.com\n\n> wrote:\n> \n> Yes, with this multi-dimensional dynamic code I find the number of\n> parameters everywhere gets large very quickly. In the current\n> Python-exposed gfunc code, there's a vector<dtype> used for this signature,\n> so maybe a vector or begin/end pointers could be used, to also be\n> consistent with the more general n-ary functions which need to be added yet.\n> \n> I agree with the implementation being a bit more free than headers that\n> get published more widely, but it would be nice for it to all be pretty\n> close together. This code will be open sourced, and I'd like to establish\n> conventions early of being relatively strict about code cleanliness in\n> general.\n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> \n> https://github.com/ContinuumIO/dynamicndarray/commit/f2ee697e70d0048ba69b9e5fc1b98666fd1b825f#commitcomment-1653091\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1656524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1658347", "body": "sure.\n\nOn Wed, Aug 1, 2012 at 6:24 PM, Mark <\nreply@reply.github.com\n\n> wrote:\n> \n> Yes, this is good for the n-ary kernels, can you put this in a new\n> document on the wiki to start a design doc for them there?\n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> \n> https://github.com/ContinuumIO/dynamicndarray/commit/f2ee697e70d0048ba69b9e5fc1b98666fd1b825f#commitcomment-1658244\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/1658347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": []}, "mdboom": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742075", "body": "Yeah -- I don't feel strongly either.  My thinking was \"concatenating bytes doesn't really have to assume anything about the content, so probably makes sense there\".  (In contrast to the comparison operators which _do_ belong in `string` IMHO).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742075/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742288", "body": "Yeah -- I was puzzled by this, too.  I think it's due to my forgetting to rename the _instance name_ of `view` to `string_concatenation` above.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742421", "body": "Not sure I follow.  You mean the function body should be in `string.hpp`?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742506", "body": "I don't think the current string implementation is null-terminated.  It's allocated for _exactly_ the size of the string.  It's completely reasonable that it would become null-terminated, however (to shrink without reallocating etc.) so indeed that probably is still a good argument for a string-specific concatenation implementation.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742506/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742524", "body": "Ah, indeed.  I committed this file by accident.  In this case, I don't need a `string_concat_kernel.cpp` at all, I suppose.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/comments/15742524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51180686", "body": "Makes sense.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51180686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51288494", "body": "It's to support:\n\n```\ndynd::string a(\"first\");\ndynd::string b(\"second\");\ndynd::string c(a + b);\n```\n\nsince `operator+` returns bytes.\n\nThere might be a better way, of course.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51288494/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51295891", "body": "Yeah, I agree there's lots we could do here.  At present, I'm just working within the confines of the current simple implementation.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51295891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51370565", "body": "Sure -- they can take references.  Would it make sense to have C-like interfaces as well (i.e. char \\* and size_t pairs for each string) so they could be used independently of the `dynd::string` type?  Even further, these could be templatized so `std::string` could be used instead (the used part of the API is the same).\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51370565/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51370669", "body": "Which `#include` should I include?\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51370669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51371048", "body": "That's really cool.  Still ramping up on all the neat stuff in C++11...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51371048/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51416341", "body": "Ah, got it. ;)\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51416341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51416564", "body": "I think to cover all bases, we can easily support:\n- A template that supports _either_ a dynd::string or a std::string (or any class that has `begin`, `end`, `size` and `resize`) ... which then calls...\n- A C-like API\n\nThat avoids the problem of a lot of old-school C++ APIs that generally say \"first create an instance of X (which requires some sort of copy), before you can to anything...\"\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51416564/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51490534", "body": "My plan was to create APIs that take `dynd::string` or `std::string` that call lower-level APIs that take `char *`/`size_t` pairs (the C-like interface).\n\nThe detail I forgot in that plan is the memory management.  The C APIs will need to allocate and return the result buffer through a `char **` (since the caller won't know what size to allocate).  But then the C++ API will need to create a `dynd::string` out of it, without copying.  We could add an internal API to assign ownership of a pointer to a `dynd::string`, but such a thing doesn't exist in `std::string`, and it probably breaks @mwiebe's plans to add short-string optimization.\n\nSo, I think I come down on _just_ supporting `dynd::string` and `std::string`, through a template, and not C-like buffers.  But maybe others have better ideas or strong opinions about what we _must_ support here.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/51490534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53190678", "body": "There is an ambiguity between the regular function in `dynd::string_count` and the elwise kernel in `dynd::nd::string_count`.  In this case I wan't to use the former, but C++ defaults to the latter, since this block is in `dynd::nd`.  I can rename things if that would help...\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53190678/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53191461", "body": "Ah, indeed.  I wonder why that didn't work for me earlier (I was getting a crash where it was trying to free a garbage pointer when the new string content was assigned).  Anyway, it's working now.\n", "reactions": {"url": "https://api.github.com/repos/libdynd/libdynd/pulls/comments/53191461/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}}}}