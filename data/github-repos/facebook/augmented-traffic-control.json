{"_default": {"1": {"dorsegal": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/354", "title": "shape error: adding NetEm qdisc on IFID enx00116b68175e, mark 2, err: (2, 'No such file or directory')", "body": "Hi,\r\n\r\nI run the command \r\n`sudo atcd --atcd-lan enx00044b5818d1 --atcd-wan enx00116b68175e`\r\n\r\nthis is the erro i get:\r\nERROR:AtcdVService.AtcdLinuxShaper:adding NetEm qdisc on IFID enx00116b68175e, mark 2, err: (2, 'No such file or directory')\r\n\r\n*ifconfig*:\r\n ```\r\nenx00044b5818d1 Link encap:Ethernet  HWaddr 00:04:4b:58:18:d1\r\n          inet addr:192.168.0.1  Bcast:192.168.0.255  Mask:255.255.255.0\r\n          inet6 addr: fe80::204:4bff:fe58:18d1/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:83601 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:134428 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000\r\n          RX bytes:26018235 (26.0 MB)  TX bytes:184628491 (184.6 MB)\r\n\r\nenx00116b68175e Link encap:Ethernet  HWaddr 00:11:6b:68:17:5e\r\n          inet addr:10.0.1.60  Bcast:10.0.1.255  Mask:255.255.255.0\r\n          inet6 addr: fe80::211:6bff:fe68:175e/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:136084 errors:9 dropped:0 overruns:0 frame:9\r\n          TX packets:82120 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000\r\n          RX bytes:182461515 (182.4 MB)  TX bytes:26374175 (26.3 MB)\r\n\r\nlo        Link encap:Local Loopback\r\n          inet addr:127.0.0.1  Mask:255.0.0.0\r\n          inet6 addr: ::1/128 Scope:Host\r\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\r\n          RX packets:1469 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:1469 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:0\r\n          RX bytes:102136 (102.1 KB)  TX bytes:102136 (102.1 KB)\r\n```\r\n\r\n*ip r*:\r\n```\r\ndefault via 10.0.1.1 dev enx00116b68175e  proto static  metric 100\r\ndefault via 10.0.1.1 dev wlan0  proto static  metric 600\r\n10.0.1.0/24 dev enx00116b68175e  proto kernel  scope link  src 10.0.1.60  metric 100\r\n10.0.1.0/24 dev wlan0  proto kernel  scope link  src 10.0.1.73  metric 600\r\n169.254.0.0/16 dev enx00044b5818d1  scope link  metric 1000\r\n192.168.0.0/24 dev enx00044b5818d1  proto kernel  scope link  src 192.168.0.1\r\n```", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/354/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "jeffreyzh": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/351", "title": "show AttributeError: 'Options' object has no attribute 'get_all_related_objects' when execute \"sudo bash restore-profiles.sh\" ", "body": "the atc server show` Internal Server Error` when I execute `sudo bash restore-profiles.sh 0.0.0.0:8000`\r\n```\r\npi@raspberrypi:~/workspace/atcui $ sudo python manage.py runserver 0.0.0.0:8000\r\nPerforming system checks...\r\n\r\nSystem check identified no issues (0 silenced).\r\nJanuary 05, 2018 - 02:24:26\r\nDjango version 1.10, using settings 'atcui.settings'\r\nStarting development server at http://0.0.0.0:8000/\r\nQuit the server with CONTROL-C.\r\nInternal Server Error: /api/v1/profiles/\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/exception.py\", line 39, in inner\r\n    response = get_response(request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\", line 187, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/views/decorators/csrf.py\", line 58, in wrapped_view\r\n    return view_func(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/atc_profile_storage/views.py\", line 36, in profile_list\r\n    if serializer.is_valid():\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 197, in is_valid\r\n    self._validated_data = self.run_validation(self.initial_data)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 391, in run_validation\r\n    value = self.to_internal_value(data)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 415, in to_internal_value\r\n    fields = self._writable_fields\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/utils/functional.py\", line 35, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 330, in _writable_fields\r\n    field for field in self.fields.values()\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 323, in fields\r\n    for key, value in self.get_fields().items():\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/serializers.py\", line 896, in get_fields\r\n    info = model_meta.get_field_info(model)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/utils/model_meta.py\", line 69, in get_field_info\r\n    reverse_relations = _get_reverse_relationships(opts)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rest_framework/utils/model_meta.py\", line 130, in _get_reverse_relationships\r\n    for relation in opts.get_all_related_objects():\r\nAttributeError: 'Options' object has no attribute 'get_all_related_objects'\r\n```\r\nso I think maybe the versions of these libraries do not fit\uff0ccheck my django and django-rest-framework version:\r\n\r\nmy `django` version is 1.10 \r\n```\r\npi@raspberrypi:~/workspace/augmented-traffic-control/utils $ pip show django\r\nName: Django\r\nVersion: 1.10\r\nSummary: A high-level Python Web framework that encourages rapid development and clean, pragmatic design.\r\nHome-page: http://www.djangoproject.com/\r\nAuthor: Django Software Foundation\r\nAuthor-email: foundation@djangoproject.com\r\nLicense: BSD\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires:\r\n```\r\n\r\nthe [changelog](https://github.com/facebook/augmented-traffic-control/blob/master/CHANGELOG.md) show ```Django rest framework 3.2``` has been supported from django 0.1.3,so my `Django rest framework` version is 3.2.0 \r\n```\r\npi@raspberrypi:~/workspace/augmented-traffic-control/utils $ pip show djangorestframework\r\nName: djangorestframework\r\nVersion: 3.2.0\r\nSummary: Web APIs for Django, made easy.\r\nHome-page: http://www.django-rest-framework.org\r\nAuthor: Tom Christie\r\nAuthor-email: tom@tomchristie.com\r\nLicense: BSD\r\nLocation: /usr/local/lib/python2.7/dist-packages\r\nRequires:\r\n```\r\nthe versions of these libraries seems no problem. after that,I found django has a new meta API in the version of 1.10:\r\nhttps://docs.djangoproject.com/en/1.10/ref/models/meta/ \uff0c`get_all_related_objects` was removed \r\nbut `get_all_related_objects` is using in `django-rest-framework 3.2.0`\r\nhttps://github.com/encode/django-rest-framework/blob/3.2.0/rest_framework/utils/model_meta.py#L130\r\n\r\nIs this the cause of the problem?\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "dthkao": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/349", "title": "Support burst bandwith and duplication settings in the API?", "body": "Would it be possible to support burst bandwith and duplication settings in the ATC RESTful API?\r\n\r\nAIUI implementation for burst shouldn't be too much of a deviation from the 'rate' field and duplication shouldn't be too different from corruption or reordering.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/349/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/317", "title": "Support multiple shapings per device?", "body": "Not a bug, but more of a feature request. Does the atcd API support (or is there a plan to support) multiple shapings per source IP and/or more advanced filtering (e.g., destination ip vis u32 filters)?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/317/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "tachu": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/341", "title": "Any shaping settings give inconsistent results", "body": "I'm running atcd (0.1.6) on ubuntu 16.04 I've setup the server as a gateway using both nic. One nick is connected to my LAN on 10.24.0.0/24 network \r\nseconds nic is initialized on vlan 255 and ip 192.168.128.0/24 \r\nMachine is setup as a gateway for clients with dhcp provided. all clients connect to network via wireless on save vlan. \r\n\r\nI've run several tests with atcd disabled and speed tests are consistent at around 50mbps down and 30mbps up. enabling atcd for a device drops the speed way below the settings on the profile. \r\n\r\nExample is\r\n\r\nCable profile 1000kbps up 6000 down. \r\nspeed test reports max of 3000 down and 740 up. I've tried increasing the numbers to 12000 down and 6000 up and reports still shows same bandwidth result. \r\n\r\nRemoving shaping for that device and retesting reports again 50mbps down and 30mbps up. \r\n\r\nI  notice dmesg reporting\r\n[75883.030421] htb: netem qdisc 8004: is non-work-conserving?\r\n[75883.089821] htb: netem qdisc 8003: is non-work-conserving?\r\n[76228.413021] htb: netem qdisc 8006: is non-work-conserving?\r\n[76228.462346] htb: netem qdisc 8005: is non-work-conserving?\r\n\r\nHEre is dump info\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# ./dump_system_info.sh \r\n\r\n######### uname -a #########\r\n\r\nLinux Slacker 4.4.0-96-generic #119-Ubuntu SMP Tue Sep 12 14:59:54 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n######### cat /etc/os-release #########\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\r\nVERSION_ID=\"16.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\nVERSION_CODENAME=xenial\r\nUBUNTU_CODENAME=xenial\r\n\r\n######### python -V #########\r\n\r\nPython 2.7.12\r\n\r\n######### pip freeze #########\r\n\r\nadium-theme-ubuntu==0.3.4\r\natc-thrift==0.1.6\r\natcd==0.1.6\r\ndaemonize==2.4.7\r\nDjango==1.11.6\r\ndjango-atc-api==0.1.6\r\ndjango-atc-demo-ui==0.1.6\r\ndjango-atc-profile-storage==0.1.6\r\ndjango-bootstrap-themes==3.3.6\r\ndjango-static-jquery==1.11.1\r\ndjangorestframework==3.6.4\r\nfutures==3.1.1\r\npyotp==1.4.1\r\npyroute2==0.3.3\r\npytz==2017.2\r\nsix==1.11.0\r\nsparts==0.7.1\r\nthrift==0.10.0\r\nunity-lens-photos==1.0\r\nYou are using pip version 8.1.1, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### iptables-save #########\r\n\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:47:37 2017\r\n*filter\r\n:INPUT ACCEPT [406130:550661434]\r\n:FORWARD ACCEPT [452698:675838389]\r\n:OUTPUT ACCEPT [192325:11860521]\r\n-A FORWARD -i eno2.255 -o eno1 -m state --state RELATED,ESTABLISHED -j ACCEPT\r\n-A FORWARD -i eno2.255 -o eno1 -j ACCEPT\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:47:37 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:47:37 2017\r\n*mangle\r\n:PREROUTING ACCEPT [22251:11227350]\r\n:INPUT ACCEPT [5672:879536]\r\n:FORWARD ACCEPT [12067:9571076]\r\n:OUTPUT ACCEPT [921:88087]\r\n:POSTROUTING ACCEPT [12988:9659163]\r\n-A FORWARD -d 192.168.128.106/32 -i eno1 -j MARK --set-xmark 0x2/0xffffffff\r\n-A FORWARD -s 192.168.128.106/32 -i eno2.255 -j MARK --set-xmark 0x2/0xffffffff\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:47:37 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:47:37 2017\r\n*nat\r\n:PREROUTING ACCEPT [24127:3795964]\r\n:INPUT ACCEPT [11488:1857333]\r\n:OUTPUT ACCEPT [207:12727]\r\n:POSTROUTING ACCEPT [187:11286]\r\n-A POSTROUTING -o eno1 -j MASQUERADE\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:47:37 2017\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### ip a #########\r\n\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 10.24.4.99/22 brd 10.24.7.255 scope global eno1\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n3: eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000\r\n       valid_lft forever preferred_lft forever\r\n4: eno2.255@eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 192.168.128.1/24 brd 192.168.128.255 scope global eno2.255\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n\r\n######### tc qdisc show dev eno1 #########\r\n\r\nqdisc htb 1: root refcnt 6 r2q 10 default 0 direct_packets_stat 94727 direct_qlen 1000\r\nqdisc netem 8005: parent 1:2 limit 1000 delay 2.0ms\r\n\r\n######### tc class show dev eno1 #########\r\n\r\nclass htb 1:2 root leaf 8005: prio 0 rate 5Mbit ceil 5Mbit burst 1600b cburst 1600b \r\n\r\n######### tc filter show dev eno1 #########\r\n\r\nfilter parent 1: protocol ip pref 1 fw \r\nfilter parent 1: protocol ip pref 1 fw handle 0x2 classid 1:2  police 0x5 rate 5Mbit burst 12000b mtu 2Kb action drop overhead 0b \r\nref 1 bind 1\r\n\r\n\r\n######### tc qdisc show dev eno2.255 #########\r\n\r\nqdisc htb 1: root refcnt 2 r2q 10 default 0 direct_packets_stat 144355 direct_qlen 1000\r\nqdisc netem 8006: parent 1:2 limit 1000 delay 2.0ms\r\n\r\n######### tc class show dev eno2.255 #########\r\n\r\nclass htb 1:2 root leaf 8006: prio 0 rate 12Mbit ceil 12Mbit burst 1597b cburst 1597b \r\n\r\n######### tc filter show dev eno2.255 #########\r\n\r\nfilter parent 1: protocol ip pref 1 fw \r\nfilter parent 1: protocol ip pref 1 fw handle 0x2 classid 1:2  police 0x6 rate 12Mbit burst 12000b mtu 2Kb action drop overhead 0b \r\nref 1 bind 1\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# \r\n\r\n\r\nHere is after removing shapping\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# ./dump_system_info.sh \r\n\r\n######### uname -a #########\r\n\r\nLinux Slacker 4.4.0-96-generic #119-Ubuntu SMP Tue Sep 12 14:59:54 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n######### cat /etc/os-release #########\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"16.04.3 LTS (Xenial Xerus)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 16.04.3 LTS\"\r\nVERSION_ID=\"16.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\nVERSION_CODENAME=xenial\r\nUBUNTU_CODENAME=xenial\r\n\r\n######### python -V #########\r\n\r\nPython 2.7.12\r\n\r\n######### pip freeze #########\r\n\r\nadium-theme-ubuntu==0.3.4\r\natc-thrift==0.1.6\r\natcd==0.1.6\r\ndaemonize==2.4.7\r\nDjango==1.11.6\r\ndjango-atc-api==0.1.6\r\ndjango-atc-demo-ui==0.1.6\r\ndjango-atc-profile-storage==0.1.6\r\ndjango-bootstrap-themes==3.3.6\r\ndjango-static-jquery==1.11.1\r\ndjangorestframework==3.6.4\r\nfutures==3.1.1\r\npyotp==1.4.1\r\npyroute2==0.3.3\r\npytz==2017.2\r\nsix==1.11.0\r\nsparts==0.7.1\r\nthrift==0.10.0\r\nunity-lens-photos==1.0\r\nYou are using pip version 8.1.1, however version 9.0.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### iptables-save #########\r\n\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:49:13 2017\r\n*filter\r\n:INPUT ACCEPT [407393:550853438]\r\n:FORWARD ACCEPT [452736:675851292]\r\n:OUTPUT ACCEPT [192893:11910114]\r\n-A FORWARD -i eno2.255 -o eno1 -m state --state RELATED,ESTABLISHED -j ACCEPT\r\n-A FORWARD -i eno2.255 -o eno1 -j ACCEPT\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:49:13 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:49:13 2017\r\n*mangle\r\n:PREROUTING ACCEPT [1559:247082]\r\n:INPUT ACCEPT [1036:147283]\r\n:FORWARD ACCEPT [24:2711]\r\n:OUTPUT ACCEPT [514:44028]\r\n:POSTROUTING ACCEPT [538:46739]\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:49:13 2017\r\n# Generated by iptables-save v1.6.0 on Fri Oct  6 14:49:13 2017\r\n*nat\r\n:PREROUTING ACCEPT [24678:3879108]\r\n:INPUT ACCEPT [11779:1899861]\r\n:OUTPUT ACCEPT [242:14827]\r\n:POSTROUTING ACCEPT [222:13386]\r\n-A POSTROUTING -o eno1 -j MASQUERADE\r\nCOMMIT\r\n# Completed on Fri Oct  6 14:49:13 2017\r\n\r\n######### ip r #########\r\n\r\ndefault via 10.24.4.1 dev eno1 onlink \r\n10.24.4.0/22 dev eno1  proto kernel  scope link  src 10.24.4.99 \r\n169.254.0.0/16 dev eno2.255  scope link  metric 1000 \r\n192.168.128.0/24 dev eno2.255  proto kernel  scope link  src 192.168.128.1 \r\n\r\n######### ip a #########\r\n\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: eno1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 10.24.4.99/22 brd 10.24.7.255 scope global eno1\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n3: eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000\r\n       valid_lft forever preferred_lft forever\r\n4: eno2.255@eno2: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 192.168.128.1/24 brd 192.168.128.255 scope global eno2.255\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n\r\n######### tc qdisc show dev eno1 #########\r\n\r\nqdisc htb 1: root refcnt 6 r2q 10 default 0 direct_packets_stat 94823 direct_qlen 1000\r\n\r\n######### tc class show dev eno1 #########\r\n\r\n\r\n######### tc filter show dev eno1 #########\r\n\r\n\r\n######### tc qdisc show dev eno2.255 #########\r\n\r\nqdisc htb 1: root refcnt 2 r2q 10 default 0 direct_packets_stat 144506 direct_qlen 1000\r\n\r\n######### tc class show dev eno2.255 #########\r\n\r\n\r\n######### tc filter show dev eno2.255 #########\r\n\r\nroot@Slacker:~/augmented-traffic-control/utils# \r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/341/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "kavithaks": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/319", "title": "I have installed ATC(augmented traffic control)- how to access it via mobile device - As unable use the same network between the laptop and device. Could anyone please guide me the detailed steps to perform in order to access ATC via mobile device", "body": "<!--\r\nIf you are filling an issue, please provide the information below, if this is not a bug and just a question, you can skip it.\r\n\r\n---------------------------------------------------\r\nBUG REPORT INFORMATION\r\n---------------------------------------------------\r\nHere are a few questions that will help us get a better understanding of your setup. Please take a minute to answer them, this will avoid some back and forth communication by providing some context to us.\r\n-->\r\n**Meeting the requirements:**\r\n**ATC** has a few requirements, this section is used to make sure the requirements are met. Until you can check all the boxes, **ATC** will not work on your system.\r\n- [ ] `atcd` runs on Linux\r\n- [ ] `atcd` has 2 physical interfaces\r\n - [ ] 1 that connects to the internet (WAN)\r\n - [ ] 1 that connects to the local network (LAN)\r\n- [ ] the traffic from the devices that are being shaped is routed through `atcd`\r\n- [ ] `atcd` sees the real IP of the devices (e.g there is no **NAT** on the LAN segment)\r\n\r\n**Checking for special atcd options:**\r\n\r\nIn some cases, `atcd` default configuration may not be suitable for your system. Use:\r\n```\r\natcd -h\r\n```\r\ndo change those default to suit your setup.\r\nFor instance, if your lan interface is `wlan0`, you should start `atcd` using:\r\n```\r\natcd --atcd-lan wlan0\r\n```\r\n\r\n**Steps to reproduce the issue:**\r\n1.\r\n2.\r\n3.\r\n\r\n\r\n**Describe the results you received:**\r\n\r\n\r\n**Describe the results you expected:**\r\n\r\n\r\n\r\n**Any additional information that you think is important:**\r\n\r\n\r\n**Dumping system info:**\r\n\r\nWhile this may not be required in many cases, providing the following information will help us better understand your setup.\r\n\r\n**NOTE**: before putting the output on gist, please check its content is fine to be publically available\r\n\r\nRun https://github.com/facebook/augmented-traffic-control/blob/master/utils/dump_system_info.sh and upload the content of the logs to [https://gist.github.com/](gist)\r\n\r\n```\r\ncurl https://raw.githubusercontent.com/facebook/augmented-traffic-control/master/utils/dump_system_info.sh | bash -s -\r\n```\r\n\r\nThis default to using `eth0` and `eth1` for `wan` and `lan` respectively. If you are using other interfaces (let say eth0 and wlan0 respectively), use:\r\n```\r\ncurl https://raw.githubusercontent.com/facebook/augmented-traffic-control/master/utils/dump_system_info.sh | bash -s -  eth0 wlan0\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "lycfr": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/318", "title": "Switch network control failed", "body": " executable code:sudo --atcd-wan eth0 --atcd-lan wlan0\r\nprompt:\r\nERROR:sparts.tasks:Error creating task, AtcdNBServerTask\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vtask.py\", line 313, in init\r\n    t.initTask()\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/tasks/thrift.py\", line 146, in initTask\r\n    self.server.prepare()\r\n  File \"/usr/local/lib/python2.7/dist-packages/thrift/server/TNonblockingServer.py\", line 256, in prepare\r\n    self.socket.listen()\r\n  File \"/usr/local/lib/python2.7/dist-packages/thrift/transport/TSocket.py\", line 185, in listen\r\n    self.handle.bind(res[4])\r\n  File \"/usr/lib/python2.7/socket.py\", line 224, in meth\r\n    return getattr(self._sock,name)(*args)\r\nerror: [Errno 98] Address already in use\r\nINFO:AtcdVService.AtcdLinuxShaper:Calling initialize_shaping_system\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -F FORWARD\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on wlan0\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on wlan0\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:Restoring shaped connection from DB\r\nERROR:AtcdVService:Unexpected Exception during init\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vservice.py\", line 268, in _runloop\r\n    instance._createTasks()\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vservice.py\", line 167, in _createTasks\r\n    self.tasks.init()\r\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vtask.py\", line 332, in init\r\n    len(exceptions))\r\nException: Unable to start service (1 task start errors)\r\nINFO:AtcdVService:Received graceful shutdown request\r\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\r\nINFO:AtcdVService:Waiting for tasks to shutdown gracefully...\r\nDEBUG:AtcdVService:Waiting for <atcd.AtcdDeviceTimeoutTask.AtcdDeviceTimeoutTask object at 0x7ff244717bd0> to stop...\r\nDEBUG:AtcdVService:Waiting for <atcd.backends.linux.AtcdLinuxShaper object at 0x7ff2447179d0> to stop...\r\nDEBUG:AtcdVService:Waiting for <atcd.AtcdDBQueueTask.AtcdDBQueueTask object at 0x7ff244717950> to stop...\r\nDEBUG:AtcdVService:Waiting for <atcd.AtcdThriftHandlerTask.AtcdNBServerTask object at 0x7ff2447178d0> to stop...\r\nINFO:AtcdVService:Instance shut down gracefully\r\n\r\nBut I can do it normally:sudo python manage.py runserver 0.0.0.0:8000\r\nEverything else is normal,\r\nWhat's the reason.\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "Deathangel908": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/315", "title": "Running ATC from a laptop using 'create_ap'", "body": "I'm trying to simulate low network conditions on my real android device based on [this answer](https://stackoverflow.com/a/40488451/3872976).  I'm using a laptop (x86) with archlinux as a router. In the laptop I have wired `enp61s0` and wireless `wlp62s0` interfaces. So I created wifi access point using [create_ap](https://github.com/oblique/create_ap) command, to be specific `sudo create_ap wlp62s0 enp61s0 MSI_AP`. That thing creates `ap0` interface, which I'm connecting my android device to. I specified `ap0` as wlan interface in atc and `enp61s0` as another one. (enp61s0 is connected to internet)\r\n\r\nUnfortunately rules do not work ( I set up up and down speeds to 1kbs, but android's speedtest app shows 20mb/s). Any idea what I'm doing wrong?\r\n\r\n`create_ap` [output](https://gist.github.com/Deathangel908/ffae015e9995f80d9c7365597a6478f2)\r\n`dump_system_info` [output](https://gist.github.com/Deathangel908/e0712c32f9e0bbbe3c86e9bf27b80d80)\r\n`log` from atc is [here](https://gist.github.com/Deathangel908/f58669de7ec8f4c6b7d86e39e7846a58) ", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/315/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "winzows": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/314", "title": "ATC is Running But browsers are so slow that they can't even open them", "body": "**ATC is Running  But browsers are so slow that they can't even open them**\r\n\r\n```\r\nI use the note PC.It has a wireless network card,and Using broadband Internet access ,Wireless card sharing hot spot\r\n\r\nI started using this command \u201csudo actd \u201d ,broke\u4e86\r\nso,I've changed your code  eth0,eth1 to eth0,wlan0 \u3002Specifically, I don't remember that file\r\nSorry, my English is not very good  = = \r\n```\r\nBut browsers are so slow that they can't even open them\r\nI don't know what caused it\uff0c\r\n\r\n**can you help me?thank you very much\uff01\uff01**\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/314/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "hamsterksu": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/308", "title": "atc_demo_ui: manage/shape authorized machine", "body": "Hi everybody,\r\n\r\nI'm looking for capability to configure shaping rules for another authorized machine(controlled ip) from ui.\r\ni know it's possible to do with api. but i need to have UI for this purpose.\r\n\r\nweb ui displays a list of ip in \"Machines You Can Shape:\". but seems i can't pick anyone from it\r\n\r\nis it possible now?\r\n\r\nseems not: api doesn't allow to do it - https://github.com/facebook/augmented-traffic-control/blob/master/atc/django-atc-api/atc_api/static/js/atc-api.js#L60\r\n\r\nThanks,", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/308/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "muthurajbharathi": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/307", "title": "How to know how much packets or data  flowing to shaped devices", "body": "I want to render a live graph based on how much data or packets are flowing to devices which are shaped using atcd.\r\n\r\nAnd also i need a info of packet drop along with packets or data flow. Please help me achieving this", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/307/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/304", "title": "atc create profiles", "body": "\r\nHi I need to create profiles from backend instead from UI. How can i do that what is the end point and please provide api endpoint and parameters to be sent to create profile.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "scvjx": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/306", "title": "ATC can not control  different mobiles", "body": "Hello, I use a PC that have two net adapters . one adapter connect internet , other connect a H3C Switch that create a WIFI.  Different mobiles use wifi can not separate control .why?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "liuang68": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/305", "title": "sudo atcd failed", "body": "Hello,Sorry for disturbing, I wanna ask for assistance about a problem I rencently encountered\r\n.when 'sudo actd' is executed, the sentence\"can  not find actd\" is showed on my screen.However,I have installed atcd.Could anyone give me some suggestions or solutions?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/305/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JaewookYou": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/303", "title": "Plz help me with my atc, it successfully runned but actually not working", "body": "**ATC** has a few requirements, this section is used to make sure the requirements are met. Until you can check all the boxes, **ATC** will not work on your system.\r\n- [o ] `atcd` runs on Linux\r\n- [ o] `atcd` has 2 physical interfaces\r\n - [o ] 1 that connects to the internet (WAN)\r\n - [o ] 1 that connects to the local network (LAN)\r\n- [o ] the traffic from the devices that are being shaped is routed through `atcd`\r\n- [x ] `atcd` sees the real IP of the devices (e.g there is no **NAT** on the LAN segment)\r\n\r\n\r\n**Steps to reproduce the issue:**\r\nI succesffuly run ATC, but actually it doesn't work. I gave packet loss, delay, modify bandwidth, but device's network works well.\r\n\r\n1. Here's my network environment.\r\n\r\n                                 ATC Ubuntu\r\nap1 ---------------------eth0 | eth1 ---------------------------- ap2 ------------ adsl-----outside\r\n(mobile use this) atcd (connect lan)\r\n\r\n2. This is my ifconfig set\r\n\r\neht0 -- lan\r\neth1 -- wan\r\n\r\n$ ifconfig\r\neth0      Link encap:Ethernet  HWaddr xx:xx:xx:xx:xx:xx  \r\n          inet addr:100.100.100.1  Bcast:100.100.100.255  Mask:255.255.255.0\r\n          inet6 addr: xxxx::xxxx:xxxx:xxxx:xxxx/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:284744 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:341465 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:215253744 (215.2 MB)  TX bytes:365172508 (365.1 MB)\r\n\r\neth1      Link encap:Ethernet  HWaddr xx:xx:xx:xx:xx:xx  \r\n          inet addr:172.xxx.xxx.250  Bcast:172.xxx.xxx.255  Mask:255.255.255.0\r\n          inet6 addr: xxxx::xxx:xxxx:xxxx:xxxx/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:361268 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:299660 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:383028468 (383.0 MB)  TX bytes:215711661 (215.7 MB)\r\n\r\neth2      Link encap:Ethernet  HWaddr xx:xx:xx:xx:xx:xx  \r\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\r\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\r\n\r\nlo        Link encap:Local Loopback  \r\n          inet addr:127.0.0.1  Mask:255.0.0.0\r\n          inet6 addr: ::1/128 Scope:Host\r\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\r\n          RX packets:21756 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:21756 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1 \r\n          RX bytes:3055869 (3.0 MB)  TX bytes:3055869 (3.0 MB)\r\n\r\n\r\n3. This is my command when run ATC\r\n\r\n(venv)a@a-Z68A-D3H-B3:~/dev/atc/atcui$ sudo atcd --thrift-host 127.0.0.1 --atcd-lan eth0 --atcd-wan eth1 --atcd-dont-drop-packets\r\nINFO:AtcdVService.AtcdNBServerTask:AtcdNBServerTask Server Started on 127.0.0.1:9090\r\nINFO:AtcdVService.AtcdLinuxShaper:Calling initialize_shaping_system\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -F FORWARD\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth1\r\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth1\r\nINFO:AtcdVService.AtcdLinuxShaper:Restoring shaped connection from DB\r\nINFO:AtcdVService.AtcdLinuxShaper:Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='100.100.100.1', controlledIP='100.100.100.1'), timeout=85805.38567900658, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=None, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=None, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0))))\r\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 100.100.100.1 on interface eth1\r\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth1, classid 1:2,parent 1:0, rate 4194303kbits\r\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth1, parent 1:2, loss 0.0%, delay 0\r\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth1, classid 1:2, handle 2, rate: Nonekbits\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -d 100.100.100.1 -i eth1  -j MARK --set-mark 2\r\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 100.100.100.1 on interface eth0\r\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth0, classid 1:2,parent 1:0, rate 4194303kbits\r\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth0, parent 1:2, loss 0.0%, delay 0\r\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth0, classid 1:2, handle 2, rate: Nonekbits\r\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -s 100.100.100.1 -i eth0  -j MARK --set-mark 2\r\nDEBUG:AtcdVService:All tasks started\r\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\r\nINFO:AtcdVService.AtcdLinuxShaper:Request requestToken(100.100.100.1, 259200)\r\n\r\n\r\n4. This is my iptables set\r\n\r\n$sudo iptables -nvL\r\n\r\nChain INPUT (policy ACCEPT 39203 packets, 22M bytes)\r\n pkts bytes target     prot opt in     out     source               destination         \r\n\r\nChain FORWARD (policy ACCEPT 280K packets, 344M bytes)\r\n pkts bytes target     prot opt in     out     source               destination         \r\n 216K  206M ACCEPT     all  --  eth0   *       0.0.0.0/0            0.0.0.0/0           \r\n\r\nChain OUTPUT (policy ACCEPT 38460 packets, 4955K bytes)\r\n pkts bytes target     prot opt in     out     source               destination         \r\n\r\n+ I've done this command set on iptables\r\n\r\n$sudo iptables --table nat --append POSTROUTING --out-interface eth1 -j MASQUERADE\r\n\r\n\r\n5. This is my ~/dev/atc/atcui/atcui/settings.py and urls.py set\r\n\r\n- settings.py\r\n\r\nALLOWED_HOSTS = ['*']\r\n\r\n# Application definition\r\n\r\nINSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'rest_framework',\r\n    'atc_api',\r\n    'bootstrap_themes',\r\n    'django_static_jquery',\r\n    'atc_demo_ui',\r\n    'atc_profile_storage',\r\n]\r\n\r\n- urls.py\r\n\r\nfrom django.conf.urls import url, include\r\nfrom django.contrib import admin\r\nfrom django.views.generic.base import RedirectView\r\n\r\nurlpatterns = [\r\n    url(r'^admin/', admin.site.urls),\r\n    url(r'^api/v1/', include('atc_api.urls')),\r\n    url(r'^atc_demo_ui/', include('atc_demo_ui.urls')),\r\n    url(r'^api/v1/profiles/', include('atc_profile_storage.urls')),\r\n    url(r'^$', RedirectView.as_view(url='/atc_demo_ui/', permanent=False)),\r\n]\r\n\r\n6. Ubuntu's info\r\n\r\n######### uname -a #########\r\n\r\nLinux x-xxxx-xxx-xx 4.4.0-47-generic #68~14.04.1-Ubuntu SMP Wed Oct 26 19:42:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n######### cat /etc/os-release #########\r\n\r\nNAME=\"Ubuntu\"\r\nVERSION=\"14.04.5 LTS, Trusty Tahr\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 14.04.5 LTS\"\r\nVERSION_ID=\"14.04\"\r\nHOME_URL=\"http://www.ubuntu.com/\"\r\nSUPPORT_URL=\"http://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"http://bugs.launchpad.net/ubuntu/\"\r\n\r\n######### python -V #########\r\n\r\nPython 2.7.6\r\n\r\n######### pip freeze #########\r\n\r\nDjango==1.10.3\r\nPAM==0.4.2\r\nPillow==2.3.0\r\nTwisted-Core==13.2.0\r\nTwisted-Web==13.2.0\r\nadium-theme-ubuntu==0.3.4\r\napt-xapian-index==0.45\r\nargparse==1.2.1\r\natc-thrift==0.1.6\r\natcd==0.1.6\r\nchardet==2.0.1\r\ncolorama==0.2.5\r\ncommand-not-found==0.3\r\ndaemonize==2.4.7\r\ndebtagshw==0.1\r\ndefer==1.0.6\r\ndirspec==13.10\r\ndjango-atc-api==0.1.6\r\ndjango-atc-demo-ui==0.1.6\r\ndjango-atc-profile-storage==0.1.6\r\ndjango-bootstrap-themes==3.3.6\r\ndjango-static-jquery==1.11.1\r\ndjangorestframework==3.5.3\r\nduplicity==0.6.23\r\nfutures==3.0.5\r\nhtml5lib==0.999\r\nhttplib2==0.8\r\nlockfile==0.8\r\nlxml==3.3.3\r\noauthlib==0.6.1\r\noneconf==0.3.7.14.04.1\r\npexpect==3.1\r\npiston-mini-client==0.7.5\r\npyOpenSSL==0.13\r\npycrypto==2.6.1\r\npycups==1.9.66\r\npygobject==3.12.0\r\npyotp==1.4.1\r\npyroute2==0.3.3\r\npyserial==2.6\r\npysmbc==1.0.14.1\r\npython-apt==0.9.3.5ubuntu2\r\npython-debian==0.1.21-nmu2ubuntu2\r\npyxdg==0.25\r\nreportlab==3.0\r\nrequests==2.2.1\r\nsessioninstaller==0.0.0\r\nsix==1.5.2\r\nsoftware-center-aptd-plugins==0.0.0\r\nsparts==0.7.1\r\nsystem-service==0.1.6\r\nthrift==0.9.3\r\nunity-lens-photos==1.0\r\nurllib3==1.7.1\r\nvirtualenv==1.11.4\r\nwheel==0.24.0\r\nwsgiref==0.1.2\r\nxdiagnose==3.6.3build2\r\nzope.interface==4.0.5\r\n\r\n######### ip r #########\r\n\r\ndefault via 172.xxx.xxx.1 dev eth1  proto static \r\n100.100.100.0/24 dev eth0  proto kernel  scope link  src 100.100.100.1  metric 1 \r\n172.xxx.xxx.0/24 dev eth1  proto kernel  scope link  src 172.xxx.xxx.250  metric 1 \r\n\r\n######### iptables-save #########\r\n\r\n\r\n######### ip r #########\r\n\r\ndefault via 172.xxx.xxx.1 dev eth1  proto static \r\n100.100.100.0/24 dev eth0  proto kernel  scope link  src 100.100.100.1  metric 1 \r\n172.xxx.xxx.0/24 dev eth1  proto kernel  scope link  src 172.xxx.xxx.250  metric 1 \r\n\r\n######### ip a #########\r\n\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 100.100.100.1/24 brd 100.100.100.255 scope global eth0\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc htb state UP group default qlen 1000\r\n    inet 172.xxx.xxx.250/24 brd 172.xxx.xxx.255 scope global eth1\r\n       valid_lft forever preferred_lft forever\r\n       valid_lft forever preferred_lft forever\r\n4: eth2: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast state DOWN group default qlen 1000\r\n\r\n######### tc qdisc show dev eth1 #########\r\n\r\nqdisc htb 1: root refcnt 2 r2q 10 default 0 direct_packets_stat 109455 direct_qlen 1000\r\nqdisc netem 8009: parent 1:3 limit 1000 delay 1.0s loss 100%\r\n\r\n######### tc class show dev eth1 #########\r\n\r\nclass htb 1:3 root leaf 8009: prio 0 rate 1000Kbit ceil 1000Kbit burst 1600b cburst 1600b \r\n\r\n######### tc filter show dev eth1 #########\r\n\r\nfilter parent 1: protocol ip pref 1 fw \r\nfilter parent 1: protocol ip pref 1 fw handle 0x3 classid 1:3 \r\n\r\n\r\n\r\n\r\n\r\n\r\nAlways thanks for providing useful and helpful programs, and kind answer for questions.\r\nThank you so much, I'll wait your kind answer.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/303/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "chantra": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/270", "title": "empty group not being reaped", "body": "I dont remember exactly how we triggered that, but basically, there were cases when a group was left empty after the members were removed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/270/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/268", "title": "shaping not deleted when group is reaped", "body": "Repro:\n- create group and join with ipv4\n- join group with v6\n- shape group\n- leave group with v4\n- leave group with v6\n\nGroup is deleted, iptables entry deleted but tc's qdisc, filter and class are still present.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/267", "title": "panic: runtime error: invalid memory address or nil pointer dereference goroutine 114 [running]:", "body": "Not sure how I go to this.. but the backtrace may help in finding the potential culprit. https://gist.github.com/chantra/a1a69b4b3601f712712aa7b64b91b3ac\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/157", "title": "make syslog support optional", "body": "When running in a container, syslog may not be available and will cause atc to crash as in https://gist.github.com/chantra/2e52410da7e0f48d0eee\n\nWe should detect if syslog can be used and only enable it in that case.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/157/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/139", "title": "document atcd requirements", "body": "Many people are opening issues for support for atc but in many cases, they don't have a suitable environment to deploy ATC on.\n\nWe obviously fail at properly documenting the requirements. We should have a page specifically designed to help people meeting those requirements. Some kind of checklist with potential links to external documentation.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/139/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/45", "title": "investigate using iptables' CLASSIFY target", "body": "It appears that there is potentially a way to bypass marking packets from iptables and then filtering using the CLASSIFY target:\nhttp://www.at.netfilter.org/patch-o-matic/pom-submitted.html#pom-submitted-CLASSIFY\n\nThat would allow passing the packet directly onto the class that does the throttling.\n\nCurrent we use the policing part of the filter to drop packets when going beyond the allocated bandwidth... I am not sure we can benefit from this with the CLASSIFY target.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/45/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/44", "title": "Make ATC UI more mobile friendly", "body": "While bootstrap does a great job at adapting the layout depending on the screen, we could do a better job and making it more useable on mobile.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/44/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/575720854de4f609b6209028857ec8d81efcf654", "message": "Merge pull request #321 from stasfilin/master\n\nFix build errors"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/919dd8d27c09bfa6e6719dd1eb5d060816b9e3f9", "message": "remove unused docker build"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8ee7aea1f4d8a0352371553964ad0246c00b7307", "message": "[doc] update to to reflect django 1.10 support and bump to 0.1.6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0127c603d8ab168348f3ab01f71861ec3fb94bdd", "message": "Merge pull request #297 from chantra/django_210_gh296\n\n[django] add support for django 1.10"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8c1e4cf83ab93f2eb829b6fc429ea94b790f79ea", "message": "[doc] update documentation with django 1.10 urls.py changes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/43a0743c95fa91f8af88d6bc8a6565bfac0ed12f", "message": "[django] add support for django 1.10\n\n* [django.url.conf.urls.patterns is deprecated](https://docs.djangoproject.com/en/1.10/releases/1.10/#features-removed-in-1-10)\n* set up [template\n* engines](https://docs.djangoproject.com/en/1.10/topics/templates/#support-for-template-engines)\n* bump django 1.10 in chef recipe\n\nFixes #296"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6a9f97d8947dc2f9f7f23fca9fdc3ac414468893", "message": "bump v0.1.5"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c0400ab81fa2d28a8030441e93c2d5815d48a6ae", "message": "Merge pull request #288 from chantra/fix_287\n\n[atc_profile_storage] convert content to a string as this seems to be"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f24ca9afaacee504c755210dfe664be44c2d5314", "message": "[atc_profile_storage] convert content to a string as this seems to be\nneeded by drf.\nConfirmed that I could load new profiles using\n./utils/restore-profiles.sh localhost:8080.\nFixes #287"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3e581f1ef6d51dd5d891b22b2e679a9e4cb7e7cd", "message": "Bump to v0.1.4"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7f8de468da3f79b08953b88887345fcca97ee187", "message": "Merge pull request #280 from chantra/fix_chef_run_ubuntu\n\nFix chef run on ubuntu by including apt recipe and update django/django-bootstrap-themes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/514a5cf4c807a508113a5dcedd11c648ff0e97a8", "message": "Bump django to 1.9 and django-bootstrap-themes to 3.3.6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8d56f27cfc62665ea9f2b50ebe334b21b439e2a0", "message": "[chef] Fix chef run on ubuntu by including apt recipe.\n\nThis will force an `apt-get update` if cache is too old.\nFixes #279"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/83b51fa0f6c8659fb8eb4f86bf3dccb3eb1167a1", "message": "Add .md extension to ISSUE_TEMPLATE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/356e904abbcd6e33bd32ead00f395f3ed1ee4b19", "message": "Create an issue template.\n\nThis should help people to give us better context and make sure that\nthey run through the checklist or requirements before opening an issue.\n\nhttps://help.github.com/articles/creating-an-issue-template-for-your-repository/\nFixes #241"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3b3b32405c0627a2acfb6bc0d70b48b7e9363ee5", "message": "[makefile/lint] clean build folders and fix lint"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/ba13477c2af4e0b84d749e4240144511cc17bd6e", "message": "Merge pull request #220 from MiteshShah/patch-2\n\nRelated to #216 & #219"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f9c6735564f8e22c3f17d0c98a51c1c7dbaf9006", "message": "Release 0.1.3"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/50630cedea6663f3fff72468173b981ebf96f7f7", "message": "update Vagrant images\n\nimages are now under bento/ and not chef/"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/60e38611a535273c887a0a08ff94286ab19ecd9b", "message": "Merge pull request #148 from chantra/fix_drf_32\n\nSupport Django rest framework 3.2"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/71d98610686a2bdc0b5e8e8b0f75aa9dd55b87f8", "message": "Support Django rest framework 3.2\n\nDRF has deprecated/remove request.DATA in favor of request.data\n\nhttp://www.django-rest-framework.org/topics/3.2-announcement/\nFixes #147"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/41c8df21a89aedb1e9bbe642da3adb01340fe8cc", "message": "Merge pull request #142 from zfjagann/master\n\nFix chef on centos6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/504ffb86059b844e0598612005a1560c243e8632", "message": "Merge pull request #141 from chantra/docker\n\n[docker] Bump docker image to use atc 0.1.2"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/cf4b7d0f702c8bee204f33934c0326167eabc346", "message": "[docker] Bump docker image to use atc 0.1.2\n\nAlso add ATCD_OPTIONS environment flag to allow passing free form\noptions on top of the basic setting ones (e.g network interface, secure\nmode...)_"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8726a61c8cf5a38bdfd5d62d4f69caa9d03f3bc0", "message": "Merge pull request #140 from chantra/changelog\n\nUpdated CHANGELOG.md"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a85ba323c5c36d04c0b3e0990f951cfb957946a6", "message": "Updated CHANGELOG.md\n\nWe had forgotten about that guy for some time!"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f0bca517c6109d3c6e6e1942c720f8514fb1695e", "message": "Bumping to version 0.1.2"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/91fb683164acc368c722bc4f74aeafa22e7cd7ea", "message": "Merge pull request #137 from chantra/no_drop\n\nCommand line argument to buffer packets instead of dropping"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b06f76f0c015aad945deed134ca69b78bafe1cfc", "message": "Command line argument to buffer packets instead of dropping\n\natcd --atcd-dont-drop-packets\n\nThis is provided as a workaround for a bunch of issues that were\nreported by users where they would prefer packets to be buffered (and\nhence providing the expected throughput)  rather than being dropped\ncausing the network to collapse.\n\nFixes #86\nFixes #103\nFixes #123\nFixes #125\nand most likely #135"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a7215eb28bbcb65d00f189514f7dc979ebe55e4b", "message": "Merge pull request #129 from chantra/docker\n\nDocker"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f233108d13f780f5b1b5d6cc2fda26193398dca4", "message": "Add support for atcd-mode option\n\nAlso fix docker build to properly generate the djago app."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4f0d12cd2979d6547dc260743b9273765bc7cbff", "message": "Merge pull request #128 from chantra/fix_old_devices\n\nFix react on older browsers"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f228f4556ebad24605bd5dba23ad8243a8cbf67e", "message": "Map is a es6 only feature. Let's use good old dictionary\n\nFixes #126"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4ac9b3d3e999ca554bfa60cef92fa19451af58a3", "message": "Support react 0.13"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/41b22624d3e03d27023559a613838b21ef634042", "message": "Fix react on older browsers\n\n- replace `for ... of` by `Array.prototype.forEach` : es6 only:\n  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\n- add es5shim js library:\n  http://facebook.github.io/react/docs/working-with-the-browser.html#browser-support-and-polyfills"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/34c1ddaa24d0ce82fe877ebafadf89a9fc6f61ce", "message": "Merge pull request #118 from zfjagann/authui\n\nAuth UI"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5956c47a81b2b4990d7f49cbba8c24aae7b7039f", "message": "Use --cap-add=NET_ADMIN instead of provileged (docker >= 1.2)"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f0faeadf79d61568b1319057f1a9156e4cb04e2b", "message": "First version of an ATC docker instance"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a7c9f3b0c46b30394dcd5a2e6ebbab84df3af560", "message": "Merge pull request #114 from chantra/build_badge\n\nAdd Travis build status and ATCD pypi badge"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/09cd60b23d636f33984846b6eeb0cdf8239ed20d", "message": "Add build badge"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c64edfb49ecdcec9f20a491cad05e9c4bec0d545", "message": "Dump more info\n\n/etc/os-release\npip freeze"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5763ebf4a65428ee96c8f3c471c42680e40c4953", "message": "Create a script to dump system config\n\nAlso change the VM mountpoint so we can access the utils directory from\nthe vm"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4c80b0dbf157caf74e9e2a731d0c0c883e61a43c", "message": "Update PATENTS file to version 2\n\nBlog post:\nhttps://code.facebook.com/posts/1639473982937255/updating-our-open-source-patent-grant/"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a3af53eec09dd7c84aac52d6f543d53a1575d956", "message": "Make sure re-generating thrift files do not override version\n\nFixes #107\n\nWhen modifying the thrift file, one needs to re-generate the python\nclasses by running make. This overrided\natc/atc_thrift/atc_thrift/__init__.py and remove thje __version__\nvariable.\n\nThis change just moves the versioning back in setup.py as we do not use\nit currently anywhere but with pip."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/088bf7dba27bc75af275387c62ef7caf2355e9cd", "message": "Merge pull request #96 from facebook/atcclient\n\nMAke sure the atc client UI is started upon bootup"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b27f6a463820b4217a318e1860aa77d7ddbb2f5e", "message": "MAke sure the atc client UI is started upon bootup"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c61493388b3c3738db0b9ad6943cee65451178f1", "message": "Merge pull request #89 from zfjagann/default-profiles\n\nDefault profiles"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/dfac6594325bd92f9b3f7e4e55bbfefd4091c996", "message": "Merge pull request #88 from chantra/more_tests2\n\nMore tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/47800c39b27c301da4c310e4387fc89e177d6a59", "message": "Handle the absence of /dev/log (like in containers...)\n\nShould make travis happy and while at it, add support for darwin's\nsyslog. We would default to localhost:514 on other platform"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/44510e46d9a21a91533ee9d010bb0b364c795abe", "message": "Add AtcdVService unittest\n\nIt only tests that the SyslogHandler is set for both the VService logger\nand for 'sparts.tasks' logger.... which is all AtcdVService override\nVService for."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/1ab71bf9e7ddc1030b89726748d73a9ad8d9eebb", "message": "Access manager tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c1674a459940a6162ed3c4bc7d6496d244747b83", "message": "Merge pull request #84 from chantra/pytest\n\nPytest"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9f647f623d43de0691560c9d7a0ce62c428bf72f", "message": "Add tests for AtcdDBQueueTask"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/36be00db39d2386ca591abd1887b5a5cff3ada2c", "message": "Update tests and run them"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/62e8f6d0994f36b834a6bf8d05800c96b11b9e8d", "message": "Merge pull request #81 from ddworken/patch-1\n\nAnother typo fixed"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/11b26d826579b9f485de1419b71d4ba1e21ccb34", "message": "Merge pull request #80 from chantra/missing_README\n\nFix pip install from .tar.gz"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4e1fb28cbac0c49d6e4a9927ff682f345204bafe", "message": "Fix pip install from .tar.gz\n\nFixes #77"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6e9bc98460bd5306c0a4437f3f366ab811904650", "message": "Merge pull request #79 from chantra/travis\n\nAdd Travis config"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/38e7630c0a0161d63fa7a5d74ce889cece96ad11", "message": "Enforce usage of container based travis + install packages"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8cd923323d0591fa12cb8afa22b48b754f527244", "message": "Enable travis to run the linters"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/144766066040d19f770fe056c5b1990c9739f4c8", "message": "Merge pull request #64 from chantra/update_readme_desc\n\nUpdate ATC description"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5e457c1e783d11ebab4143663d68c143970f56bf", "message": "Update ATC description\n\nFixes #61"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6fb2d0df112d49f7d9c76388a367a95a67b4f73b", "message": "Merge pull request #55 from tbfly/master\n\n!): Fix for \"make\" build error."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/cc1c3920b41df3e78684ba87490208d3c5fa427a", "message": "Initial release 0.1.0"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/490a585108b71b5f3336dd13088d3db9252b9f40", "message": "Remove all cruft from django settings.py"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/2e824eafeaff2f6a79e733791f8488b5680d1797", "message": "Merge pull request #51 from chantra/fix_proxy_ips\n\nEnable PROXY_IPS check for shaping API calls"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6662b2e606bbe3c02d323a5a4974d49474166473", "message": "Merge pull request #50 from chantra/update_readmes\n\nUpdate readmes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7ff6c7ac10abba66e5c7d69b0de2aed9b49293ad", "message": "Enable PROXY_IPS check for shaping API calls\n\nAlso makes PROXY_IPS default to ['127.0.0.1'] instead of '127.0.0.1'.\nEnd results is the same as '127.0.0.1' in '127.0.0.1' is True, but it is\nmore correct."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/2e6f9574bfea546d999f92b31a10c1f805b16811", "message": "Update ATC profile storage documentation"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f83becddd1f85236ad89047cfc08feeefd310356", "message": "Update ATC Demo UI documentation"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5b090a3e6b4159ce3dd99ecb9df50bb8b669c6cf", "message": "Update `atc_api` README.md"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4ebb15cb0cfdaeec79521435ddccc0182fa932ed", "message": "Update `atcd` README.md\n\nAdd documentation on how `atcd` works and how `tc` works"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b24dddc5bc906ea188eaf4b5b7fa60376d50a4f9", "message": "Remove requirements to pass tests until we have some proper tests."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/805db646dcf87843a10c470cdfb077a6430a6b38", "message": "Updated README.md at the root of the project"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/85fbf79bf8d057b768b267bba62166d8829125a3", "message": "Merge pull request #47 from chantra/fix_auth\n\nAssign the right IP to controllingIP when using the API"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6403bb7010f8e2cc18329be1785cf4cf812f192c", "message": "Assign the right IP to controllingIP when using the API\n\nSince GH #19 landed, we should have updated the API to correctly fill in\nthe `controllingIP`.\nThis diff correctly fills controllingIP from the client IP (handling\nproxies if needed) and controlledIP from the `address` (URL, payload or\ndefaulting to client IP)."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d45a83a57b8643d9f33c9a8ede94e24d1164f81d", "message": "run atcui-setup when provisioning a host.\n\nsince django 1.7 (which is one of our requirements), syncdb has been\ndecoupled. `migrate` only sync the db state but does not prompt to\ncreate a superuser.\nhttps://docs.djangoproject.com/en/1.7/ref/django-admin/#migrate-app-label-migrationname\nThis can be ran without user interaction allowing us to automatically\nset up our django app!\nThis also fixes a bug in atcui-setup that was not properly detecting if\nit was run as root"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/814b97f9cf092b253d1652be7a63fe09ae3e2ffe", "message": "Merge pull request #40 from zfjagann/proxyip\n\nAdded PROXY_IP setting for HTTP proxy"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/66b940162aa233f0f4acf1f771d318a593a19e0e", "message": "Force using /us/bin/env python, help with pip install from source"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/20ad49f3474f3d331b08cf50a440cc5ec19d8aa2", "message": "Change the default location of atcd's sqlite file.\n\nDefaulting to `/var/lib/atc/atcd.db` will cause `atcd` to fail to start\nif `/var/lib/atc` is not created before hand.\nThis will be an issue when people will install from source and we should\ndefault to a directory that we know exists by default on a system."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/31b86003c0ace1244735cca8e4d1d7cc0a529929", "message": "Ignore files generated while building pypi packages\n\nFixes #17"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d9f0096a3bc1cf720bd48d0e7f854a3b41ef98d1", "message": "Use setuptools instead of distutils\n\nThis allows to successfully run python setup.py bdist_wheel and\nuploading to pypi"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7ccd7f3d53950230a6a9b1a6ab8f4006bc208b75", "message": "Discover package version and automatically build/publich to pypi"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b7e19ee49fb935bfd0e2210cc8bc17582f76ed5e", "message": "Set up wheel distribution support"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a2f520dd8a4e64a32f43d694855310beb366c661", "message": "Merge pull request #28 from zfjagann/secure\n\nAuth changes for #18"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c22cc1f3d6d07ca16d9c3156443fbae9bfc407e9", "message": "Add licensing to files that were missing it"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e5162b955b53b8dd271d1fc62386b22c553fed91", "message": "Make django apps packages install properly\n\nMost python packages were not installing properly because we did not\ndefine all the packages and package_data that should have been\ninstalled. This issue is not happening when installing in dev mode as a\nsymlink is created to the actual directory, but when installing using\n`pip install package_name`, submodules, templates and static files were\nnot getting installed.\n\nFixes #32"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9953944e4a10479cc3f56dff233246a6f8d5f453", "message": "Documents atcd\n\nStart the documentation of atcd.\n\ncloses #30"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/aaa74513f8b947cf542b59408816be9ed1867644", "message": "Make atcd depends on atc_thrift package implicitely"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8e90f97e4c4ea3fce963c7bd8c684a7f93090d1c", "message": "Default to unsecure mode when running in dev mode (through vagrant)"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/29e9197560a7d0fbae9f4058caee9794935026e4", "message": "Allow configuring atc-dmode via chef\n\nDefaults to *secure* mode."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/81c0bbcb53c3e97e65767beab8224577e8fe0af9", "message": "Merge pull request #23 from zfjagann/profiles\n\nmore intuitive profile workflow"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9c517da9ad355530b60dddcb739b73e85d11b6f7", "message": "Merge pull request #22 from zfjagann/test-cleanup\n\nTest cleanup"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8330eef7e83ef6021f644e1984db597e64cd771c", "message": "Document ATC API usage"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/1901209ff706a07fab349466be00ff319b69c4ac", "message": "Enable setting atcd in *secure* or *unsecure* mode\n\nGH #18\nIn secure mode, a device can only shape traffic for itself, or devices\nit has had controlling access granted to.\n\nThis first diff only activate secure mode by default. Granted control to\nother device has not been tested as part of this diff.\n\nTest:\nstart atcd in unsecure mode:\n* test_secure_access.py succeed\n\nstart atcd in secure mode:\n* during start up, the previous shaping saved in DB is ignore:\n    WARNING:AtcdVService.AtcdLinuxShaper:Shaping Denied in secure mode,\npassing: The device 1.1.1.1 is not allowed to control 2.2.2.2\n* try to shape another IP running test_secure_access.py\n    TrafficControlException(code=14, _message='The device 1.1.1.1 is not\nallowed to control 2.2.2.2') raise\n* try to shape self with 'test_secure_access.py --self'\n    TrafficControlRc(message=None, code=0)"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f1823b70e2c4c49e584571282e516a399a570256", "message": "Merge pull request #15 from zfjagann/profstore\n\nProfile storage"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5601c7b3e5f54d290f22964c01fd54e4593f06d6", "message": "Specify when python should be installed from source"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a4652b24e96fbe39c81c672cd0833fad2a0dcfd4", "message": "atc recipe should not install ntpd"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/25672afadac9529b21b3139cc69a2a675ac8e770", "message": "Chef's vagrant boxes are available via shortnames.\n\nThis is much easier and discovereable than finding the right link to\naws.\nMore boxes are available at https://atlas.hashicorp.com/chef"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/caf8ed1bc8474eb3702ec09d5be749582a3ffa15", "message": "Allow shaping a different IP through the URL\n\nThe address to shape can be passed through a few locations: the payload or the URL. URL was being ignored so far. This fixes it by correctly passing the address through the view context.\n\nGH: #11"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9361f517cced26b1daec80cc611a5d66e4ffae31", "message": "s/air/augmented/"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/74abc3b04db05be84aea0d028deb067a24fef734", "message": "use jquery 1.11.1\n\nUI did not work with the previous django-jquery package. using\ndjango-static-jquery that allows us to use 1.11.1"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3714d120dd48d76f79a8f99915ab668bd8f3901a", "message": "Vendor react js and JSX transformer"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a252b11d7dd522851aecc1f7d908c37a5bb0212f", "message": "Install bootstrap theme via django-bootstrap-themes django app"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a4f5a2ab5410d5f39d3a3944fc404a2e4801bbdb", "message": "Install jquery via django-jquery package"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/abfef9107ea49c36a54da2a1f7c235ee6d637b3e", "message": "Fix unittest deprecated use of BaseException.message\n\nDeprecationWarning: BaseException.message has been deprecated as of\nPython 2.6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e48abc21860792794cb424693c4f881a0242c1ff", "message": "Do not install those packages as part of atc cookbook. A wrapper\ncookbook should do that instead"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/922f235e9bfe6bcc12af7fcf5f9d0c22ecbba478", "message": "DHCP ip for host only interface"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0080ba62176e0b368824b4e90e34aa3c20da06a8", "message": "Set up test-kitchen"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e9e8d29a25b5d9dad16b88f33929d1bf5f5db205", "message": "Update rubocop.yml"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/af444206de4206446e6ee5e16aa86acdb86d109f", "message": "pep8 and flake8 lint"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/05e68687b65738526da45800c942204ccb687544", "message": "fix lint"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/1ac00a00a5dca48f308a7b59ebd0a12e1b40c4c5", "message": "lint, not test"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/41a8220cc4a87eb1296966d25eca8a5e3aa7750d", "message": "Fix foodcritic lint and add check in 'make test'"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/40ffc9dd2134f2ac07001465b1391f57e8bb9d5c", "message": "Lint atc cookbook"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f62eea62744d2a2385eca63d0480b542e740ce08", "message": "Add a makefile to run test"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/97c8591558eddef2b8dfc01317827d4bca3dcc1e", "message": "Merge pull request #4 from zfjagann/atc-user\n\nChanged atc-user"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/fbaebfa42fd20bfaa13e72ad423f258397d02652", "message": "Adding README.md\n\nHigh level documentation"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4ccc84979469c118257f9d5300a3ee22c072d81f", "message": "Merge pull request #3 from zfjagann/python-workaround\n\nWorkaround python cookbook issue"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/feb9baa125134970704c99ae9617768e97c271f5", "message": "Merge pull request #5 from zfjagann/vagrant-disable-usbehci\n\nAllow disabling ECHI in vagrantfile"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3fa1cb284fc6dea951b7695a179d91aaea6783d1", "message": "Merge pull request #1 from zfjagann/master\n\nModified to use django-rest-framework ver 3"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a6c450e85846ec2d95ecbbe92c2cc23b4dbcc457", "message": "During initialization, forward the exception to the main loop.\n\nAt this stage we rather fail hard and not try to catch any kind of\nexception. If we cannot initializa properly, we better fail directly."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0e8ea7b59dd291d3f22f88941709395d4bee00f3", "message": "refactor _initialize_tc"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/fed5883cba537024eb682c3bd8fbec77478faaae", "message": "document Linux shaper"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0b684871b5bdbc34e8699a80629bb5b52da62f8c", "message": "Remove unused files"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3cb176d9e368d2419494f0abb3ec885c3bcba5ee", "message": "not needed since we use atc_thrift.thrift filename which resolve the\nnaming conflict"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/fa0b700f8b1b75283f4950c3e67c53e691c2ce0a", "message": "[atcd] we also need to copy the backends module"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9211ad3ade2dd15302c78d15dc37edf0d0612473", "message": "Make thrift generate new style python"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3ca27bd9432486555787ef9d0895a50d6974da82", "message": "[pyroute2] use .close() instead of deprecated .release()"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5fee47fc04f955f95e0abeebbe0cd2fae6c5e1e1", "message": "Initial Commit"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/68809794", "body": "Thanks @zfjagann \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/68809794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69691160", "body": "Tks @zfjagann I have a diff to land that fixes lint and foodcritic lint. I would prefer to have the diff on top of it and passing 'make lint'\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69691160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699675", "body": "you can use:\nchef > Chef::Platform::ServiceHelpers.service_resource_providers\n => [:debian, :invokercd, :upstart]\n\nAnd check if upstart/systemd is supported\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699675/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699994", "body": "The diff is much bigger than it actually should be. You text editor has replaced the 2 spaces indentations by 4 spaces (ruby lint wants 2 spaces).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69699994/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69721839", "body": "Also, this should not in the `attributes` file as it is not a configuration which is set, but should be discovered at run time in the recipe.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69721839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69802328", "body": "I have setup test-kitchen in 0080ba62176e0b368824b4e90e34aa3c20da06a8\nTo test on every platform from scratch, you can run:\n`kitchen test`\n\nto just reprovision without destroying the vm and recreating it:\n`kitchen converge`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69802328/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69827898", "body": "side effect of this diff is that it should make the cookbook work with centos7 which names the devices like: enp0s3, enp0s8\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69827898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69843989", "body": "look good to me. I would be tempted to get #6 merged first so we should be able to enable centos7 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69843989/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335469", "body": "I am not sure. I cant really reproduce this using master. Using the payload you mentioned and posting that to  http://localhost:8080/api/v1/shape/ , atcd is shaping correctly:\n\n```\nFeb  6 23:52:51 trusty Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='10.0.2.2', c\nontrolledIP='10.0.2.2'), timeout=86400, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=0.0, correla\ntion=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=10000, iptables_options=[], corruption=Corruption(pe\nrcentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percen\ntage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=10000, iptables_options=[], corrupt\nion=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0))))\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335594", "body": "```\n{u'down': OrderedDict([(u'rate', 0), (u'loss', None), (u'delay', None), (u'corruption', None), (u'reorder', None), (u'iptables_options', None)]), u'up': OrderedDict([(u'rate', 0), (u'loss', None), (u'delay', None), (u'corruption', None), (u'reorder', None), (u'iptables_options', None)])}\n```\n\nIsn't this the defaults for the serializer and the it get populated as the payload is de-serialized?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625045", "body": "doesn't repro by posting the payload:\n\n```\n{\"address\": \"192.168.20.10\", \"down\":{\"rate\":10000,\"loss\":{\"percentage\":0.0,\"correlation\":0.0},\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0.0},\"corruption\":{\"percentage\":0.0,\"correlation\":0.0},\"reorder\":{\"percentage\":0.0,\"correlation\":0.0,\"gap\":0},\"iptables_options\":[]},\"up\":{\"rate\":10000,\"loss\":{\"percentage\":0.0,\"correlation\":0.0},\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0.0},\"corruption\":{\"percentage\":0.0,\"correlation\":0.0},\"reorder\":{\"percentage\":0.0,\"correlation\":0.0,\"gap\":0},\"iptables_options\":[]}}\n```\n\nto `/api/v1/shape/`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625045/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625347", "body": "yeah it should be the same. I will see what I can do.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73632455", "body": "Re-assigning to myself as discussed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73632455/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73633390", "body": "`curl -H \"Content-Type: application/json\" ...`\n\nshould fix your issue....\n\nWe should try to find a saner way to fail though\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73633390/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73634161", "body": "This is due to how _django-rest-framework_ works:\n\nhttp://www.django-rest-framework.org/api-guide/parsers/\n\n```\nNote: When developing client applications always remember to make sure you're setting the Content-Type header when sending data in an HTTP request.\n\nIf you don't set the content type, most clients will default to using 'application/x-www-form-urlencoded', which may not be what you wanted.\n\nAs an example, if you are sending json encoded data using jQuery with the .ajax() method, you should make sure to include the contentType: 'application/json' setting.\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73634161/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/74956235", "body": "@zfjagann is this ready to land?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/74956235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/75669715", "body": "LGTM, we should document the code though but this is about the whole project that needs to be double checked for documentation so we can leave this to other tasks.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/75669715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/76483891", "body": "I used the config from PR #21 . I did try a name with a space first, and then without a space.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/76483891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77279235", "body": "I did not do anything special that should  have prevented it from working as expected. The work flow was something alike:\n- set some shaping  values\n- click on add profile\n- enter profile name\n- saved profile\n\nAfter this, the list would still be empty. Reloading the page would not help. I am pretty sure I did run the Django migration script ... so the dB should have been there.\n\nWill check again later to see if I did anything stupid. But if I did something stupid, an error  message should have been thrown to me and not be discarded silently.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77279235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77404765", "body": "ok, confirmed that /var/django/atc_ui/db.sqlite3 was owned by root. I had run the atcui-setup as root .... so the script should be modified to run the `manage.py` script with the right credentials which basically means the whole script altogether should be ran as the user than is used to run the UI.\n\nI will capture that in another task.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77404765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77480223", "body": "I did not check the source, but it is still working :) so #seemslegit !\n\nStill, if there is an error writing to the DB (db not writable for instance), it is silently discarded and nothing shows up to the user which is not ideal.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77480223/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77481774", "body": "I agree... but still at this stage, there is no visible signal given to the user that something went wrong which is not the best either. While the low level details may find their way in the logs, the user need to be given some form of info that it did not work.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77481774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77923467", "body": "Actually this diff is missing 1 thing to be self contained. I should update the init/config files to handle this option and make the chef recipe default it to unsecure.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77923467/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972022", "body": "Only the proxy should pass on the information about the real ip. We should only consume the X_REAL_IP header when it comes from an authorized proxy (defaulting to localhost).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972022/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972338", "body": "Nice!\nWe should also standardize the naming. We have a mixture of {controlled_,controlling_}{ip,addr}\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972338/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972649", "body": "Yeah either that or within the django app config. I think the latter makes me sense. The atc ui config desks mitte with gunicorn... this seems rather django app specific. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78428459", "body": "BTW, the `get_packages` and `get_packages_data` were based on django-rest-framework'setup.py\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78428459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78566350", "body": "Yeah, I am basing it on some internal doc we have. expect a PR for review soon.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78566350/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78576304", "body": "https://hynek.me/articles/sharing-your-labor-of-love-pypi-quick-and-dirty/ contains doc on staging packages.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78576304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78603891", "body": "WIP: http://chantra.github.io/augmented-traffic-control/\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78603891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78657796", "body": "whitelisting  of proxies will be done as part of #36 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78657796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78658892", "body": "Closing since #28  as landed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78658892/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79254668", "body": "yes, `twine` and `wheel` are required dependencies to publish to pypi and the setup file will actually barf when they are not installed.\n\nI am not sure it is worth documenting anywhere. When this will be public, only people pushing to pip will need to care about it. all you will need is to have your pypi account setup and run the python setup.py publish.\nA makefile or something should take care of the documentation.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79254668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79457743", "body": "`Running setup.py install for thrift`\natc_thrift depends on thrift. thrift get built at install time, but this is a totally separate package,\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79457743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/82087642", "body": "I this there is very little chances somebody guesses the URL but we can keep it here until later anyway.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/82087642/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83111592", "body": "oh yeah totally, hence the enhancement tag.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83111592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83121609", "body": "this is one of the default github label. I understand enhancement as something that is working and may be improved, hence low pri, vs a bug that would mean that something is not working as expected and implying higher priority to be fixed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83121609/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83122723", "body": "fair point. We can also use milestones though.\nFeel free to had a wishlist, and rephrase enhancement as you see fit.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83122723/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83772869", "body": "http://www.django-rest-framework.org/topics/ajax-csrf-cors/ explains why we need csrf token for now. There may be room for improvement though.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83772869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/84844939", "body": "fixed as part of 7ff6c7ac10abba66e5c7d69b0de2aed9b49293ad\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/84844939/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85640958", "body": ":) @ayufan Nice! Too bad I did not run into it before. Looking at the timeline, we had  already started our hack sessions on `ATC` and our first versions of `ATC` were pretty close to your solution.\n\nThe issue is not going to be iptables/tc as this is already included in the WRTs. I have actually little to no experience with WRTs, but the biggest issue is most likely going to get the whole python stack in. I am not even sure WRT ships the python interpreter by default.\n\nAnyway, this is something that is definitely worth checking.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85640958/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85650148", "body": "Thanks @tbfly for your PR.\n\n@zfjagann the new linters are catching more errors than they used to. @tbfly is caught most of them and it seems newer linters catch even more.\n\n```\nrubocop chef/atc\nInspecting 13 files\n..C..........\n\nOffenses:\n\nchef/atc/recipes/atcui.rb:78:5: C: Indent the first parameter one step more than the previous line.\n    :systemd\n    ^^^^^^^^\npep8 atc\natc/atcd/atcd/AtcdThriftHandlerTask.py:284:29: W503 line break before binary operator\nmake: *** [lint] Error 1\nflake8 tests/\ntests/__init__.py:9:2: W292 no newline at end of file\ntests/vagrant.py:11:1: F401 'call' imported but unused\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85650148/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85727110", "body": "Hi @abackholm ,\n\nThanks for the feedback. Currently, ATC works at the IP layer currently and does not keep state of the connections.\nI do not see any easy ways to do this currently.\nOne way that could work would be to use a thread that would use nfqueue and apply the right verdict. This would be most likely pretty resource intensive compare to the current design.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85727110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85730412", "body": "@jasta yes that seem right.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85730412/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85731527", "body": "@richb-hanover Thank you for the feedback.\nThats right, that the description is not really descriptive :) I will fix this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85731527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85839019", "body": "Hi @rbhat0987 unfirtunately, we do not support python 3 yet. While the print issue may be quite easy to fix, there would be most likely a slew of other issues. Can you get a python 2.7 install alongside python 3.4 ?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85839019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86080427", "body": "@rbhat0987 Also, maybe I should have been a tad more descriptive, but we only support Linux. While there is a good chance that you can run the web interface on windows, the `atcd` daemon will not run on windows,\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86080427/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86080650", "body": "Marking as `invalid` for now as there is no plan to support windows.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86080650/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86081877", "body": "Hi @cjy56789 ,\nthank you for reporting this. Unfortunately, neither windows, nor python 3 are supported.\nWhile you should be able to get the web interface to work on windows providing that you use python 2.7, there is no chance you can run `atcd` on windows.\n\nTks\nclosing as dup of #65 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86081877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86084324", "body": "Hi @boxerxing \nthank you for reporting this. Unfortunately, we only support Linux for now.\n\nThe `darwin` backend could be implemented, but this is not yet on the roadmap. If you want to give it a try, PRs are welcome :) .\nI believe `pf` can provide the same functionality on MacOSX/BSD, but I have not really given it a look.\n\nAlso, mind that `ATC` must run on a gateway, so to be able to have ATC to shape you traffic, it should be routing the traffic of the devices you want to shape the traffic for.\n\nIf you want to fiddle with ATC, you can run it in a VM though as explained in http://facebook.github.io/augmented-traffic-control/docs/contributing.html\n\nThis is mainly use for developing on ATC and/or testing, but that can give you a good overview on how it works.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86084324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86093292", "body": "Hi @dtaht ,\n\nThanks for the feedback. I guess it will take some time to process, but I really appreciate the feedback.\n\nLet me try to answer some of the questions/statements though:\n\n0) Policing is the only way we found at dropping packets when going above the allocated bandwidth. To be honest, there should be better ways of doing it, but this seemed to worked and reproduce the behaviour we expected. That being said, if you have any better suggestion, please feel free to tell us.\n\n1) IIRC, 1000 is just set by default\n\n2) Same here, I think this is just a default\n\n3) What would be better? Anything you believe could be better?\n\n4) I have never heard of fq_codel, is this in mainline kernels? I see ubuntu trusty has it, I am not sure about CentOS 6 which we want to support too.\n\n5) Thanks for pointing to this. cc @zfjagann whom started implementing e2e test\n\n6) Thanks. I will check it out.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86093292/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86151201", "body": "uses iptables + tc subsystem\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86151201/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86153470", "body": "No, we do not support python < 2.7\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86153470/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86153868", "body": "lgtm. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86153868/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86159683", "body": "Hi @doging8050 \nThanks for submitting a PR, however, I am not clear on the intent here. We do want to have the branch gh-pages just containing the web page and not ATC source.\n\nI guess this was not intended. I will close this as invalid for now. Please feel free to open a new PR if needed.\nTks\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86159683/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86603715", "body": "@boxerxing \natcd needs to run on a device that routes traffic. To do that, it needs 2 interfaces:\n\n```\nException: One of the following interfaces does not exist: eth1, eth0\nERROR:AtcdVService:Unexpected Exception during init\n```\n\nTypically, one of the network interface is connected to your internal network (can be configured with --atcd-lan and defaults to eth1) and one is connected to your uplink to the internet (--atcd-wan and defaults to eth0)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86603715/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86605081", "body": "I think we need to make a better job at providing a getting started page.\nDid you read http://facebook.github.io/augmented-traffic-control/docs/install.html ? To you meet the requirements (Linux on a routing device....)?\n\nCan you give more details about your setup?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86605081/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86606616", "body": "@jinkerry \nCan you provide the output of:\n`pip freeze`\nIt looks like version of `six` you are using does not have the `queue` module.\n\nAs an example, here is the version we have on a working instance:\n`six==1.8.0`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86606616/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87070166", "body": "I could repro on ubuntu 13.10. It does not seem to use the wheel package.\n\nI will fix this.\n@codingstyle In the meantime, you can install from source.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87070166/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87073170", "body": "It seems it would be sufficient to add the readme in MANIFEST.in\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87073170/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87108825", "body": "Hi @IoDmitri \n\nUnfortunately, ATC only supports Linux currently. We have obviously made a bad job at communicating this and are emphasizing this in some more obvious way.\n\nHopefully,  http://facebook.github.io/augmented-traffic-control/docs/install.html is clarifying the requirements.\n\nDup #68 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87108825/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87132556", "body": "@codingstyle This will make it into 0.1.1 which I believe we will get out soon once we have piggy backed a few other issues that went through the net.\nIn the meantime, installing from source using the following command from the root of the repository:\n\n```\npip install atc/atc_thrift/ atc/atcd/ atc/django-atc-api/ atc/django-atc-demo-ui/ atc/django-atc-profile-storage/\n```\n\nshould work.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87132556/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87135686", "body": "So, looking at your output, there is one thing that will not work even after this issue is fixed: ATC does not run on anything other than Linux.\n\nAside from that, I have installed on a Mac host a brand new virtualenv with python 2.7.6, installed atcd and six==1.9.0 and cannot reproduce  the issue when importing:\n\n```\nfrom atcd.scripts import runner\n```\n\nor running `atcd`\n\nAnyway, I will close this one for now as this is happening on a platform that is not supported. Thanks for reporting the issue in the first place though.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87135686/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87136602", "body": "Thanks @ddworken !\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87136602/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87757644", "body": "Hi @wwewwt \n\nYou will need to make sure your notebook acts as a router. What that will entail is roughly:\n- your laptop will need to forward packets\n- you will (most likely) need to set up natting on the wired interface\n- you may need to set up a DHCP server that will distribute IP to your wireless devices (or could set static ips)\n- set atc on the router and then get the devices to connect to http://ip.of.the.router.wireless.interface/atc_demo_ui/\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87757644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87759206", "body": "Also, you may want to use virtual machines for this. It is technically possible to attach your wireless adapter to a VM and set up router in the VM.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87759206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87835995", "body": "I still did not get a chance to read through/watch those documents, but at least for 2) those were example output which did not represent real traffic, which is why the stats are not showing anything going through.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87835995/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88140760", "body": "Hi @borepstein \nAs per [1](http://facebook.github.io/augmented-traffic-control/docs/install.html), ATC currently only support python 2.7. While we could port atc code itself to python 3, currently the python thrift binding only support python 2.X\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88140760/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88141322", "body": "@wwewwt what values did you enter for _bandwidth_?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88141322/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88141860", "body": "@ohorodnichuk the bandwidth limit is set by the class:\nuse:\n`tc class show dev eth0`\n`tc class show dev eth1`\n\nreplace eth0 and eth1  with your up/down links\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88141860/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88142809", "body": "@nitint007 what OS are you running?\n\nprovided that you did not install `atc` in a virtualenv, the commands provided by @ohorodnichuk should work.\n\nRegarding sudo, as @ohorodnichuk mentioned, this is the passphrase of your user.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88142809/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88143718", "body": "@wwewwt I am happy to hear that this is working for you now.\n\nThe demo UI is pretty minimalist and I believe we should have made a better job at surfacing the error messages.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88143718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88162912", "body": "Hi @borepstein \n\n> It looks like the installation command:\n> pip install atc_thrift atcd django-atc-api django-atc-demo-ui\n> django-atc-profile-storage\n> does not run under python 2. So do I need to install using python 3 but\n> then run it using python 2?\n\nIn that case, you will have multiple `pip` version installed. For instance, on a host that has python 2.6 and python 2.7 installed, you would have pip-2.6 and pip-2.7 with pip symlinking to one of the 2.\nIn that case, you should make sure that you use the right pip version when installing.\nWhen using `virtualenv`, the right python interpreter can be specified with `-p` option as in:\n\n```\nvirtualenv -p python2.7 myvenv\n```\n\nGoing back to ATC requirements, we only support **python 2.7** currently. You may want to try python 2.6, but this is most likely not going to work without tweaking things.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88162912/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88167756", "body": "@wwewwt While I do not have specific values to share, during F8, we also open-sourced\n\nhttps://github.com/facebook/network-connection-class/\n\nYou may find https://github.com/facebook/network-connection-class/blob/master/connectionclass/src/main/java/com/facebook/network/connectionclass/ConnectionQuality.java interesting to get and idea of connection class  ranges.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88167756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88238432", "body": "I will close this as this is more an issue in using sudo for you specific OS. `atcd` will not ask for your passphrase.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88238432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88537679", "body": "Hi, what is the content of the iptables' mangle table as the device is being shaped? You should see entries for the device's ip being marked.\nAlso dumping the atcd logs somewhere like pastebin could help.they may be in /var/log/daemon.log if not check in other log files. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88537679/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88539716", "body": "Make them fixtures of the django-atc-profile-storage app so they can be installed as part of the django migration script. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88539716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88542513", "body": "Hi,\nCould you send the relevant content from atcd logs (/var/log/daemon.log on Debian iirc,you may need to check other files if not there) and put that in a pastebin. \nThe limit of 4g means that there is no limit (you have set the bandwith to 0 or null).\nSpeedtest are pretty hard to rely on, mainly with low bandwith and potential packet loss/corruption. A test should be performed with only the gateway in the middle. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88542513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88564027", "body": "@borepstein thanks for sending this over. That looks right.\nCan you also send the client and server's ip route.\nAlso, please join #atcd on freenode, it may be easier to work on this interactively. there is a web chat available at https://webchat.freenode.net/\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88564027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88569242", "body": "@borepstein no, you do not need to be invited. did oyu enter the right channel name? **#atcd**\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88569242/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88572206", "body": "@borepstein \nhere is the issue as much I can see from the output.\n\nClient has IP 192.168.120.X and default route through the ATC gw at 192.168.120.1.\nThe gateway as also a WAN interface 10.1.3.X on which you do natting.\n\nThe traffic is being shaped for  **10.5.4.127** . Is this your host IP? \nAre you connecting to the ATC UI from the client? or from the host?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88572206/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88577931", "body": "@borepstein because you control the UI from your desktop, ATC is setting shaping for this IP (which is not routed through).\nYou need to initiate the connection to the UI from the client.\n\nAlternatively, you may want to check how to use the API: https://github.com/facebook/augmented-traffic-control/tree/master/atc/django-atc-api\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88577931/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88586238", "body": "@borepstein it shapes the traffic on a per IP basis (see the mangle table mark the packets and those marked packaets are being shaped)\n\nClosing as you are up and running now,.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88586238/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88656321", "body": "@borepstein are people accessing ATC through a natting device? making them all look like they come from the same IP?\nATC would not know about that and anybody setting new settings will make all devices behind the same IP being shaped.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88656321/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88692407", "body": "@rbhat0987 what are you trying to figure out regarding `atcd`? this will simply not run on windows because it depends on linux specific utilities like iptables and the netlink subsystem.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88692407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89339457", "body": "@borepstein you are referring to can be found here: http://lists.netfilter.org/pipermail/netfilter/2000-November/006089.html\nFor testing purpose you could add an extra layer of routing (e.g ATC routes through another host that does the natting), this way that would rule out the nat/marking conflict.\nOr depending on your setup, you can simply route the traffic to the `lan` network to route though the `atc`. This will really vary depending your network, but here is 1 potential setup:\n- atc's wan interface is in bridge mode and the next hop nats the traffic, in this case you will need to tell the next hop to route your atc lan subnet via the atc's wan ip ( and stop natting)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89339457/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89366366", "body": "The mark is internal to the host only.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89366366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89394069", "body": "@borepstein I guess I do not have any quick solution to how to remedy this.\nWe will try to repro when we get time for it, in the meantime, I would suggest you fiddle a bit with the settings to find something that you feel representative of what you want to test.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89394069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89438251", "body": "well, it survives routing across interfaces.... not across hosts.\nMy point is that the packets going out of the ATC box are not marked.\n\nWe are indeed marking packets on the WAN interface to shape them on the LAN interface, and packets on the LAN interface to be shaped on the WAN interface.\n\nI seriously  doubt the marks make it out of the box, I dont really see where they would fit in the IP stack anyway. If there were, it would mean that something along the way also needs to handle those marks.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89438251/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89438425", "body": "The setup we have is a router inline (no natting at the ATC level). \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89438425/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89889404", "body": "Ok, so I have been doing some iperf test and can confirm that we indeed get the throttling rate we expect.\nUDP iperf has been reporting the right bandwidth. Using TCP, the rate will become pretty low as there is a lof of packet dropped and retransmission ... happening. \n\nyou could use chantra/augmented-traffic-control@8961db07784a9a30283414e66c33768e64519870 and start atcd with:\n\n```\natcd --atcd-dont_drop_packets\n```\n\nAnd packets will be queued on the ATC device instead of being dropped. This will have the effect on having packets queueing up and getting out the atc router at the throttling rate.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89889404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90160514", "body": "@borepstein \n\n> So just to be sure - you were saying that ATCD itself - not the kernel - would drop the packets. Because one idea of mine was to try and tune up the kernel - in case it was the kernel responsible.\n\nWell, this is the kernel that does the heavy work here. ATCD is only instructing it how to do it by setting new TC values over netlink.\n\n> The code - the two files on the branch - does not seem to contain the\n> actual string for the option: --atcd-dont_drop_packets I played a bit with\n> the string (changing \"-\" to \"_\" and vice versa) but no luck so far. Is\n> there a piece to this I am missing by any chance?\n\nSorry, my bad, it should be `--atcd-dont-drop-packets`. Now you are most likely running the old version because it got installed through pip. You should install the new version.\n\n```\npip uninstall atcd\npip install /path/to/atcd/\n```\n\nshould help.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90160514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90352998", "body": "Hi @kimjungyeon \nYes that should be fine, make sure your wifi adapter can do AP mode, that you authorized forwarding packets and that you nat the traffic going out through the wired interface.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90352998/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90631200", "body": "@borepstein \nI did not commit it, it is on my personal branch: https://github.com/chantra/augmented-traffic-control/tree/no_drop\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90631200/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90690063", "body": "@borepstein \nWell, typically, some buffers would eventually fill up and drop packets. I agree that we have some rather arbitrary values here and there is room for improvement here. We had a task to make the dropping configurable which in essence is somewhat what the diff I linked here does.\nI am going to revive this and folow up in a separate task.\n\nI believe this task is somewhat resolved or at least alternate solution are provided. I will close it for now.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90690063/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90691197", "body": "well, the way we set up the policy when going above the limited rate is changed to queue instead of droping.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90691197/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/92084085", "body": "@wildpeanut could you give more details on what step you did to trigger this please. \n\nI can't get to reproduce this from a new vm even when triggering the restart:\n\n```\n==> trusty: [2015-04-12T16:02:32+00:00] INFO: template[/etc/default/atcd] sending restart action to service[atcd] (delayed)\n==> trusty: [2015-04-12T16:02:32+00:00] INFO: service[atcd] restarted\n==> trusty: [2015-04-12T16:02:32+00:00] INFO: Chef Run complete in 45.094454378 seconds\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/92084085/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93507732", "body": "@wildpeanut so you are hitting this issue even on a brand new setup. The puzzling part here is that the error says:\n\n```\nNo such file or directory - /etc/init.d/atcd\n```\n\nbut the logs shows that file was created just before.\n\nIf you ssh in the host, is the file there? Can you run:\n\n```\nsudo /etc/init.d/atcd restart\n```\n\n?\n\nI still havent been able to repro this, making it somewhat hard to diagnostise.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93507732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93517793", "body": "Ok, so I have literally nuked the  VM, deleted the box from vagrant cache and the issue is not reproducing for me.\nCan you start re-provisioning from scratch?\n\n```\nvagrant destroy trusty\nvagrant up trusty\n```\n\nDoes it repro?\n\nFWIW, here is my setup:\nvagrant-berkshelf (4.0.2)\nvagrant-omnibus (1.4.1)\nvagrant-share (1.1.4, system)\n\nvagrant version  1.6.5\nchef version that get installed by omnibus: Chef 12.2.1\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93517793/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93563900", "body": "@borepstein  The policy is set in https://github.com/facebook/augmented-traffic-control/blob/c61493388b3c3738db0b9ad6943cee65451178f1/atc/atcd/atcd/backends/linux.py#L322\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93563900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93842841", "body": "Hum, it never happened to me...... so I tend to believe it is not an issue with the provisioning :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93842841/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94060959", "body": "Hi @JasonLZJ \n\n> This is my url.py\n\nI assume you mean `urls.py`\n\nIs the atc_api module enabled in `settings.py`? Could you pastebin the whole stacktrace if this still happen so we have more data to troubleshoot. Tks\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94060959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94625891", "body": "@JasonLZJ \nare both atcd and the web server running on the same host?\nCan you check that atcd is indeed running?\ncan you run:\n\n```\nsudo netstat -lpnt | grep atc\n```\n\nand paste the output.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94625891/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94931182", "body": "Hi @JasonLZJ \n\nso somehow, you have managed to set some shaping for 127.0.0.1 and 192.168.1.102 .\n\nI am not exactly sure what you mean by you click on \"turn on\" and get a 404. Does the button stays on \"turn on\"? Or does it change to \"Turn off\"?\nIf you were going to navigate to /api/v1/shape/ do you get a webpage that is similar to the screenshot in http://www.django-rest-framework.org/ ?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94931182/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94999736", "body": "@JasonLZJ \nwhat about:\n\n> If you were going to navigate to /api/v1/shape/ do you get a webpage that is similar to the screenshot in http://www.django-rest-framework.org/ ?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94999736/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96143477", "body": "Hi @Amolwale ,\n\nIs the traffic you are trying to shape forwarded by your Ubuntu machine? e.g is you ubuntu machine acting as a routing hop for the devices you want to shape the traffic for?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96143477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96420818", "body": "Hi @mrjedi \ndid you swap the values of --atcd-wan and --atcd-lan ? They default to eth0 and eth1 respectively. In your case, they should be swapped, so you should start atcd with a command like:\n\n```\natcd --atcd-wan eth1 --atcd-lan eth0\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96420818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96420943", "body": "I think I missed read this task.... Are you saying that the traffic is not being shaped? Or not being forwarded?\n\nIf you were taking ATC out of the picture, does your device route properly?\nATC will only take care of shaping the traffic, so you should make sure you have a functional routing device first. There is plenty of documentation on the internet for this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96420943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96490249", "body": "ok, could you give me more details about your setup.\n\nCan you make a gist ( https://gist.github.com/ ) with the output of:\n\n```\nip route\niptables  -nvt mangle -L\nfor i in qdisc class filter; do for j in eth0 eth1; do c=\"tc $i show dev $j\"; echo $c; $c; done; done\n```\n\nAlong with the content from `/var/log/messages` that get generated when a device shape its traffic.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96490249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96491623", "body": "@wildpeanut I am checking if you have any update on this task. Is the issue still happening?\nIs `/etc/init.d/atcd` on the hosts? Can you run\n\n```\nsudo /etc/init.d/atcd restart\n```\n\nManually? Does this work?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96491623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96725250", "body": "Hi\nSo you have to use ppp0 as wan and eth0 as lan.\nFor the logs, grep for Shaping in your logs to find the log file.\nFrom the output you sent, traffic for localhost was being shaped using eth0 and eth1. You need to trigger the shaping from the device that you want to be shaped, not from the router. There is no way the router knows which to shape without initiating the query from the device or explicitly telling it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96725250/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96749475", "body": "Hi @ankit-ankuagrawal \nThe idea here is that you want to set:\n1) an Access point in the windows VM\n2) create a second interface for your VM and connect it to the WIFI network adapter in bridge mode\n3) Have your VM set as a router (ip forwarding and also natting in this case)\n4) Have the VM provide dhcp service on the second adapter (for the wifi basically)\n5) set ATC on that VM.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96749475/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96783392", "body": "@mrjedi \nNice to hear. Thanks for letting me know.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96783392/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97143377", "body": "Hi @biosed \nHave you installed all the modules? like `django-atc-api` ... ?\n\nDid you had them to INSTALLED_APPS and urls.py?\n\nDid you run django's migration script? `python manage.py migrate`\n\nWhat happen when you go to  http://ip_of_atc:8080/api/v1/shape ? Do you get a page from django rest framework? or any error?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97143377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97149543", "body": "@JasonLZJ \nDid you get a chance to load page http://youratcuiserver:atcuiport/api/v1/shape/ ?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97149543/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97159331", "body": "So it seems the static files are not being distributed.\n\nCan you check why. Using chrome developer tool should help finding what goes on. Basically we need to find why the files from:\n\n```\n    <script src=\"/static/vendor/react/react-0.12.2.min.js\"></script>\n    <script src=\"/static/vendor/react/JSXTransformer-0.12.2.js\"></script>\n    <script type=\"text/jsx\" src=\"/static/js/atc-api.js\"></script>\n    <script type=\"text/jsx\" src=\"/static/js/atc-profile-storage.js\"></script>\n    <script type=\"text/jsx\" src=\"/static/js/atc.js\"></script>\n    <link rel=\"stylesheet\" href=\"/static/css/atc.css\" />\n    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->\n    <script src=\"/static/static_jquery/js/jquery.min.js\"></script>\n```\n\nare not being distributed.\n\nIf you run django in debug mode and have `django.contrib.staticfiles` in your installed apps, this is the default.\n\nTry to access those .js files and confirm that you are not getting a 404.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97159331/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97166733", "body": "@biosed \nCan you check that **ALL** the .js file are loading. It looks like `/static/js/atc.js` is not loading in your specific case but please test each of the .js files frpm the list above.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97166733/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97176900", "body": "Hum, I really cant repro this even after a fresh deploy and using safari.\nLet's rule out the browser... can you reproduce this on chrome and firefox?\nCan you repro after flushing the cache?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97176900/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97184566", "body": "@wildpeanut did you get a chance to check if the file existed in the VM, could you restart the service using:\n\n```\nsudo /etc/init.d/atcd restart\n```\n\nI am afraid at this stage I don't have any ways to reproduce the issue.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97184566/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97279082", "body": "@JasonLZJ I understand that things are working now, correct?\n\nCould you share what you had to change to get to a working state? This may be useful for others in the future.\nTks\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97279082/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97279459", "body": "@JasonLZJ Any chances you share why it was not working originally?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97279459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97280348", "body": "Thanks for sharing @JasonLZJ !\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97280348/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97481700", "body": "Hi @biosed \n\nDid you get a chance to try different web browsers? Does that fix your issue?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97481700/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97483011", "body": "Hi @ankit-ankuagrawal \n\nI hope those indications are enough to get you going. I will close this issue for now. Feel free to jump on freenode's #atcd irc channel if you have any questions. We will be able to help you in a more interactive way.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97483011/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97498656", "body": "@yogesh5655 @Amolwale \n\nI am not sure what Ubuntu internet sharing entails, but I think we can safely assume that it will set up ip forwarding + natting.\nFrom the examples I see on the internet, I am not sure it will set a DHCP server on your behalf though, so you will have to set this yourself, or set static ips to the devices.\nThere is plenty of tutorial on the internet that would cover any of those settings for your favorite Linux distribution.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97498656/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97845954", "body": "Hi @SummerHaze \nSo you will most likely never get the exact numbers using a speedtest,  #90 goes over some of the details. In a nutshell, TCP will start retransmitting packets... and the bandwith you assign are going to be different than what the speedtest report.\n\nThat being said, in you case, the link is faster than what you have set.... so basically, you most likely not have set shaping for your device.\nYou mention `127.0.0.1:8000` .... did you start the shaping locally? If you want to shape let say your iphone, you must connect to the UI using your iphone and turn on shaping from your iphone.\nIn your specific case, you are most likely shaping 127.0.0.1, which turns out to not shape as shape tagging is applied upon forwarding packets.\n\n> May I know your testing methods? Or make a recommendation\uff1f\n\n#90 will answer this question\n\n> BTW, is bandwidth setting( uplink/downlink) on the management web the average or the maximum value?\n\nSome burst can happen, but it is safe to say it is the maximum.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97845954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97848594", "body": "@biosed \nShaping only applied upon forwarding and leaving interfaces eth0 and eth1.\nThe fact that you have the interface IP local to your host, the traffic will not be forwarded but delivered locally. Preventing 2 things to happen:\n- Tagging packets when forwarding them\n- shaping those packets when they leave the host (assuming they would have been tagged, they will never go out of eth1 anyway).\n\nTo have a valid set up, your traffic needs to go through the host running ATC. You cannot shape traffic from the ATC host itself.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97848594/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97860796", "body": "@Amolwale @yogesh5655 \nIn order to have ATC shaping your traffic, it needs to be on a host that routes and forward the traffic. ATC will not take care of setting this up, it's sole purpose is to shape the traffic that is routed, not to configure the router to route.\nSo prior to setting ATC, make sure your device can route and forward the traffic correctly.\n\nAlso, from the same host, pinging each other interface is only triggering some local traffic, not forwarded traffic.\n\nAt this stage, it is not an ATC problem but rather setting a router. There is documentation on the internet that should help you setting your favorite distribution as a router.\nI will close this task, feel free to open a new one when you have a functioning router and have issue with ATC itself.\nI am more than happy to help with setting up routing on the ATC host, but I would take this discussion to a more interactive channel on #atcd irc channel on Freenode.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97860796/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97925921", "body": "@biosed so I don't have an ios device to test on handy here.\n\nIs this only happening only on 1 ipad? or any ipad? The fact that it affects any browser on ipad is puzzling. I would assume the javascript engine of chrome on ipad is the same than the one on desktop.\nI know this works correctly on Android. If you have a chance to use another ios device and confirm this affect all of them, please let me know.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97925921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97939263", "body": "@wildpeanut \n\nI did not get any updates from your side. I have not been able to reproduce this issue so it is not much I can do for now. I will close this task for now. If you can reproduce the issue still, please provide the results to the test I have asked you earlier.\nTks\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97939263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/98004313", "body": "@biosed so I have tried Safari on an iPad and could not repro so I can help much.\nYou may want to use the javascript console to find out what happens.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/98004313/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253538", "body": "This is definitely not the right place. It is the job of ohai to detect those kind of things, so you may want to make a ohai plugin to discover the init system used by the host.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253545", "body": "Foodcritic lint complains about:\nFC048: Prefer Mixlib::ShellOut: chef/atc/attributes/default.rb:74\nFC048: Prefer Mixlib::ShellOut: chef/atc/attributes/default.rb:75\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253579", "body": "that fails to provision when provisioning trusty:\n\n==> trusty: ================================================================================\n==> trusty: Recipe Compile Error in /tmp/vagrant-chef-2/chef-solo-1/cookbooks/atc/attributes/default.rb\n==> trusty: ================================================================================\n==> trusty:\n==> trusty:\n==> trusty: Errno::ENOENT\n==> trusty: -------------\n==> trusty: No such file or directory - /usr/lib/systemd/systemd\n==> trusty:\n==> trusty:\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9253579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270227", "body": "lint :s\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270227/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17604243", "body": "This is not taking into the case in #270, e.g\n- createGroup {ip}\n- createGroup {ip}\n\nresult: we have 2 groups, 1 empty and the other one with {ip}\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17604243/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619088", "body": "I meant the unit test does not seem to cover the specific flow of create/create and confirm only one group is left.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619088/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736080", "body": "Let separate this diff from the rest in another PR. Also we should monitor when the upstream version is bumped so we can remove this entry again (and maybe lock to a known stable version).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736080/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736302", "body": "is this pulling it from vagrantbox? Can we align and just use the ones from opscode's bento:\nhttp://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_ubuntu-14.04_chef-provisionerless.box\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736302/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736410", "body": "let's try to find a naming convention. We should have something along atc_<platform>_<version> .\nBut that can go in another diff.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736410/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736524", "body": "I will just remove this in another diff. It is not worth keeping the 2 types of boxes for the time being.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736524/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736893", "body": "I have mixed feeling here. We should definitely separate permissions for the daemon and for the client. But in a way, we may just consider that the user settings only apply to !atcd in general.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22736893/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22737099", "body": "maybe only gate with something along the line:\nunless node['platform_family'] == 'rhel' and node['platform_version'] < '7.0'\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22737099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748887", "body": "the namespace is `default['atc']`\n\nso  let say:\n\n```\ndefault['atc']['atcui']['user'] = 'atc'\ndefault['atc']['atcd']['user'] = 'root'\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748887/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748971", "body": "tricky....\n\nso let's have recipes for sysvinit, systemd and upstart.\n\nin one of the main recipe, do the filtering you need and include either of the recipes and fallback on sysvinit.\n\nWorth making a helper function for that.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22748971/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22749094", "body": "wrong link?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22749094/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752730", "body": "On this one we can settle on\nplatformversion\nso\nubuntu1204, centos65, fedora21...\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752730/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752818", "body": "So opscode boxen are usually lighter weight (kindda base install + box tools), let's use them as the base.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22752818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844714", "body": "if (eth.encapsulation == \"Ethernet\") && (name != wan_iface) \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844714/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844722", "body": "you could break as you find a match.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22844722/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905497", "body": "I agree it is a pain, but we should stick to 80 chars to everything or nothing.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944134", "body": "so this can be changed to the shortname version `chef/ubuntu-12.04` for box, and url can be skipped. See 25672afadac9529b21b3139cc69a2a675ac8e770 for reference.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944134/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944236", "body": "`box.vm.box = boxinfo[:box]`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944236/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944249", "body": "this can be deleted\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/24944249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215167", "body": "css maybe :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215167/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215517", "body": "https://github.com/facebook/augmented-traffic-control\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215517/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215619", "body": "This is a super long line, can it be wrapped?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25215619/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216149", "body": "We should try to remove those. I will task this separately.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25217319", "body": "so I am not sure what the end result is and in what the spare line help, but having a random br here is weird.\n\natc.css is already distributed, so you may as well use it to add margin.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25217319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25218527", "body": "oh ok, cool!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25218527/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334801", "body": "I am not sure it supports multiple authors.... I don't like the idea of having my name as an author here, but this was the quick way to get the package working.\nI will check the doc to see if there is better way to author packages.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334801/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26532779", "body": "This could be a list of ips\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26532779/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26533037", "body": "Each django app has its own setting file with default values. The proxy ip should go there. It is are to assume that the setting exists then. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26533037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26533225", "body": "See atc/django-atc-api/atc_api/settings.py\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26533225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26534614", "body": "I agree the use case is not there. It was just as easy to do a `if ip in list` vs `if ip == string`. If needs be, that can easily be added anyway but may add some cruft like having to check if `PROXY_IP` is a string or list, or even if PROXY_IPS or PROXY_IP is set.\nI dont see really a hard requirement for that, but because it may be just as easy to implement somethign that can potentially be more flexible now, I would go for it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26534614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26548030", "body": "this is too many\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26548030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26548115", "body": "Did you mean\n`curl -i -XPOST -d '@-' -H 'Content-Type: application/json; indent=2' http://127.0.0.1:8080/api/v1/token/10.0.2.2`\n?\nOtherwise, there is something wrong if we only need to give the token and not the addr we want to authorized against.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26548115/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26548178", "body": "`/var/django/atc_ui/*s*ettings.py`\n\nAgain,I think we should mention something more generic like:\nThis is done by use of the `PROXY_IP` field if the `ATC_API` dict in your django project' `settings.py`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26548178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26350913", "body": "yeah agree.... \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26350913/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30280515", "body": "nit: 2015\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30280515/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283587", "body": "Get the .min version from https://fb.me/react-0.13.3.min.js maybe\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283587/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283644", "body": "Also, let's put the react version in a variable while at it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283644/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283877", "body": "ok fair enough then. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283877/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/32689335", "body": "sham and shim each of them cover different functions: https://github.com/es-shims/es5-shim\n\nSham was not needed until react 0.13 (from my experiment)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/32689335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/40519324", "body": "I am not sure it is a good idea to nuke atc_thrift all the time when running clean. The issue with deleting it means that we need to add the thrift compiler to the toolchain. Hardly anybody may need to fiddle with the thrift spec.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/40519324/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44232099", "body": "That comment is not the clearest.... will `force push`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44232099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44355897", "body": "Let's use the net module:\n\n```\nfunc isV6(ip string) bool{\n    return len(net.ParseIP(\"::\")) == net.IPv6len\n}\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44355897/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44356753", "body": "would that work if v6 is null or v4 is null? We should account for cases that are v4 or v6 only.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44356753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44357049", "body": "I think this is wrong. As much as we want to add v6 support, we want to support v4 or v6 only setups.\n\nOne could work around it by providing a dummy ipv6 ip, but then the api will still try to shape both ip flavours.... ending trying to connect to a bogus ip.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44357049/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44357444", "body": "We may be able to gate the calls to the secondary domain here\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44357444/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44357818", "body": "I would rather see an ipv4/v6 domain than an IP. if the given domain is an ip, it will just work.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44357818/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44711463", "body": "you can add this header only once: `Access-Control-Allow-Methods: POST, GET, OPTIONS`\n\nsee https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Access-Control-Allow-Methods\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44711463/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44712040", "body": "cool then\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44712040/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44714704", "body": "hum... what if the host use to be routing....\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44714704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44723056", "body": "yeah... actually until tested on a gateway, anyway, the ones using the script will know what they do.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44723056/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44729530", "body": "agree, can you move this within a function and reuse it in shape/unshape/setUpRootQdisc(s)\n\nThe function can return something along  `wan, lan, err`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44729530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44729716", "body": "Can you add this comment in the code under a `FIXME` so we remember why this is done like this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44729716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739002", "body": "fair enough :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739002/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739665", "body": "We can improve this bit but I am happy to do it in a separate diff so I get to mess around this part of the code.\nBasically, if the connections is HTTP and port is 80, we dont need to happen the port number.\nif the connections is HTTPS and port is 443, same story.\nAlso, at this stage, we assume we talk plain HTTP because we don't provide a hint of HTTP or HTTPS. Again, I am happy to deal with it in a separate diff.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739665/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739822", "body": "the api has changed significantly, `/api/v2` maybe?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739822/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740261", "body": "wrong wording, it is now You must provide `at least` -4 or -6...\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740261/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740911", "body": "Well, sorry, the wording is correct, but not the behaviour. We want to change this to either one of IPv4/v6 or both right?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740483", "body": "yes, I agree on the port thing. It is just cosmetics.\n\nFor HTTP/HTTPS I guess we can work around it on the javascript side. e.g if the call was made over HTTPS, prepend https:// to the next call, otherwise, http.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740483/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44746778", "body": "well, this will fatal if ether ipv4 or ipv6 is not set. It should be.\n\n```\nif args.IPv4 == \"\" && args.IPv6 == \"\" {\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44746778/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44828666", "body": "Shouldn't this be caused in https://github.com/facebook/augmented-traffic-control/blob/golang/src/atc_api/main.go#L36 already?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44828666/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45419681", "body": "this can be removed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45419681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45420330", "body": "As said earlier, first do the shaping action, then call the hook.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45420330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45420724", "body": "I guess there may be legit cases where join and create would require different actions but in our case, this is enough.\n\nOne way we could make things easier is by accepting only 1 script and passing the event as first argument (the rest of the argument will depend based on the event).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45420724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45431532", "body": "i was just suggesting another approach :)\n\nI think it would be better to have a separate hook for CreateGroup given that it is a separate api call and could potentially need a different action.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45431532/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45542568", "body": "(y) sgtm\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45542568/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45683555", "body": "remove this\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45683555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45924030", "body": "yeah... linting for the win\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45924030/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46230014", "body": "good catch :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46230014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46230492", "body": "IIRC, we should use ID  rather than Id due to https://github.com/golang/go/wiki/CodeReviewComments#initialisms but this is just nit and should not be addressed in this PR.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46230492/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46457916", "body": "thank you linter ;)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46457916/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46458240", "body": "yeah, I dont have a way to run npm from the right directory (a la -C with tar for instance).\nEach makefile line is ran in a sub-shell so we would not be in the right directory if we ran 1 command per line.\nI will remove the @ though\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46458240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46458634", "body": "logging was available though, only the line showing what would be executed was missing. e.g `cd src/react && npm run build-js`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46458634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46460159", "body": "so the output of the command was logged. But also logging the steps take by make is something I find usefull.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46460159/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46342691", "body": "as in https://github.com/facebook/augmented-traffic-control/blob/master/atc/django-atc-api/atc_api/utils.py we should allow multiple proxies and default to 127.0.0.1 and ::1\n\nThis will allow using `X_HTTP_REAL_IP` header when srv_proxy is not set, which is not good.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46342691/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46342743", "body": "We should validate the ip using net.ParseIP or something\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46342743/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46342871", "body": "I am fine with that as long as one cannot set the header and when connecting directly.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46342871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46343137", "body": "the header should be ignored or we return an error when someone attempt to set the client address through the header without using the proxy.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46343137/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46345466", "body": "ok, fine with it, let's file a task as a follow up and reference it in the code then.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46345466/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46366972", "body": "I agree :+1: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46366972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46367216", "body": "Ok, re-assigned to you in the meantime. Bounce it back my way\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46367216/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500753", "body": "I would have been fine having no proxied request as if we want to have cron jobs talking directly to atc_api. We can discuss this later and reassess.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500753/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500795", "body": "Would it be possible to make  this a list? So we can provide multiple proxies?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500795/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46501016", "body": ":+1: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46501016/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/47569407", "body": "yeah, for the sake of this diff, I was assuming that the default was fine.... mainly if we want to separate the ui from the api.... but yes, there may be situation where it does not work.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/47569407/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/50314181", "body": "that would be better. Went for the bash expansion verison\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/50314181/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/56454498", "body": "I am not sure why this is not within the `ShapingEngine` as it seems to only be used within `buildHookEnv`\n\nShouldn't this be handled within `src/daemon/engine.go` ?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/56454498/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/58770899", "body": "```\nRED=\"\\e[1;31m\"\nRESET=\"\\e[0;39m\"\necho -e  \"${RED}Running atcd on 192.168.3.1:9090 [fc00:1::1]:9090${RESET}\"\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/58770899/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/58773219", "body": "log that you are forcing it to 1\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/58773219/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/64678006", "body": "line 44: you also need to add `src/assets/bindata.go` to the atc_api target\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/64678006/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134839879", "body": "i dont htink this file should be version controlled. Can you add a globbing exclusion of .lock file in .gitignore pls", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134839879/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134840279", "body": "Is this a change in thrift interface?", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134840279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "zfjagann": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/186", "title": "Replace shaping instead of delete/create", "body": "We should be smarter about how we manage shaping. If someone calls shape twice the second call shouldn't unshape and re-shape, instead it should be smart and replace only the pieces that have changed.\n\nThis is pretty easy given the rich `tc` API we're using but the `iptables` API isn't as full featured so we'll have to be clever here.\n\nMight depend on #173.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/180", "title": "Bump golang api version to `v2`", "body": "Should be `/api/v2` instead of `/api/v1`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/180/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/124", "title": "Add device whitelist to ATCD config", "body": "Whitelist should contain device addresses which are allowed to shape any and all other devices. (Short-cutting our token 2fac system).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/124/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/53", "title": "Support traffic shaping based on ports", "body": "Primary way of specifying ports to shape should be port-range, such as `1..65535`\n\nWould also be nice to specify discrete list of ports, such as `22, 80, 443, 8080`\n\nProbably need to figure out a good way to allow specifying either of these inputs in a single format.\n\nPerhaps a string input, which is split in the API. E.g. `\"ports\": \"22,80,443,8000..8999\"`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/53/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e4eab1fe6a8cf5acdf22e511ebad39f3c5ef5f61", "message": "Merge pull request #252 from chantra/issue_template\n\nCreate an issue template."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/165f7d9cda6dabe3d3e265178f76d1dc1726ae38", "message": "Merge pull request #237 from chantra/fix_lint\n\nFix lint and make clean"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/87b474523108113cccc3a38aadb1e06e33aa9a3c", "message": "Merge pull request #236 from pra85/patch-1\n\nMake ending license year evergreen"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/88302f77ac2bae2b081b797c80cdf7a94bcd0a65", "message": "Fix chef on centos6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8bd2f8238a01516a4cafe3fb0ddb067f29df0489", "message": "Warn against vagrant for prod\n\nAdded note to README.md which warns not to use vagrant for realistic\nproduction environments.\n\nFixes #123."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3fc5cd95e8370b680d18b8a0618463003c591792", "message": "Error handling in restore-profiles.sh"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9ada4ed1b32f5b5efe5dba842a5e1533ad72b5a6", "message": "Added notification panel for error reporting"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d504b7859478047f3d24367081612be677919a33", "message": "UI Improvements\n\nMade all the UI elements collapsible panels.\n\nCleaned up some minor formatting issues.\n\nAdded an Auth panel at the top for viewing your token, or authorizing a\ntoken. (Needs more testing)."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3396e1dc886c361ec870f01e7f6a0df09ab29cd0", "message": "Merge pull request #113 from zfjagann/diff\n\nCleaned up the settings view"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a56a4b374be83b268e69799175cfb5b9a3335e59", "message": "Upgraded to react-0.13.3"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/543fd47e21dc19476bac49586e3cba96c5ebf92a", "message": "Cleaned up JSON diffs"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5ead22d652bb0e4c8375de56a59fa03b25b00d10", "message": "Merge pull request #112 from zfjagann/master\n\nadded utils.py"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f6cca48a0025d0bfcbf3d1b45833bb67dff25171", "message": "fix #52"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8981d3081944c2261d1fa8547a0ebce7130705c1", "message": "Fixed lint failures"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/cbf11d827ea67b26d49af2675ac040bef44a978d", "message": "Added shape test util"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/529f649b6052e5fc47ee2d0896ede11aa3816367", "message": "Cleaned up shape in tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8377cee66f792e04c820286657121c68af3728e3", "message": "Merge pull request #98 from JasonLZJ/patch-1\n\nUpdate README.md"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e99043ad8b65c8f89154fc55b4d998b3ec16eb5b", "message": "Docs for sample profiles"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5cfa24691c705de5065f4bfa41eb787e80214fd4", "message": "Added sample profiles\n\nFixes #56"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4ba60cf98d68ffa4240812fac8a58a3c923a62dc", "message": "Bumped to v0.1.1"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/5adb482eaea1cb82389e868d2b5a5de9aa7126e6", "message": "allow make publish"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4f94c432865c5ff51db558ece2de4532415174ff", "message": "Simple fixes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c6d76d016252ef607869dcf623cfd85de750f875", "message": "Added setup notes"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c5774b47ed952c05b694d0d46d6b93b805bf216e", "message": "Merge pull request #71 from marcelometal/master\n\nREADME: Fixed typo"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/58e9fa9ce4d756a43fadaadf9d83fedd56987c5a", "message": "Merge pull request #62 from peterbe/patch-1\n\npip oneliner"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/2a39c5a336b4fd8aa404e09b00eeacdd927788ec", "message": "Fix #59"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/430797cefa5cfc43519138c1929e695faad78c7f", "message": "Tests need unsecure mode for atcd"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a1d32fbb0c07e125b25965d133e23f366a08757c", "message": "Force UPGRADE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8c4ba2dbfc3a8b6faecdee04f253db2d3eb68a10", "message": "Force install from src"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e4a8dcd385d28a1a8c09bb394ba810824dad90ee", "message": "Added make install to install from src"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/29cb0f73de918838c745909efe1a0d50686c9f6e", "message": "Removed centos7 since its not on roadmap"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3439b8e705f2827b8a1d66a1d073e93fbf87a5ea", "message": "Merge pull request #39 from zfjagann/apidoc\n\nAuth Documentation"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/04b16841dddabf65eb8cf18eb024385a6b4182f7", "message": "Merge pull request #43 from chantra/atcui_setup_provision\n\nrun atcui-setup when provisioning a host."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6ccbd4bd4fffdcbd2838c3ff88177b8f88525dbf", "message": "Merge pull request #42 from chantra/setup\n\nForce using /us/bin/env python, help with pip install from source"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/dc664be67740a021ff19d288e0d4ad344b5d49fd", "message": "Documented server setting for PROXY_IP\n\nDocs for #40"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7d3f9102f1cb8921c6570e3a5a74ae4a34a5a4a5", "message": "Added PROXY_IP setting for HTTP proxy"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b2c433d46a9a64007d44aaa4be6399651632db54", "message": "Auth docs.\n\nFixes #37"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c6166a2c3b89c7646868a1407be9889d27a6f9c9", "message": "Merge pull request #41 from chantra/sqlite_file\n\nChange the default location of atcd's sqlite file."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/22bcb78feb3f19a462b26fee58db329e242a9665", "message": "Merge pull request #38 from chantra/pip_packages\n\nPip packages"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/41041b2c9bc103b2a58b03529f77e6de90834961", "message": "Fixed naming scheme"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/ca74df945e347bb99cf1c2a8d9e6f2a47355be32", "message": "Auth changes for #18"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9aa22114f30b63dfbbd1dc73b67accfe8a85403e", "message": "Added @zfjagann to contributors."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/1cd47f6ef243017161159dfde7b7e962760f99ea", "message": "Fixed code blocks"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d0b6c0e188b22f0933ca4dbf354e48e1e4a73e9d", "message": "Merge pull request #33 from chantra/fix_pip\n\nMake django apps packages install properly"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c4d009f608d639f1ea8f03b0721c823bf968a05f", "message": "Merge pull request #31 from chantra/atcd_doc\n\nDocuments atcd"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b40f5f77219fc059e86efae68a193f9bfb193982", "message": "Merge pull request #29 from chantra/sec_mode_init_conf\n\nAdd support for setting atcd mode through chef"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/e9a16e2d65b600b5c537ed6075d958664d36bbe1", "message": "Merge pull request #19 from chantra/sec_mode\n\nEnable setting atcd in *secure* or *unsecure* mode"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/930faa8d52d6751bb739ef8cfdb0c784d6a9a3be", "message": "Fix #27. Allow atcui-setup as atc"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/4a68c2a3f40c0cab8b3dcafa7162c1af8c4de57a", "message": "Merge pull request #26 from zfjagann/error-reporting\n\nReport profile-api 500 errors to users"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/ad238c030b0d0bb2573edcd7195a1056937e6ce1", "message": "Report profile-api 500 errors to users"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b8bb6ad4c8732e522517f79c749eb6b8983eec6f", "message": "Merge pull request #25 from zfjagann/atcui-setup-user\n\natcui-setup users"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/51a44d051953f4b5ed1a106c63963b26518430d4", "message": "atcui-setup users"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9e721f82796c95e3127a8d93b465d44ec8cb3198", "message": "Removed old testing makefile"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a273ac4eb3fcd00012ebbe35ce0cd7e55d028a5c", "message": "more intuitive profile workflow"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6e41c1c6ebbbb1772f45762e633d6a4fd4f49f01", "message": "Fixed test vm provisioning"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/591f6fee4b9f0aa61264f049e5d03974d7c022dd", "message": "Merge pull request #21 from chantra/api_doc\n\nDocument ATC API usage"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a91a90803aac93a25607909bda7342f4622ef4ac", "message": "Licenced test files."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3997f7a3d8f52db7e1b04d3515403f2bfea64324", "message": "Commented up Makefile"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/ee62ed152c6990f705489e430250ffab5ebde85c", "message": "Cleaned up tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/60189f1a0b9575976f1147db14f4420382c5467a", "message": "Clean makefile tasks"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/ce0b8977cc57058c09ed847197db1074d50680a3", "message": "Comments from @chantra"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6cb18acb5394d4bae6aa5954da346b75cd3c2290", "message": "Fail if bandwidth hasn't been set"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0b868781d632b4dc7d8d49df60ca3f1bf71b2d09", "message": "ATC Profile storage."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d79ad277f620088d1c9839e8afad5df696401da1", "message": "Profile fetching in the demo-ui"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/05b0569a63b82be5e544a6ed64a436df2cf5bf0c", "message": "Changes from P19704440"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f0eca8a9a1f9f592efa812a6b11442068be64df1", "message": "Restructured tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/04961020fd893326728958083b6be641bbea3451", "message": "Merge pull request #14 from zfjagann/e2e\n\nEnd-to-end tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9cf465f0f71dbd3510c2f3ba6f06f5be2de001c8", "message": "Changes from comments on PR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f7ecde4ef21ef64d19d7d46645ba3cf11a9cb932", "message": "Finishing touches on e2e bandwidth shaping tests."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/491d2112782bd56e6d89bfa7b2db06f2bcff0b0d", "message": "Fixed indentation"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/90bb6de2c507bc489f02c3f92acf2c1548798b83", "message": "Updated testing"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c3d8b6d42cc277158176f09a3a62268eedd99332", "message": "More rigoruous linting."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/0669c0d08b43b279b3a3966e45d72c909385c209", "message": "Commenting."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/32d475678034e11a8d028b4596865f70eba0a3f9", "message": "Partially functional e2e tests"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/543bcb36d502c8f35acd6843749a6166ad0c2886", "message": "Merge pull request #13 from chantra/box_names\n\nVagrant box names"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/cace6c9a55de761719e370e19b65d5f4142cc79e", "message": "Merge pull request #12 from chantra/shape_other_ip\n\nAllow shaping a different IP through the URL"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/26119b72a9515eb3c76d6f49e2668b3244b4be0c", "message": "Merge pull request #8 from zfjagann/svcmgmt\n\nBetter service management"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/16f8321d2537bf02e9bbbe03e1fa784e30d91ac5", "message": "Cleaned up service management logic"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/a1fb2f6788343c7e00c972b0ec2c7acae4d244a6", "message": "Commented out centos7 as it doesnt work yet"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8e43f8456a3bedb046e1eb2301ff0604d25f0014", "message": "Fixed lint failures"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/18a6240099603f0b9bef3fa2c7425c1631dd5ae5", "message": "Merge pull request #6 from zfjagann/auto-interfaces\n\nAtcd cookbook dynamically finds interfaces"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/cb925885ba82c8cbe84fd457935aadccba9cb62c", "message": "Removed puts"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c3ad828d678c4bd40906bb25562ecd868e6e3e69", "message": "Atcd cookbook dynamically finds interfaces"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/fcd20af6d8a4dd005209ca02ad45c542a0b968ee", "message": "Correctly differentiate init systems."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3a86d8613c64785485c27decc313b60717d6ca42", "message": "Automatically determine init system/version"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/08d7a7fc78fc523c6fe7e2b430d9287a5bd5aef6", "message": "Added centos7 box"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6b566a9e4733f93670a572302348f961194950a2", "message": "Renamed centos65=>centos6"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/79fcbb50f0d008274192b0f120dccebb576b5cca", "message": "Cleaned up Vagrantfile"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/26d1e1f3ecfbb53065e6b48702dc420a8672e740", "message": "Fixed whitespace"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/30e1292ffa9677768b0387b487c81110d213853b", "message": "Be more specific about users/groups"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/306a0bc4d0efec00a1a0950e48b535e12a896141", "message": "Use opscode trusty image."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/3e98f5e69d934c5d1828b641696a8b1b8f6bff4f", "message": "Renamed VMs per comments."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/bff9f730c568084691ced313184f4695c5a55fb6", "message": "ATCUI uses upstart script instead of sysvinit."}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/1f61f1a82f79f6be78d58f5509c17ed6288959a0", "message": "Use atc user for atcui"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/b2a0db89baef6d4dbc4ca08280e87eef5226114e", "message": "Added Ubuntu 14.04 vagrant vm"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/14023f2d51bafd17d8cf3fd66dbe30f649db3cf3", "message": "Allow disabling ECHI in vagrantfile"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d645ee8b50257d7c4650815de611bc0e0213d9bc", "message": "Workaround python cookbook issue"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/f181369d5d94464e2eaafb57e47c239237dfdbb6", "message": "Modified to use django-rest-framework ver 3"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69381071", "body": "Added an Ubuntu 14.04 vagrant VM, which can be brought up using `vagrant up atctrusty`. Chef will provision it normally, so this VM can be used to test the newest Ubuntu LTS.\n\nChanged the ATCUI init script from sysvinit to upstart. We probably want to write a systemd config for it as well since Fedora/Red Hat/Arch/etc. [have all switched](http://en.wikipedia.org/wiki/Systemd#Adoption_and_reception).\n\nModified ATCUI to run as the unix user `atc`, using the upstart script's `setuid` stanza.\nSince this stanza was added in upstart version 1.4, CentOS (running upstart version 0.6.5) cannot use it. As a result, CentOS will still run ATCUI as `root`.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69381071/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69403447", "body": "Split into #3 and #4.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69403447/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69659938", "body": "Probably want to abstract this logic out into a method. For now it's only used here, though, so I think it's sufficient.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69659938/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69694133", "body": "Sure thing. Push your commits up and I'll rebase mine.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69694133/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69828398", "body": "That is correct. This is primarily to support newer platforms that use static device-based naming schemes (e.g. `enp0s3`), rather than the older kernel naming schemes (e.g. `eth1`).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69828398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69844058", "body": "I would merge this first since it fixes some compatability issues with the ubuntu machines. I'll rebase and test #6  afterwards.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69844058/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69845419", "body": "Testing with knife now. Will merge if that and lint pass.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69845419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69847458", "body": "Fixed by #8 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69847458/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69850371", "body": "Kitchen tests and lint all passed. Merging now.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/69850371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73326658", "body": "@chantra: Do you have any thoughts about why this is happening?\n\nMy e2e tests depend on being able to reliably post data to the API, so until this is fixed e2e is blocked.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73326658/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335710", "body": "It's possible I broke something while testing. I'll try to repruduce on master and get back to you.\n\nYes, those are the defaults, but in my posted data, I submitted more detailed information about each field than that. In addition, having `None` values causes ThriftSerializer to fail to serialize the object.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73335710/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625052", "body": "I'm still having this issue on master:\n\nThe changes I made were to add some debugging information to help disagnose an unrelated issue (#11), and didn't cause it.\n\nThe traceback below is a bit obfuscated, but when I looked into it it was because fields were being set to `None` rather than the values provided by the API.\n\nThe traceback I get:\n\n```\nTraceback:\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/django/views/decorators/csrf.py\" in wrapped_view\n  57.         return view_func(*args, **kwargs)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/django/views/generic/base.py\" in view\n  69.             return self.dispatch(request, *args, **kwargs)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/rest_framework/views.py\" in dispatch\n  407.             response = self.handle_exception(exc)\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/rest_framework/views.py\" in dispatch\n  404.             response = handler(request, *args, **kwargs)\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/views.py\" in decorator\n  39.         return method(cls, request, service, *args, **kwargs)\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/views.py\" in post\n  96.         setting = setting_serializer.save()\nFile \"/usr/local/atc/venv/local/lib/python2.7/site-packages/rest_framework/serializers.py\" in save\n  164.             self.instance = self.create(validated_data)\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/serializers.py\" in create\n  62.                 args[arg_name] = serializer.create(attrs[f_name])\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/serializers.py\" in create\n  62.                 args[arg_name] = serializer.create(attrs[f_name])\nFile \"/usr/local/src/atc/atc/django-atc-api/atc_api/serializers.py\" in create\n  57.             if f_name not in attrs:\n\nException Type: TypeError at /api/v1/shape/\nException Value: argument of type &#39;NoneType&#39; is not iterable\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625228", "body": "Should posting to `/api/v1/shape/{ip}/` be the same as posting json `{\"address\":\"{ip}\"...`\n\nIs one preferable to the other?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625558", "body": "I was working on fixing this when #10 sprang up. I'm still working on both of them, I'm mostly posting these issues here to keep you updated and so I don't forget about them.\n\nFeel free to steal them from me, but don't feel obligated.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73625558/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73798007", "body": "Looks good. I'll tweak my e2e testing VMs before I merge those changes.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/73798007/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/74947319", "body": "The tests passed >30 consecutive times during lunch so I'm calling the iperf issue finished. I have a feeling adding the `sleep(3)` in `unshape()` did the trick.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/74947319/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/74960905", "body": "Yes. I just incorporated the comments you made and it should be ready to land now.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/74960905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/76483584", "body": "I tested this pretty thoroughly before I created #15. Are you doing anything peculiar? Like not entering either of the rates, or the name, for instance.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/76483584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77272430", "body": "This fixes workflow issues which may have caused #20 .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77272430/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77272708", "body": "I played around with this and it appears to be working as designed.\n\nHowever, after some thought, I decided that the workflow for profiles was very non-intuitive. Some of the widgets were storing background state that did not reflect the actual fields if users updated them after the state was originally accessed.\n\nI reworked the workflow to be much more intuitive in #23.\n\nThe UI presents the name field from the get-go and doesn't display the profile list if it's not available. In addition, I removed all the widget state that was previously causing confusion.\n\nIf #23 still does not fix the issue, could you show me exactly what you're doing to cause this issue?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77272708/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77285790", "body": "The only other thing I can think of is you have to run `atcui-setup` as the `atc` user, otherwise the `atc` user can read from it (i.e. will start successfully) but cannot write to it. This would cause the issues you mentioned.\n\nThe old workflow had some error messages for common errors, but they were fairly simple and there were likely other ways of causing issues without hitting those cases. The simplified workflow in #23 should be much more robust.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77285790/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77434570", "body": "Closed by #25.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77434570/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77480878", "body": "It's logged to the atcui log file. From prior experience usually I find it better to not give system-level error messages to users but to log them verbosely to disk instead.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77480878/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77483043", "body": "I agree. I'll modify it so that it returns a 500 if the database is inaccessible.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77483043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77625540", "body": "#26 shows an error message on the dashboard if the profile-storage api returns a 500 error message. The chrome console and server log show the detailed error message, but it's not displayed on the screen.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77625540/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77920582", "body": "I'm going to cut a PR with the rest of the API/FE work for API tokens later this week. We can merge this PR then.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77920582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77936855", "body": ":+1: If you publish new commits to your `sec_mode` branch, they'll automatically be pulled into this PR.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77936855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77971297", "body": "FYi you can authorize a client and view authorizations via the `/auth/` endpoint:\n\n```\n$ curl http://localhost:8080/api/v1/auth/ -d '{\"address\":\"1.2.3.4\",\"token\":123456}'\n{\"controlled_ip\":\"1.2.3.4\",\"controlling_ip\":\"10.0.2.2\"}\n\n$ curl http://localhost:8080/api/v1/auth/\n{\"controlled_addrs\":[{\"valid_until\":1426542758,\"controlled_addr\":\"1.2.3.4\"}],\"address\":\"10.0.2.2\"}\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77971297/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972205", "body": "Yep, in that case we need some way to know what the authorized proxies are. Perhaps a setting in `/etc/default/atcui`?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972205/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972732", "body": "Yea, I'm aware that the struct naming is a little inconsistent.\n\n`controlled_` and `controlling_` are different intentionally, but some of the `ip`/`addr`'s slipped past me.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/77972732/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78102477", "body": ":+1: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78102477/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78565652", "body": "Helpful:\nhttps://pages.github.com/\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78565652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78570764", "body": ":+1: More docs ftw!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/78570764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79231596", "body": "The packages did not publish for me unless I installed the following dependencies:\n- `twine`\n- `wheel`\n\nThe documentation in the PR is very helpful. Do you think you can add this to a `README.md` somewhere or to the documentation page?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79231596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79350165", "body": "It looks like the package installer for `atc_thrift` generates the python code based on the thrift spec at install time. Is this not something we want to do at build time?\n\n```\nInstalling collected packages: thrift, atc-thrift\n  Running setup.py install for thrift\n    building 'thrift.protocol.fastbinary' extension\n    gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c src/protocol/fastbinary.c -o build/temp.linux-x86_64-2.7/src/protocol/fastbinary.o\n    src/protocol/fastbinary.c:20:20: fatal error: Python.h: No such file or directory\n    compilation terminated.\n    ()\n    ********************************************************************************\n    An error occured while trying to compile with the C extension enabled\n    Attempting to build without the extension now\n    ********************************************************************************\n    ()\n    /home/vagrant/bin/python -O /tmp/tmpOKoB1R.py\n    removing /tmp/tmpOKoB1R.py\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79350165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79459623", "body": "Oh, I see. This looks fine to me then. Everything worked when I tested it except for the points I mentioned above, which are largely non-issues.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/79459623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81859398", "body": "This shouldn't be merged until we're ready to publicize this, due to [this](https://help.github.com/articles/creating-pages-with-the-automatic-generator/#user-and-organization-pages).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81859398/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81898016", "body": "Preview new documentation [here](https://github.com/zfjagann/augmented-traffic-control/blob/apidoc/atc/django-atc-api/README.md)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81898016/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81969520", "body": "@chantra: better now?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81969520/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81970287", "body": "Geez, just when I had it perfect!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81970287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81970579", "body": "I concede the point. It'll accept either a string (for a single IP) or a list (for multiple).\n\nI was mostly worried about specifying a list vs string in the django config, but `atc_api_settings` solves that problem.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/81970579/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83110186", "body": "I'll take a look at this. I'm voting it's low-pri and can be done post-release if necessary though. Thoughts?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83110186/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83111311", "body": "Thanks, I had noticed that bug but hadn't tracked it down yet.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83111311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83120175", "body": "Seems misleading to use \"enhancement\" as \"low-pri\". Maybe we need better/more labels?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83120175/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83121972", "body": "I think we need better resolution between enhancements that we want soon, vs those that are more wishlist items. More pragmatically, I'm concerned about those we want to do before release, and those that can wait until after. To me \"enhancement\" can mean either.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83121972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83122011", "body": "I agree that bugs are always hi-pri though.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83122011/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83181497", "body": "Good idea to use milestones!\n\nI'll use these in the future to filter things by date and priority.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/83181497/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85626343", "body": "I haven't really really given much thought to deploying ATC on DD-WRT/OpenWRT boxes, although I agree it would be useful. @chantra will have better insight into how difficult the iptables/tc integration with these systems will be.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85626343/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85628639", "body": "There are also some sample profiles in the screenshot on [the website](http://facebook.github.io/augmented-traffic-control/), but again, not very helpful.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85628639/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85632652", "body": "Thanks for the contribution @tbfly. What's the exact build error that this PR addresses?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85632652/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85693976", "body": "yep. good find!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85693976/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85697385", "body": "Thanks @peterbe!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85697385/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86150729", "body": "Don't accept this PR just yet, I just thought of more stuff to add.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86150729/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86151718", "body": "Do we support python versions <2.7?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86151718/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86153369", "body": "Ok, take another look at it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86153369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86224179", "body": "@marcelometal thanks! guess we need to spend more time proof-reading. :stuck_out_tongue: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86224179/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86644369", "body": "Hi @boxerxing,\n\nPlease take a look at the installation instructions here on [our website](http://facebook.github.io/augmented-traffic-control/docs/install.html). If those are confusing or incomplete please let us know and we'll fix them.\n\nThanks for the feedback!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86644369/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86651706", "body": "If you're having issues with the ATCUI specifically it would be helpful to know what platform you are using (Operating system and browser version). Thanks.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86651706/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86835813", "body": "LGTM. Feel free to merge.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86835813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87035110", "body": "Which platform are you install atc-thrift on? In particular, the version of pip and python you're running would  be helpful.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87035110/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87768052", "body": "Hi @kimjungyeon:\n\nCurrently ATC makes use of iproute2, which is a linux-only tool. In the future we may consider implementing BSD/OSX support, but for the time being ATC will only run on a linux system.\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87768052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87834560", "body": "We just pushed version 0.1.1 which contains a fix for #59 a bug which affected firefox. Please update your atc and the `You must give this new profile a name` should not happen again.\n\nWhat error happens when you run `sudo atcd`? Does it crash with a stack trace, or is something else going on?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87834560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87873249", "body": "Hi @yelinqing,\n\nI'm going to close this issue since we've done a lot of work in the past week to improve documentation.\n\nIf the documentation is still confusing, or incomplete please reopen this issue or create a new one.\n\nThanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87873249/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87877871", "body": "Wishlisting since this is a decent portion of work and needs more discussion before it will be actionable.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87877871/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88175813", "body": "@wwewwt: We are working on adding pre-defined profiles to ATC (#56). These will resemble the nation-based profiles shown in the screenshot.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88175813/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88972228", "body": "The error message of interest is this line (a little above half-way down):\n\n```\nException: One of the following interfaces does not exist: eth1, eth0\n```\n\nAs @agargiulo mentioned, you need two interfaces to run ATC. The names `eth0` and `eth1` are the defaults.  To change them run atcd with the `--atcd-lan` and `--atcd-wan` options.\n\nEdit: fixed config description.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88972228/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88973839", "body": "Also, if your machine only has a single physical NIC, you can create a virtual NIC fairly easily in most linux systems. The steps for doing so a largely distro-specific, so I won't go into it here, but it is certainly possible. :)\n\nFor example, the Arch Wiki contains a wonderful [guide](https://wiki.archlinux.org/index.php/VLAN) describing how to do this on an [Arch Linux](http://archlinux.org/) system.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88973839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89426262", "body": "I'm going to close this since I havne't heard anything about it for a while. Please re-open if you're still having issues.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89426262/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93842511", "body": "I've seen a lot filesystem issues (files and dirs going missing) when trying to reprovision an existing vagrant vm. I've never had these issues before with vagrant, so I'm pretty sure it's something related to our chef provisioning, but I haven't had a chance to dig into it. It looks related.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93842511/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94074774", "body": "For bugs in the UI/API it'd be helpful for people to submit their `settings.py` and `urls.py`\n\nWe should also probably recommend people make use of [gists](https://gist.github.com/) for large files. Having copy/pasta in our issues is really difficult to read.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94074774/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94921414", "body": "Thanks @JasonLZJ!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94921414/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9265526", "body": "I tested this thoroughly on precise/trusty and centos until it worked. I am surprised to see it not working. I will fix this ASAP.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9265526/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270428", "body": "8e43f8456a3bedb046e1eb2301ff0604d25f0014\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/9270428/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619041", "body": "How did you reproduce this?\n\n```\n$ atc list\n$ atc create 127.1.0.1\n1: 127.1.0.1\n$ atc create 127.1.0.1\n2: 127.1.0.1\n$ atc list\n2: 127.1.0.1\n$ atc leave 2 127.1.0.1\n$\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619041/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619192", "body": "Correct, I just re-enabled the test I disabled previously.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/17619192/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "review_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742717", "body": "The difficulty here is that newer RHEL distros use systemd, not upstart (including CentOS 7.0), so the upstart script won't work at all, and shouldn't be included.\n\nI'm going to write a systemd config for atcui, test it on arch/centos/fedora and submit it in a separate PR. I think for the time being this code is hacky, but sufficient, since it works for `centos 6.5` and `ubuntu 1{2,4}.04`.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742754", "body": "```\ndefault['atcui']['user'] = 'atc'\ndefault['atcd']['user'] = 'root'\n```\n\n?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22742754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743150", "body": "For the vagrant boxes, we can drop the `atc_`. If you're interacting with them you must already be in `chef/atc` so it seems redundant.\n\nI would just name them:\n- `centos65` (currently named `atccentos`)\n- `precise` (current named `atcubuntu`)\n- `trusty` (currently named `atctrusty`)\n- `arch`\n- `fedora21`\n- etc...\n\nFor the ubuntu releases, I think using their aliases is sufficient since they are ubiquitiously used to reference a specific release, and no other distro uses such a bizarre naming scheme.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743263", "body": "Yes. Hypothetically if you use `vagrant up atctrusty` it should download the box automatically from [hashicorp](http://releases.ubuntu.com/). If it does not you can manually add it with `vagrant box add ubuntu/trusty64` (this is what I did).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743263/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743496", "body": "This is actually what I indended to do, but github merged them since the later was a FF from the existing PR. I'll create a PR for this, but we'll need to merge it before I can create the other PR.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22743496/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22744783", "body": "https://github.com/facebook/air-traffic-control/pull/3\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22744783/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22903755", "body": "word-wrapping this line seems superfluous\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22903755/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905545", "body": "80 characters is probably fine since it's the default. I think more generally 100 is better, but I don't have strong feelings about it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/22905545/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216963", "body": "Meh, this worked well enough and was legal JSX.\n\nIf you insist, I can move this to CSS, but I don't think it's a big deal.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25216963/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25217005", "body": "trudat!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25217005/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25218459", "body": "I was playing around with glyphicons and replaced the \"Show more/less\" with icons and they were flush up against the text for the next row, so the `<br/>` gave them some breathing room. After I realized fonts are a PITA to deploy correctly, I decided to scrap the glyphicons, but forgot to remove the `<br/>`. I'll remove it entirely, it's not helpful without the glyphicons.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/25218459/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334395", "body": "[Add me](http://stackoverflow.com/questions/9999829/how-to-specify-multiple-authors-emails-in-setup-py) as an author?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334395/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334681", "body": "Use this for [GFM syntax highlighting](https://help.github.com/articles/github-flavored-markdown/#syntax-highlighting):\n\n``````\n```python\n``````\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334861", "body": "Ok. You don't have to do this if it's a pain, just a suggestion.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26334861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26533068", "body": "I feel like if we make it a list, people are going to want to be able to specify a network (e.g. `10.0.0.0/8`) ,which is more complex and I don't think very important since atm, we're primarily using a single ATC box, and thus a single proxy.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26533068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26520501", "body": "Will add in details here as part of #36 \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26520501/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26605667", "body": "Hmm... How did that happen?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26605667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26605781", "body": "Yea, something is wrong here. I will fix.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26605781/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26349299", "body": "`s/allow/allows/`\n\n\"Allows you\", \"allows users\"?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26349299/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26349456", "body": "`s/comsumable/consumable/`\n\nThe purpose of the ATC-Demo-UI is to be a simple UI to get people started. I would just say that. Saying \"consumable by any devices that support HTTP\" is confusing.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/26349456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27277394", "body": "you could just say iproute2, which includes both iptables and tc.\n\nEither way not a big deal, just a nit.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27277394/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27512347", "body": "This makes me laugh, but I figure it's good to [CYA](http://www.urbandictionary.com/define.php?term=cya&defid=1044195).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27512347/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27512536", "body": "Alternate name: `Comcast`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27512536/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30280592", "body": ":hankey: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30280592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283784", "body": "I specifically downloaded the non-minified version because the minified one produces incomprehensible stack traces.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/30283784/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/32689267", "body": "Why have two of these? They look the same.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/32689267/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/32689351", "body": "Yea, I just noticed the difference. LFTM!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/32689351/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44359306", "body": "Going to rename to `v4host` and `v6host` which can be either IPvX address or DNS name resolving to IPvX address.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44359306/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44359334", "body": "I need to do some cleanup on this file anyway. I'll probably rename all these methods.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44359334/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44706618", "body": "Finally! :grinning: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44706618/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44711985", "body": "The way golang represents the headers internally is using a multi-map.\n\nWhen you call `w.Header().Add` it tracks the values added so far in this multimap, and it writes all the values at once when `w.WriteHeader` is called (called implicitly the first time you call `w.Write`).\n\nSee the [net/http.Header](https://golang.org/pkg/net/http/#Header) and [net/http.ResponseWriter](https://golang.org/pkg/net/http/#ResponseWriter) for details.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44711985/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44722600", "body": "This is for testing on people's laptops, not on actual ATC gateways. I think it's reasonable to assume you aren't setting up your laptop as a network gateway.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44722600/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44724280", "body": "We could do this lookup statically in initialization, but the performance gain is minimal, and it means bouncing the interfaces requires a restart of atcd, which is one thing I don't like about the current python implementation.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44724280/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44724551", "body": "Trying to delete the root qdisc on `veth` interfaces fails. Creating a new root qdisc over top of the existing one produces the desired effects.\n\nOnce [netlink#64](https://github.com/vishvananda/netlink/pull/64) lands, we can change this logic to a replace call instead of delete/create.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44724551/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44733127", "body": "No fixme, but I'll file an issue. #173\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44733127/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44736013", "body": "None of our tests use empty string as the client address, so I removed the conditional for this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44736013/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740014", "body": "Nothing here is hardcoding us to HTTP vs HTTPS. And providing the ports here doesn't cause any issues. It just means the UI is going to be more specific than it needs to be with the AJAX calls. Given that, I don't think it buys us very much to put extra logic in here to prevent adding the port numbers if they're unnecessary. Having port numbers works in 100% of cases, so I don't see the isse.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740014/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740090", "body": "I was just thinking about this. We probably should make this /api/v2 but I think this change is external to any of the PRs I opened today. #180\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44740090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44745505", "body": "I agree, that's where this should be done.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44745505/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44745902", "body": "We want them to provide one or more of `IPv4` or `IPv6`. They can provide both, they can provide either. If they don't provide either, we should bail.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44745902/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739640", "body": "Right now only support bandwidth, delay and packet loss basics. Can easily add more fields later.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44739640/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44850375", "body": "Probably want to switch these to somewhere in `fc00::`\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/44850375/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45421880", "body": "In that case you're pushing some complexity from our end into the scripts. I don't really like this. I'd prefer to have complexity in things that are easy to manage (**not bash**) versus things that are hard (**bash**).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45421880/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45421935", "body": "Dead code is a reminder of times past. :stuck_out_tongue: \n\nI'll remove it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45421935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45421948", "body": "Yeah, I'll fix this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45421948/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45507291", "body": "So I want to keep the act of adding an IP to a group as a `GROUP_JOIN` to make it consistent. I'm okay with having a `GROUP_CREATE` hook that is called (without an IP) right after the group is created before the `GROUP_JOIN` is called, but I don't think there's really any information to pass to it. Conceptually it doesn't have any members yet, it has an `id`, and thus a `mark`, but unless your hook does something pretty low-level (like reconfiguring iptables) there's no use for this information.\n\nI'd rather add this when we need it, than add it now at any rate.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45507291/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45913895", "body": "First thought: `make` should run tests and build binaries, why run `make tests` too?\n_went and checked_\nShit! `make` is equivalent to `make tests`. This is a problem. #193\n\nAssuming we fix #193, you should just run `make`.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45913895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45915257", "body": "Aha! I missed this earlier.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45915257/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45923941", "body": "ugh. Such a simple mistake.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/45923941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46320817", "body": "Not a big deal. It's JSON serialized to `id` anyway.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46320817/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46456917", "body": "Docs :+1: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46456917/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46457402", "body": "I think you probably want to log the `npm` command and not the `cd`. Putting the `@` at the beginning of the line suppresses logging for the entire rest of the line. Unfortunately I don't know a way to exec `npm` in the other directory without the `cd` on the same line.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46457402/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46457646", "body": "YES! Dead code is dead!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46457646/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46459854", "body": "It's up to you whether or not to remove the `@`, I just thought logging the npm command would be helpful. I don't care so much about the `cd`. It's unfortunate there's not an easy way around this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46459854/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46339178", "body": "Should `-proxy-addr` disallow non-proxied connections to `atc_api`?\n\nThis behaviour is to allow non-proxied requests when `-proxy-addr` was provided. This essentially means that non-proxied requests are treated normally even when `atc_api` expects proxied requests. This isn't a security issue, but might be confusing to some. Maybe we should reject non-proxied connections when `-proxy-addr` is provided.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46339178/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46339469", "body": "We should use [kingpin](https://github.com/alecthomas/kingpin) for our arguments. It'll allow `--proxy-addr` instead of `-proxy-addr`, which is [better](http://www.gnu.org/software/libc/manual/html_node/Argument-Syntax.html).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46339469/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46344794", "body": "I agree, but the flag parser we're using (`flag` from the stdlib) makes this difficult. We should switch to [kingpin](https://github.com/alecthomas/kingpin) and then do this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46344794/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46349839", "body": "No need, I'm working on this now.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46349839/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46350033", "body": "This test case is for when the header is provided, but the `-proxy-addr` flag is not.\n\nActually now that I think about it, I agree this should fail. I'll fix this.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46350033/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46364949", "body": "I think in general, it'd be safer to be passing around `*net.IP` objects instead of `string` interpreted as IP addresses everywhere, but that's a pretty big change... Maybe tomorrow. :wink: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46364949/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500943", "body": "yes, but not yet. Working on a PR in kingpin first.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500959", "body": "Agreed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46500959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46606724", "body": "Yes!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/46606724/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/47565812", "body": "You sure you don't want:\n\n```\nclient: new AtcRestClient(this.props.endpoint),\n```\n\n?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/47565812/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/47571629", "body": "Ok, just checking to be sure it wasn't a typo.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/47571629/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/49505881", "body": "This was surprisingly easy.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/49505881/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/50311268", "body": "```\nrm -rf atc/{atcd,atc_thrift,django-atc-api,django-atc-demo-ui,django-atc-profile-storage}/{build,dist}\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/50311268/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/50311869", "body": "or something like\n\n```\nrm -rf $(find atc -type d -depth 2 -name dist -o -name build)\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/50311869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/56543433", "body": "They're two different pieces of information. The ShapingEngine needs an address that it can run http requests against, the thrift server needs an address that it can bind to. The only place both the ShapingEngine and the thrift server are together is this function.\nI can abstract this out into a function, but passing the engine a bind address and having it convert it to a dial-able address seems weirder.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/56543433/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/64290954", "body": "Something changed in 1.6 and now functions conflict with imports across the same package. (We're importing `net/url` in a few other places, so we can't use the same name here. :frowning: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/64290954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/64677674", "body": "good catch!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/64677674/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}]}, "dtaht": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/60", "title": "you got bufferbloat issues on multiple fronts", "body": "0) Policing is a horrible idea. However it is commonly used in the field. It is impossible to set the burst parameter correctly for any range of RTTs.\n\n1) qdisc netem 8001: parent 1:2 limit 1000 delay 10.0ms loss 1%\n\nthe arbitrary setting of limit 1000 does not match reality. We have seen both much larger and much smaller values in the field. try fiddling with this parameter in your testing.\n\nAlso, setting 3 queues of limit 1000 will do \"interesting things\" if you flood all the queues.\n\n2) you have htb doing stuff to \"direct\" for some reason, not sure if htb \"default 0\" is intentional. For some pithy comments on how to screw up with htb, see: http://www.bufferbloat.net/projects/cerowrt/wiki/Wondershaper_Must_Die\n\n3) I have never really trusted netem in conjunction with other qdiscs.\n\n4) It would be nice to be able to inject cures like fq_codel into the emulations (but see 3)\n\n5) I would love it if you were to try netperf-wrapper (also on github) against your tool, with emulations of cablemodems created with this tool (cable uses byte fifos, not packet fifos, btw), and see if your results line up with what we get from real world examples like \n\nhttp://snapon.lab.bufferbloat.net/~cero2/jimreisert/results.html\n\nhttp://burntchrome.blogspot.com/2014/05/fixing-bufferbloat-on-comcasts-blast.html\n\nWe have plenty of results for wifi as well, perhaps we can find a meeting of the tools that makes sense.\n\nAlways nice to see more network analysis and debugging tools out there!\n\n6) if you wish to discuss further, it is saner to do it on the bloat bufferbloat.net mailing list.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/60/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86130780", "body": "I am depressed that all our attempts at outreach on this issue are only now reaching more developers of test tools. A search on google scholar will give you many of the relevant papers and research on this topic including 3g/4g lte networks.: https://scholar.google.com/scholar?as_ylo=2011&q=bufferbloat&hl=en&as_sdt=0,5\n\n-1) many of the problems you are seeing in the field can be attributed to bufferbloat.\n\n0) Policing is commonly used but not to my knowledge all that much in 3g/4g networks.\n\n1) You will get interesting results if you try the netem limit figure between 100 and 10000 also. Try it. Notably with netperf-wrapper.\n\n2) the htb default 0 sends stuff out the non-managed htb direct queue. Looking at your statistics, it seems stuff was going out that, which I dont think was your intent, so it is saner to default to one of the defined queues in htb in case you missed a rule. \n\n3) toke ended up using something closer to ipfw and an iptables redirect rule to get better control while testing some of the solutions to bufferbloat on his testbed.\n\nrelevant talk at stanford here: https://www.youtube.com/watch?v=kePhqfKA3SM\n\n(while I am at it, other relevant talks here: http://www.bufferbloat.net/projects/cerowrt/wiki/Bloat-videos\n by the likes of van jacobson, jim gettys, stephen hemminger, toke, myself, fred baker and jesper bauer The shortest talk I ever gave on this subject as at uknof )\n\nwe also documented everything that can go wrong in a testbed setup with various qdiscs here:\n\nhttp://www.bufferbloat.net/projects/codel/wiki/Best_practices_for_benchmarking_Codel_and_FQ_Codel\n\nWe (bug hemminger!) really do need a better version of netem to cope with the variable rtt case while still holding to the same overall packet limit. \n\n4) bufferbloat was the problem. fq_codel is probably the best answer we have - now standard in openwrt, most aftermarket router firmwares, and on by default in systemd, etc. Early versions of streamboost used it also. There is an ietf draft on it and other new aqm technologies like docsis-pie, but it has been slow as yet to hit the wifi or 3g markets. bufferbloat.net\u00b4s  next big project is make-wifi-fast, which we hope will apply similar techniques to wifi also. \n\nIn the meantime, having good emulations of current behavior is helpful for developers of e2e apps.\n\nThe \"sqm-scripts\" we developed and distributed are capable of comprehensive emulations of cable and dsl modem behavior, although that is not what is shipped in the default version (just the cures). The actual emulations use bfifos and I guess I should make them available as part of the default versions.\n\nthat said, I would recommend looking those over as for correct and interesting ways to configure htb.\n\n5) there are now 30+ tests in netperf-wrapper, and it comes with extensive gui and multiple test run analytic support. Patches and feedback welcomed. In particular I would like to see the web traffic emulation improved.\n\n6) look forward to seeing your questions and feedback on the lists. We have been at fixing this for 4+ years. Google and redhat has been all over it, I am glad to see facebook also taking a harder look. Together we can make a faster internet!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86130780/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88286374", "body": "The example stats showed packets going through the direct portion of the qdisc, which I think was not your intent.\n\nBetter test tools are on my wishlist also! Do keep trying to get more folk to run netperf-wrapper\u00b4s rrul tests.....\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88286374/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "abackholm": {"issues": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/57", "title": "Dormancy timers", "body": "In our testing of networks around the world, we've observed timers that drop dormant tcp sockets as fast as in 2-5 minutes, although 15-20 is more general. Those tend to have significant effect on mechanisms to maintain long-lived tcp sockets. It would be great to be able to simulate that with the tool.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/57/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "stasfilin": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/104056c3e40bcfd428cda68d8cb55c2998a7c504", "message": "fix build errors"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "smorad": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/7a857165da1980fd94a4b9845990d425bf4f53b1", "message": "Fix issue #275\n\nAdd additional import to python readme"}], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/316", "title": "Update Setup.md", "body": "Talked a user through setting up atc. Turns out that pip will silently fail to install the atcd binary to /usr/local/bin if they don't have write permission. Add sudo to the guide so they aren't as confused.", "author_association": "CONTRIBUTOR"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "pra85": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/d7f4074597ec9fac5c11420d92a169dc1237fbd3", "message": "Make ending license year evergreen"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "MiteshShah": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/6631a2a297adfe44df7c2fde1e75338af79e7244", "message": "Related to #216 & #219"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "JasonLZJ": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/c0190b8cfc7ec271e72dd1cce9a9b62ab9174477", "message": "Update README.md\n\nI find atc_thrift versions:0.1.0, 0.1.1, 0.1.0 \r\nno 0.0.1"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94623631", "body": "@chantra thank you very much.\nI have fix it but I have a new problem.\nI run atcd in my ubuntu server  (sudo acted --atcd-wan eth0 --atcd-lan wlan0) \nBut I see a warning in my web : ATC is not running\nwhat happened? thx\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94623631/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94627911", "body": "@chantra \nIn the same server.\n\nnetstat -lpnt | grep act print nothing.\nI see atcd listen 9090, so netstat -npl | grep 9090 print \ntcp        0      0 127.0.0.1:9090          0.0.0.0:\\*               LISTEN      4859/python\n\nWhen I run atcd It shows:\n\nINFO:AtcdVService.AtcdNBServerTask:AtcdNBServerTask Server Started on 127.0.0.1:9090\nINFO:AtcdVService.AtcdLinuxShaper:Calling initialize_shaping_system\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -F FORWARD\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on wlan0\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on wlan0\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth0\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth0\nINFO:AtcdVService.AtcdLinuxShaper:Restoring shaped connection from DB\nINFO:AtcdVService.AtcdLinuxShaper:Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='192.168.1.102', controlledIP='192.168.1.102'), timeout=17633.855776309967, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=20.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=10, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=0, jitter=0, correlation=0.0), rate=10, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0))))\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 192.168.1.102 on interface eth0\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth0, classid 1:2,parent 1:0, rate 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth0, parent 1:2, loss 0.0%, delay 0\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth0, classid 1:2, handle 2, rate: 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -d 192.168.1.102 -i eth0  -j MARK --set-mark 2\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 192.168.1.102 on interface wlan0\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID wlan0, classid 1:2,parent 1:0, rate 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID wlan0, parent 1:2, loss 20.0%, delay 0\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID wlan0, classid 1:2, handle 2, rate: 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -s 192.168.1.102 -i wlan0  -j MARK --set-mark 2\nINFO:AtcdVService.AtcdLinuxShaper:Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='127.0.0.1', controlledIP='127.0.0.1'), timeout=24050.903750658035, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=100, jitter=0, correlation=0.0), rate=10, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percentage=0.0, correlation=0.0), delay=Delay(delay=100, jitter=0, correlation=0.0), rate=10, iptables_options=[], corruption=Corruption(percentage=0.0, correlation=0.0), reorder=Reorder(percentage=0.0, correlation=0.0, gap=0))))\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 127.0.0.1 on interface eth0\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth0, classid 1:3,parent 1:0, rate 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth0, parent 1:3, loss 0.0%, delay 100000\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth0, classid 1:3, handle 3, rate: 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -d 127.0.0.1 -i eth0  -j MARK --set-mark 3\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 127.0.0.1 on interface wlan0\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID wlan0, classid 1:3,parent 1:0, rate 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID wlan0, parent 1:3, loss 0.0%, delay 100000\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID wlan0, classid 1:3, handle 3, rate: 10kbits\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -s 127.0.0.1 -i wlan0  -j MARK --set-mark 3\nDEBUG:AtcdVService:All tasks started\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94627911/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94998442", "body": "@chantra The button stays on \"ATC is not running\" When atcd run in my server. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94998442/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97278936", "body": "@chantra It is ok, Thank you very much.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97278936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97279379", "body": "@chantra yep ...things are working now, correct. thank a lot. lol\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97279379/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97280304", "body": "@chantra \nWhen I  navigate to /api/v1/shape/ I find the django-rest-framework app not install.   so I install it.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97280304/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "ddworken": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8da7fbd4985bf1f34799e26e4f291c087a8eedf2", "message": "Another typo fixed\n\nAdded a space"}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "marcelometal": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/27c9ff08f3d5386af261d1c7c8abb9a3b4108569", "message": "README: Fixed typo\n\nReplaced 'connec' with 'connect'"}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86220189", "body": "done!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86220189/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "peterbe": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/9b9283b4ffe3ca5360652ec9eb576f05c5b50eca", "message": "pip oneliner\n\nThere's no need to install one pip package at a time. Especially since it won't stop if any of the previous fails. \r\nIf you do `pip install voiuh2foisf2 a-real-package` it won't install `a-real-package`."}], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85694287", "body": "done\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85694287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "tbfly": {"issues": [], "commits": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/commits/8bb071848ac9b42a96460e309e82515a7066b36a", "message": "!): Fix for \"make\" build error."}], "pull_requests": [], "issue_comments": [], "commit_comments": [], "review_comments": []}, "ss18": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/347", "title": "Fixed typo: bandwith -> bandwidth", "body": "bandwith -> bandwidth", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": []}, "sheenobu": {"issues": [], "commits": [], "pull_requests": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/339", "title": "Add gitignore vendor file, with atc_thrift exception. Add atcd-remote\u2026", "body": "\u2026 file", "author_association": "NONE"}], "issue_comments": [], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134844078", "body": "We want to keep the lockfile so there is no surprise when building/testing. Different peoples copies of atc will be slightly different depending on when the project was downloaded and glide install ran.\r\n\r\nThis has been discussed pretty heavily in the ruby and rails community regarding Gemfile.lock.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134844078/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134848163", "body": "It's a change in how thrift generates golang code. GetProperty() is way less idiomatic than .Property. I am using an older version of the thrift-compiler (0.9.3 vs 0.9.1) but the thrift library that provides the golang support and generation code is much newer.", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/134848163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "facebook-github-bot": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85331421", "body": "Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file. In order for us to review and merge your code, please sign up at https://code.facebook.com/cla - and if you have received this in error or have any questions, please drop us a line at cla@fb.com. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85331421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85428999", "body": "Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85428999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85687534", "body": "Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file. In order for us to review and merge your code, please sign up at https://code.facebook.com/cla - and if you have received this in error or have any questions, please drop us a line at cla@fb.com. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85687534/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85695207", "body": "Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85695207/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86156396", "body": "Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file. In order for us to review and merge your code, please sign up at https://code.facebook.com/cla - and if you have received this in error or have any questions, please drop us a line at cla@fb.com. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86156396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86214936", "body": "Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file. In order for us to review and merge your code, please sign up at https://code.facebook.com/cla - and if you have received this in error or have any questions, please drop us a line at cla@fb.com. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86214936/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86220037", "body": "Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86220037/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87135408", "body": "Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file. In order for us to review and merge your code, please sign up at https://code.facebook.com/cla - and if you have received this in error or have any questions, please drop us a line at cla@fb.com. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87135408/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87136004", "body": "Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87136004/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94627377", "body": "Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file. In order for us to review and merge your code, please sign up at https://code.facebook.com/cla - and if you have received this in error or have any questions, please drop us a line at cla@fb.com. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94627377/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94649199", "body": "Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/94649199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "ayufan": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85590432", "body": "You can try https://github.com/Polidea/Cellular-Data-Network-Simulator :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85590432/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "patcon": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85626163", "body": "Possibly helpful http://www.speedguide.net/faq/what-are-the-actual-speeds-of-gprs-edge-umts-hspa-366\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85626163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85628431", "body": "@zfjagann mentioned in IRC that he would look into providing some sample profiles. Also, he mentioned some info was in the blog post screenshots (though not much):\n\nhttps://code.facebook.com/posts/1561127100804165/augmented-traffic-control-a-tool-to-simulate-network-conditions/\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85628431/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85692896", "body": "thanks! :+1:\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85692896/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27710954", "body": "ziiiiiing! :)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/pulls/comments/27710954/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}]}, "jasta": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85679225", "body": "Looking at this a little closer, what would the distribution breakdown look like in your view?  The way I see it is that you'd need at least three separate core packages, with maybe one meta package that binds them for convenience:\n\n```\n- atc (meta package)\n  - atcd\n    - atc_thrift\n    - python\n    - ?\n  - atcui (includes django-atc-demo-ui, django-atc-api, django-atc-profile-storage)\n    - atc_thrift\n    - python\n    - django\n    - ?\n  - atc_thrift\n    - python\n    - thrift\n```\n\nWould this be an accurate breakdown?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85679225/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "rbhat0987": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85841043", "body": "yeh sure let me try again\nthanks for fast response\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/85841043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88568580", "body": "You dont need to worry about windows yes it works properly on the windows with the config you have provided...about atcd i am still figuring it out...thanks\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88568580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88741235", "body": "I dont have access to my routers have asked my admin for the same\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88741235/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "boxerxing": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86336898", "body": "@chantra thank you for your help.I'll try it on ubuntu 13.04 system but Django and MySQL always apt-get failed... I hope use ATC on iPhone between OSX .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86336898/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86367453", "body": "Great!,The ATC env is build done,but i have another problem,After i config both files (\"atcui/settings.py\" and \"atcui/urls.py\") as your doc,then i run \"sudo atcd\" under virtual env,but the atcd server couldn't be luanched with issue: (Could you help me ? i do sudo atcd --atcd-eth0 failed like this.)\nINFO:AtcdVService.AtcdNBServerTask:AtcdNBServerTask Server Started on 127.0.0.1:9090\nCRITICAL:AtcdVService.AtcdLinuxShaper:One of the following interfaces does not exist: eth1, eth0\nERROR:sparts.tasks:Error creating task, AtcdLinuxShaper\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vtask.py\", line 313, in init\n    t.initTask()\n  File \"/usr/local/lib/python2.7/dist-packages/atcd/backends/linux.py\", line 48, in initTask\n    super(AtcdLinuxShaper, self).initTask()\n  File \"/usr/local/lib/python2.7/dist-packages/atcd/AtcdThriftHandlerTask.py\", line 220, in initTask\n    self._links_lookup()\n  File \"/usr/local/lib/python2.7/dist-packages/atcd/backends/linux.py\", line 65, in _links_lookup\n    raise Exception(msg)\nException: One of the following interfaces does not exist: eth1, eth0\nERROR:AtcdVService:Unexpected Exception during init\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vservice.py\", line 268, in _runloop\n    instance._createTasks()\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vservice.py\", line 167, in _createTasks\n    self.tasks.init()\n  File \"/usr/local/lib/python2.7/dist-packages/sparts/vtask.py\", line 332, in init\n    len(exceptions))\nException: Unable to start service (1 task start errors)\nINFO:AtcdVService:Received graceful shutdown request\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\nINFO:AtcdVService:Waiting for tasks to shutdown gracefully...\nDEBUG:AtcdVService:Waiting for <atcd.AtcdDeviceTimeoutTask.AtcdDeviceTimeoutTask object at 0x183b050> to stop...\nDEBUG:AtcdVService:Waiting for <atcd.backends.linux.AtcdLinuxShaper object at 0x1838310> to stop...\nDEBUG:AtcdVService:Waiting for <atcd.AtcdDBQueueTask.AtcdDBQueueTask object at 0x18383d0> to stop...\nDEBUG:AtcdVService:Waiting for <atcd.AtcdThriftHandlerTask.AtcdNBServerTask object at 0x17ebed0> to stop...\nINFO:AtcdVService:Instance shut down gracefully\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86367453/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87200399", "body": "@zfjagann my OS is Ubuntu 13.04 with firefox browser \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87200399/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "dinny": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86361099", "body": "There's a well documented user guide in the home directory. Have you ever read README.md? \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86361099/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "yelinqing": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86430972", "body": "I  have read  README.md. But I don't kow how to use it  with my app\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86430972/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "jinkerry": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86862279", "body": "Six version is 1.9.0 in my env.\nMaybe some other reason?\n\nThank you.\n\n```\njinfengdeMacBook-Pro:~ jinfeng$ pip freeze\naltgraph==0.10.2\natc-thrift==0.1.0\natcd==0.1.0\nbdist-mpkg==0.5.0\nbonjour-py==0.3\ndaemonize==2.3.1\nDjango==1.7.7\ndjango-atc-api==0.1.0\ndjango-atc-demo-ui==0.1.0\ndjango-atc-profile-storage==0.1.0\ndjango-bootstrap-themes==3.1.2\ndjango-static-jquery==1.11.1\ndjangorestframework==3.1.1\nfutures==2.2.0\nmacholib==1.5.1\nmatplotlib==1.3.1\nmodulegraph==0.10.4\nnumpy==1.8.0rc1\npy2app==0.7.3\npyobjc-core==2.5.1\npyobjc-framework-Accounts==2.5.1\npyobjc-framework-AddressBook==2.5.1\npyobjc-framework-AppleScriptKit==2.5.1\npyobjc-framework-AppleScriptObjC==2.5.1\npyobjc-framework-Automator==2.5.1\npyobjc-framework-CFNetwork==2.5.1\npyobjc-framework-Cocoa==2.5.1\npyobjc-framework-Collaboration==2.5.1\npyobjc-framework-CoreData==2.5.1\npyobjc-framework-CoreLocation==2.5.1\npyobjc-framework-CoreText==2.5.1\npyobjc-framework-DictionaryServices==2.5.1\npyobjc-framework-EventKit==2.5.1\npyobjc-framework-ExceptionHandling==2.5.1\npyobjc-framework-FSEvents==2.5.1\npyobjc-framework-InputMethodKit==2.5.1\npyobjc-framework-InstallerPlugins==2.5.1\npyobjc-framework-InstantMessage==2.5.1\npyobjc-framework-LatentSemanticMapping==2.5.1\npyobjc-framework-LaunchServices==2.5.1\npyobjc-framework-Message==2.5.1\npyobjc-framework-OpenDirectory==2.5.1\npyobjc-framework-PreferencePanes==2.5.1\npyobjc-framework-PubSub==2.5.1\npyobjc-framework-QTKit==2.5.1\npyobjc-framework-Quartz==2.5.1\npyobjc-framework-ScreenSaver==2.5.1\npyobjc-framework-ScriptingBridge==2.5.1\npyobjc-framework-SearchKit==2.5.1\npyobjc-framework-ServiceManagement==2.5.1\npyobjc-framework-Social==2.5.1\npyobjc-framework-SyncServices==2.5.1\npyobjc-framework-SystemConfiguration==2.5.1\npyobjc-framework-WebKit==2.5.1\npyOpenSSL==0.13.1\npyotp==1.4.1\npyparsing==2.0.1\npyroute2==0.3.3\npython-dateutil==1.5\npytz==2013.7\nscipy==0.13.0b1\nsix==1.9.0\nsparts==0.7.1\nthrift==0.9.2\nTwisted==13.2.0\nxattr==0.6.4\nzope.interface==4.1.1\n```\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/86862279/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wwewwt": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87612669", "body": "I have a Notebook  which has two Network Interface Cards,One is wireless ,the other is Wired.\nIf I want to test my android app,I think the steps are:\n\n1.Install a linux system in my notebook\n2.My app connect to notebook through wireless (WIFI).\n3.My notebook connect to internet through  a network cable.\n4.Install ATC in my notebook and use my app to set the profile.\n\nIs that all right?    Thank you very much!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87612669/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88018265", "body": "hi @chantra \nThank you,I have run ATC in my laptop successfully and set the network correctly\n\nBut I have meet a problem when I browser \"atc_demo_ui\":\nWhen I use my mobile browser such as chrome and firfox,after I click the \"Select\" button,I can't click the \"Turn On\" button.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88018265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88029152", "body": "I debug the web in firefox\n\nPOST http://192.168.1.1:8000/api/v1/shape/    400 BAD REQUEST\n\n{\"detail\":\"{'down': {'rate': [u'A valid integer is required.']}, 'up': {'rate': [u'A valid integer is required.']}}\"}\n\nbut I have Post the \"down\" and \"up\"  param.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88029152/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88142772", "body": "@chantra   \n\naha,sorry,I have fixed the problem,the bandwidth must be an integer,not a float.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88142772/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88150373", "body": "@chantra  \nThank you for you guidance  :-)\nThe ATC is  powerful and userful.\n\nThe news about Facebook ATC :\"Facebook opting instead for a WiFi network traffic control to simulate the data communication in Brazil, India, Nigeria and the Philippines, the low speed 2G cellular networks\"\n\nDo you know what are these profiles about Brazil, India, Nigeria and the Philippines, the low speed 2G cellular networks?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88150373/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88784704", "body": "Ubuntu 12.04  desktop\nThinkpad x220 \neth0 (internet) , wlan0(used hostapd to create a Soft-AP)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88784704/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "KaptenJansson": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87713829", "body": "I guess you are trying to run it on Mac OS? Only Linux is [supported](http://facebook.github.io/augmented-traffic-control/).\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87713829/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "kimjungyeon": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87884254", "body": "@KaptenJansson , @zfjagann thank you so much! God bless you!!!!  :-)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/87884254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/91075193", "body": "@chantra thanks for your help!!! :-)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/91075193/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/99353614", "body": "this is my networks\nlan ap1 --------nic1(eth1)/nic(eth0)--------wan ap2(many mobile devices at this ap)\n<---------------------------------------------------(data flow)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/99353614/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/99355405", "body": "and my iptables like this\n#iptables --table nat --append POSTROUTING --out-interface eth1 -j MASQUERADE\n&&\n#iptables --append FORWARD --in-interface eth0 -j ACCEPT\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/99355405/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "ohorodnichuk": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88089468", "body": "I have run atcd without passphrase\nI think that this \"passphrase\" is your user password (ubuntu/debian style) \n\nTry to run it from root\n`sudo su`\n`atcd --daemon`\nand read `atcd --help` will be useful \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88089468/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88381681", "body": "O! Thanks! I see... \nfor eth0\n`class htb 1:3 root leaf 804c: prio 0 rate 12000bit ceil 12000bit burst 1599b cburst 1599b`\n`class netem 804c:1 parent 804c:`\n\nand the same for eth1\n\nBut Speedtest shows me the result which absolutely does not correspond to what I set.\nI want to limit the network speed to 0.1mbit/s (12kbps `kilobytes` as I understand from `tc` manual). In speedtest I have got 0.38 - 0.44mbit/s download and network issue when upload.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88381681/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88389950", "body": "Bug maybe?\nBut I can't investigate it.\n\nWhen I choose 12kbps only for uplink or downlink as a result a got:\n`class htb 1:2 root leaf 8061: prio 0 rate 4194Mbit ceil 4194Mbit burst 1048b cburst 1048b`\n\n4194Mbit?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88389950/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88853521", "body": "I'll try to explain how I experiment)\nMy network scheme look like:\neth1 network A 10.24.196.0/24 without internet with 10.24.196.100 like default gateway for clients.\neth0 network B 10.24.128.0 is second interface with internet.\n\nThis machine works like router (without nat, ip_forward enabled).\n\nrouting table:\n`0.0.0.0         10.24.128.254   0.0.0.0         UG    0      0        0 eth0`\n`10.24.128.0     0.0.0.0         255.255.255.0   U     0      0        0 eth0`\n`10.24.196.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1`\n\ntc:\n`root@atc:~# tc qdisc show`\n`qdisc htb 1: dev eth0 root refcnt 2 r2q 10 default 0 direct_packets_stat 516`\n`qdisc htb 1: dev eth1 root refcnt 2 r2q 10 default 0 direct_packets_stat 216`\n`root@atc:~# tc class show dev eth0`\n`root@atc:~# tc class show dev eth1`\n\niptables:\n`root@atc:~# iptables -t mangle -L`\n`Chain PREROUTING (policy ACCEPT)`\n`target     prot opt source               destination`\n`Chain INPUT (policy ACCEPT)`\n`target     prot opt source               destination`\n`Chain FORWARD (policy ACCEPT)`\n`target     prot opt source               destination`\n`Chain OUTPUT (policy ACCEPT)`\n`target     prot opt source               destination`\n`Chain POSTROUTING (policy ACCEPT)`\n`target     prot opt source               destination`\n\nAnd I turn on ATC\nThrough web interface I'm creating a template:\nhttp://tinypic.com/r/j9wzl5/8\nI'd like to limit download speed to 1Mbit/s (10kbps - 0,8 mbit/s is appropriate for test)\n`{\"up\":{\"rate\":\"\",\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0},\"loss\":{\"percentage\":0,\"correlation\":0},\"reorder\":{\"percentage\":0,\"correlation\":0,\"gap\":0},\"corruption\":{\"percentage\":0,\"correlation\":0},\"iptables_options\":[]},\"down\":{\"rate\":\"10\",\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0},\"loss\":{\"percentage\":0,\"correlation\":0},\"reorder\":{\"percentage\":0,\"correlation\":0,\"gap\":0},\"corruption\":{\"percentage\":0,\"correlation\":0},\"iptables_options\":[]}}`\n\npython runserver told me:\n`[02/Apr/2015 08:40:37] \"POST /api/v1/shape/ HTTP/1.1\" 400 64`\n`[02/Apr/2015 08:40:38] \"POST /api/v1/shape/ HTTP/1.1\" 400 64`\n`[02/Apr/2015 08:40:38] \"POST /api/v1/shape/ HTTP/1.1\" 400 64`\nand not work\n\nThen I'll try to limit both down and up rate:\n\n`{\"up\":{\"rate\":\"10\",\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0},\"loss\":{\"percentage\":0,\"correlation\":0},\"reorder\":{\"percentage\":0,\"correlation\":0,\"gap\":0},\"corruption\":{\"percentage\":0,\"correlation\":0},\"iptables_options\":[]},\"down\":{\"rate\":\"10\",\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0},\"loss\":{\"percentage\":0,\"correlation\":0},\"reorder\":{\"percentage\":0,\"correlation\":0,\"gap\":0},\"corruption\":{\"percentage\":0,\"correlation\":0},\"iptables_options\":[]}}`\n\nHere is atcd log\nhttp://pastebin.com/EHL4tTMF\n\n10.24.196.99 client ip\n10.24.196.99 -> 10.24.196.100 -> internet\n\ntc:\n`root@atc:~# tc qdisc show`\n`qdisc htb 1: dev eth0 root refcnt 2 r2q 10 default 0 direct_packets_stat 147`\n`qdisc netem 8001: dev eth0 parent 1:2 limit 1000`\n`qdisc htb 1: dev eth1 root refcnt 2 r2q 10 default 0 direct_packets_stat 96`\n`qdisc netem 8002: dev eth1 parent 1:2 limit 1000`\n`root@atc:~# tc class show dev eth0`\n`class htb 1:2 root leaf 8001: prio 0 rate 10000bit ceil 10000bit burst 1600b cburst 1600b`\n`class netem 8001:1 parent 8001:`\n`root@atc:~# tc class show dev eth1`\n`class htb 1:2 root leaf 8002: prio 0 rate 10000bit ceil 10000bit burst 1600b cburst 1600b`\n`class netem 8002:1 parent 8002:`\n\niptables:\n`root@atc:~# iptables -t mangle -L`\n`Chain PREROUTING (policy ACCEPT)`\n`target     prot opt source               destination`\n`Chain INPUT (policy ACCEPT)`\n`target     prot opt source               destination`  \n`Chain FORWARD (policy ACCEPT)`\n`target     prot opt source               destination`  \n`MARK       all  --  anywhere             10.24.196.99         MARK set 0x2`\n`MARK       all  --  10.24.196.99         anywhere             MARK set 0x2`\n`Chain OUTPUT (policy ACCEPT)`\n`target     prot opt source               destination`\n`Chain POSTROUTING (policy ACCEPT)`\n`target     prot opt source               destination`\n\nSpeedtest shows me 6 ms DOWN-0.35 mbits UP-0.01\nWhen turn off ATC 18mbit/s in/out. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88853521/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88858530", "body": "And for example:\n`{\"up\":{\"rate\":\"100\",\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0},\"loss\":{\"percentage\":0,\"correlation\":0},\"reorder\":{\"percentage\":0,\"correlation\":0,\"gap\":0},\"corruption\":{\"percentage\":0,\"correlation\":0},\"iptables_options\":[]},\"down\":{\"rate\":\"100\",\"delay\":{\"delay\":0,\"jitter\":0,\"correlation\":0},\"loss\":{\"percentage\":0,\"correlation\":0},\"reorder\":{\"percentage\":0,\"correlation\":0,\"gap\":0},\"corruption\":{\"percentage\":0,\"correlation\":0},\"iptables_options\":[]}}`\n\n`root@atc:~# tc class show dev eth1`\n`class htb 1:2 root leaf 800c: prio 0 rate 100000bit ceil 100000bit burst 1600b cburst 1600b`\n`class netem 800c:1 parent 800c:`\n`root@atc:~# tc class show dev eth0`\n`class htb 1:2 root leaf 800b: prio 0 rate 100000bit ceil 100000bit burst 1600b cburst 1600b`\n`class netem 800b:1 parent 800b:`\n\nSpeedtest shows me: DOWN-3.5Mbit/s / UP-0.25 Mbit/s\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88858530/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88867689", "body": "No, this is internal linux kernel logic. Maybe in \"kernel\" some tags are present. But outbound traffic goes without changes / additions.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88867689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "borepstein": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88155869", "body": "Hello @chantra\n\nThanks for your response. I have Python version 2.6 and 3.4 installed.\n\nIt looks like the installation command:\n\npip install atc_thrift atcd django-atc-api django-atc-demo-ui\ndjango-atc-profile-storage\n\ndoes not run under python 2. So do I need to install using python 3 but\nthen run it using python 2?\n\nCheers,\n\nBoris.\n\nOn Tue, Mar 31, 2015 at 11:53 AM, chantra notifications@github.com wrote:\n\n> Hi @borepstein https://github.com/borepstein\n> As per 1\n> http://facebook.github.io/augmented-traffic-control/docs/install.html,\n> ATC currently only support python 2.7. While we could port atc code itself\n> to python 3, currently the python thrift binding only support python 2.X\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/85#issuecomment-88140760\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88155869/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88551799", "body": "Hello cnatra,\n\nHere we go:\n\n[atc@atc-gw ~]$ sudo iptables -t mangle --list -n\n[sudo] password for atc:\nChain PREROUTING (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination\nMARK       all  --  0.0.0.0/0            10.5.4.127          MARK set 0x2\nMARK       all  --  10.5.4.127           0.0.0.0/0           MARK set 0x2\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain POSTROUTING (policy ACCEPT)\ntarget     prot opt source               destination\n[atc@atc-gw ~]$\n\n10.5.4.127 is the machine I am using to access the web interface so I think this makes sense.\n\nCheers,\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88551799/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88553510", "body": "Here is the atcd output that far (both in the shell window and in /var/log/messages):\n\n(venv)[atc@atc-gw ~]$ sudo ~/dev/atc/venv/bin/atcd\nINFO:AtcdVService.AtcdNBServerTask:AtcdNBServerTask Server Started on 127.0.0.1:9090\nINFO:AtcdVService.AtcdLinuxShaper:Calling initialize_shaping_system\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -F FORWARD\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth1\nWARNING:AtcdVService.AtcdLinuxShaper:could not delete root QDisc. There might have been nothing to delete\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth1\nINFO:AtcdVService.AtcdLinuxShaper:deleting root QDisc on eth0\nWARNING:AtcdVService.AtcdLinuxShaper:could not delete root QDisc. There might have been nothing to delete\nINFO:AtcdVService.AtcdLinuxShaper:setting root qdisc on eth0\nINFO:AtcdVService.AtcdLinuxShaper:Restoring shaped connection from DB\nINFO:AtcdVService.AtcdLinuxShaper:Request startShaping TrafficControl(device=TrafficControlledDevice(controllingIP='10.5.4.127', controlledIP='10.5.4.127'), timeout=19931.442123889923, settings=TrafficControlSetting(down=Shaping(loss=Loss(percentage=80.0, correlation=0.0), delay=Delay(delay=10000, jitter=0, correlation=0.0), rate=2, iptables_options=[], corruption=Corruption(percentage=90.0, correlation=0.0), reorder=Reorder(percentage=30.0, correlation=0.0, gap=0)), up=Shaping(loss=Loss(percentage=50.0, correlation=0.0), delay=Delay(delay=20000, jitter=0, correlation=0.0), rate=1, iptables_options=[], corruption=Corruption(percentage=90.0, correlation=0.0), reorder=Reorder(percentage=20.0, correlation=0.0, gap=0))))\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 10.5.4.127 on interface eth0\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth0, classid 1:2,parent 1:0, rate 1kbits\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth0, parent 1:2, loss 50.0%, delay 20000000\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth0, classid 1:2, handle 2, rate: 1kbits\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -d 10.5.4.127 -i eth0  -j MARK --set-mark 2\nINFO:AtcdVService.AtcdLinuxShaper:Shaping ip 10.5.4.127 on interface eth1\nINFO:AtcdVService.AtcdLinuxShaper:create new HTB class on IFID eth1, classid 1:2,parent 1:0, rate 2kbits\nINFO:AtcdVService.AtcdLinuxShaper:create new Netem qdisc on IFID eth1, parent 1:2, loss 80.0%, delay 10000000\nINFO:AtcdVService.AtcdLinuxShaper:create new FW filter on IFID eth1, classid 1:2, handle 2, rate: 2kbits\nINFO:AtcdVService.AtcdLinuxShaper:Running /sbin/iptables -t mangle -A FORWARD -s 10.5.4.127 -i eth1  -j MARK --set-mark 2\nDEBUG:AtcdVService:All tasks started\nDEBUG:AtcdVService:VService Active.  Awaiting graceful shutdown.\nINFO:AtcdVService.AtcdLinuxShaper:Request getCurrentShaping for ip 10.5.4.127\nINFO:AtcdVService.AtcdLinuxShaper:Request getCurrentShaping for ip 10.5.4.127\n\nNothing looking particularly wrong to me - only no effect on the actual NICs' performance.\n\nCheers,\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88553510/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88566756", "body": "@chantra\nWill do.\n\nI just tried to join the webchat, was kicked from it on the basis of it\nbeing invitation-only:\n\nChannel names begin with # (corrected automatically).\n[13:25] -herbert.freenode.net- **\\* Notice -- TS for # changed from\n1427909149 to 1164523362\n[13:25] == borepstein was kicked from # by ChanServ [Invite only channel]\n\nDo you need to invite me somehow first?\n\nBoris.\n\nOn Wed, Apr 1, 2015 at 1:22 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein thanks for sending this over.\n> That looks right.\n> Can you also send the client and server's ip route.\n> Also, please join #atcd on freenode, it may be easier to work on this\n> interactively. there is a web chat available at\n> https://webchat.freenode.net/\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/90#issuecomment-88564027\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88566756/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88571069", "body": "@chantra \n\nYes, I believe I did. Will try again.\n\nFor now here are the routing tables.\n\nServer/gateway:\n\n[atc@atc-gw ~]$ route -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n192.168.120.0   0.0.0.0         255.255.255.0   U     0      0        0 eth1\n10.1.3.0        0.0.0.0         255.255.255.0   U     0      0        0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U     1002   0        0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U     1003   0        0 eth1\n0.0.0.0         10.1.3.10       0.0.0.0         UG    0      0        0 eth0\n[atc@atc-gw ~]$\n\nClient:\n\n[administrator@cent1 ~]$ route -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n192.168.120.0   0.0.0.0         255.255.255.0   U     1      0        0 eth0\n0.0.0.0         192.168.120.1   0.0.0.0         UG    0      0        0 eth0\n[administrator@cent1 ~]$\n\nThanks again for looking into it.\n\nCheers,\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88571069/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88576020", "body": "@chantra\n\nYes, the client routes through the gateway that also does NAT'ing. The\nclient here is on a completely self-contained network - the rest of the\nprivate network does not know it exists.\n\n10.5.4.127 is my desktop from which I control the ATC UI. But it is not\ncommunication to this address I use to measure the performance.\n\nRight now the throughput is throttled by the server at 1 Kbit/s on one\ninterface and 2 Kbit/s on the other. Hence 1 KBit/s is all you should see\nwhen the client is communicating to the internet. But watch this (just ran\nit):\n\n[administrator@cent1 ~]$ wget\nhttp://cosmos.cites.illinois.edu/pub/centos/6.6/os/x86_64/images/install.img\n--2015-04-01 09:56:36--\nhttp://cosmos.cites.illinois.edu/pub/centos/6.6/os/x86_64/images/install.img\nResolving cosmos.cites.illinois.edu... 192.17.174.4\nConnecting to cosmos.cites.illinois.edu|192.17.174.4|:80... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 153079808 (146M) [text/plain]\nSaving to: \u201cinstall.img\u201d\n\n100%[======================================>] 153,079,808 4.60M/s   in 35s\n\n2015-04-01 09:57:11 (4.13 MB/s) - \u201cinstall.img\u201d saved [153079808/153079808]\n\n[administrator@cent1 ~]$\n\nBoris.\n\nOn Wed, Apr 1, 2015 at 1:47 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein\n> here is the issue as much I can see from the output.\n> \n> Client has IP 192.168.120.X and default route through the ATC gw at\n> 192.168.120.1.\n> The gateway as also a WAN interface 10.1.3.X on which you do natting.\n> \n> The traffic is being shaped for _10.5.4.127_ . Is this your host IP?\n> Are you connecting to the ATC UI from the client? or from the host?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/90#issuecomment-88572206\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88576020/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88585574", "body": "@chantra\n\nThank you very much, this did the trick!\n\nOne thing I don't understand, though - or perhaps it is just me failing to\nfully grasp the concept - is that it seems like controls are applied to all\nthe traffic on the gateway's interfaces; based on that, shouldn't it be\nshaped the same for all the traffic, not just traffic to and from a\nparticular client?\n\nBoris.\n\nOn Wed, Apr 1, 2015 at 2:03 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein because you control the UI\n> from your desktop, ATC is setting shaping for this IP (which is not routed\n> through).\n> You need to initiate the connection to the UI from the client.\n> \n> Alternatively, you may want to check how to use the API:\n> https://github.com/facebook/augmented-traffic-control/tree/master/atc/django-atc-api\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/90#issuecomment-88577931\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88585574/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88655287", "body": "Just wanted to chime in.\n\nWe seem to be having a similar experience. Strangely enough, after we were able to get results consistent with the throughput set.\n\nOne differentiating factor - potentially - was that at first I was the only one playing with it but then I let others try their hand at it. But afterwards it was never the same - the speed, even when set to 80000 Kbit/s = 10 MB/s it still transmits at no more than 20 KB/s = 160 Kbit/s. Once you turn shaping off it transmits fine (in our case, many MB/s).\n\nAlso noteworthy is the fact that latency controls seem to work just fine.\n\nJust reporting this in hopes this helps troubleshoot the issue.\n\nCheers,\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88655287/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88851538", "body": "@chantra\n\nNo, the people - myself included - are now accessing by RDP'ing into either\none of the two VM's I set on my private VirtualBox network (192.168.120.0/24)\nand then accessing the ATCD server using a browser at\nhttp://192.168.120.1:8000. No NATing takes place there.\n\ntc output looked fine - different queues seem to have been created for\ndifferent IP's.\n\nBoris.\n\nOn Wed, Apr 1, 2015 at 6:53 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein are people accessing ATC\n> through a natting device? making them all look like they come from the same\n> IP?\n> ATC would not know about that and anybody setting new settings will make\n> all devices behind the same IP being shaped.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-88656321\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88851538/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88865404", "body": "I have a question: the tagging that iptables does to tc to designate packets for a certain queue - is that equivalent to VLAN tagging? Do the packets destined to go out to the world go out tagged? If so, could that confuse the networking equipment involved - such as switches, etc.?\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88865404/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89130147", "body": "Additional info, possibly relevant to this issue.\n\nI discovered the following today. Unreasonably slow - if not hung - transmission results only when two conditions are met:\n\n1) ATCD is running;\n\n2) somewhere down the line NAT takes place.\n\nIt seems this may have to do with packet marking introduced by ATCD. Is that possible? Is there a way to unmark packets downstream from the ATCD server? \n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89130147/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89240344", "body": "Yes, there does appear to be a conflict between iptables marking of packets and NAT (MASQ). See this for details:\n\nhttp://lists.centos.org/pipermail/centos/2015-April/151245.html\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89240344/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89365694", "body": "@chantra\n\nThanks, I have tried this but the marks don't go anywhere - and since there\nare places downstream where NATing occurs looks like we still got a problem.\n\nBoris.\n\nOn Fri, Apr 3, 2015 at 12:11 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein you are referring to can be\n> found here:\n> http://lists.netfilter.org/pipermail/netfilter/2000-November/006089.html\n> For testing purpose you could add an extra layer of routing (e.g ATC\n> routes through another host that does the natting), this way that would\n> rule out the nat/marking conflict.\n> Or depending on your setup, you can simply route the traffic to the lan\n> network to route though the atc. This will really vary depending your\n> network, but here is 1 potential setup:\n> - atc's wan interface is in bridge mode and the next hop nats the\n>   traffic, in this case you will need to tell the next hop to route your atc\n>   lan subnet via the atc's wan ip ( and stop natting)\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-89339457\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89365694/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89370121", "body": "Well, given the consequences I am seeing - i.e., severe degradation past\nwherever the NATing gateway is, even if it is a hop or two removed from the\nATCD gateway - I find it hard to believe that the content of the IP packets\nis not altered somehow. Question is, how - and how to remedy this situation.\n\nCheers,\n\nBoris.\n\nOn Fri, Apr 3, 2015 at 1:20 PM, chantra notifications@github.com wrote:\n\n> The mark is internal to the host only.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-89366366\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89370121/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89394513", "body": "@chantra\n\nDon't worry, I fully understand - this is a tricky one.\n\nWhat kind of setup do you guys use internally, by the way?\n\nI am working on it, hopefully will have more data and/or thoughts before\ntoo long.\n\nCheers,\n\nBoris.\n\nOn Fri, Apr 3, 2015 at 3:13 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein I guess I do not have any\n> quick solution to how to remedy this.\n> We will try to repro when we get time for it, in the meantime, I would\n> suggest you fiddle a bit with the settings to find something that you feel\n> representative of what you want to test.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-89394069\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89394513/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89436766", "body": "@chantra\n\nAdditionally, see this:\n\n\"iptables has a method called fwmark, which can be used to add a mark to packages, a mark that can survive routing across interfaces.\nFirst, this makes packages marked with 6, to be processed by the 1:30 class\ntc filter add dev eth0 protocol ip parent 1: prio 1 handle 6 fw flowid 1:30 \nThis sets that mark 6, using iptables\niptables -A PREROUTING -t mangle -i eth0 -j MARK --set-mark 6\nYou can then use the regular way of iptables to match packages and then use fwmark to mark them.\"\n\nSource: https://wiki.archlinux.org/index.php/Advanced_traffic_control\n\nSo yes, marks are inserted into packets and can indeed travel down the line which matches perfectly with what I am observing.\n\nSo the questions still is, how to get rid of them once they have been used for the intended purpose.\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89436766/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89984964", "body": "@chantra\n\nThank you very much! We will do that and report back.\n\nAdditionally, I have done some research and can confirm that the marks\n(iptables --set-mark) do not indeed leave the machine that they are used\non, i.e., the ATCD server. And yes, indeed what you are saying makes\nperfect sense as latency settings and ICMP transmissions match what is\nexpected, speedwise, whereas TCP goes in bursts and is generally slow that\nwould certainly correspond to the picture you are describing.\n\nOn Sun, Apr 5, 2015 at 10:05 PM, chantra notifications@github.com wrote:\n\n> Ok, so I have been doing some iperf test and can confirm that we indeed\n> get the throttling rate we expect.\n> UDP iperf has been reporting the right bandwidth. Using TCP, the rate will\n> become pretty low as there is a lof of packet dropped and retransmission\n> ... happening.\n> \n> you could use chantra/augmented-traffic-control@8961db0\n> https://github.com/chantra/augmented-traffic-control/commit/8961db07784a9a30283414e66c33768e64519870\n> and start atcd with:\n> \n> atcd --atcd-dont_drop_packets\n> \n> And packets will be queued on the ATC device instead of being dropped.\n> This will have the effect on having packets queueing up and getting out the\n> atc router at the throttling rate.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-89889404\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89984964/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89996165", "body": "@chantra\n\nThanks again for all your help.\n\nSo just to be sure - you were saying that ATCD itself - not the kernel - would drop the packets. Because one idea of mine was to try and tune up the kernel - in case it was the kernel responsible.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89996165/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90069150", "body": "@chantra,\n\nI just tried running this new code and got the following:\n\n(venv)[atc@atc-gw ~]$ sudo /home/atc/dev/atc/venv/bin/atcd\n--atcd_dont_drop_packets\nusage: atcd [-h] [--daemon] [--dryrun] [--kill] [--level LEVEL]\n            [--logfile LOGFILE] [--pidfile PIDFILE]\n            [--tasks [TASK [TASK ...]]] [--status] [--thrift-host HOST]\n            [--thrift-threads N] [--thrift-port PORT]\n            [--sqlite-max-items SQLITE_MAX_ITEMS] [--sqlite-file\nSQLITE_FILE]\n            [--atcd-burst-size BURST_SIZE] [--atcd-fresh-start]\n            [--atcd-iptables IPTABLES] [--atcd-lan LAN]\n            [--atcd-mode {secure,unsecure}] [--atcd-pcap-dir PCAP_DIR]\n            [--atcd-pcap-url-base PCAP_URL_BASE] [--atcd-tcpdump TCPDUMP]\n            [--atcd-wan WAN] [--AtcdDeviceTimeoutTask-interval SECONDS]\natcd: error: unrecognized arguments: --atcd_dont_drop_packets\n(venv)[atc@atc-gw ~]$\n\nThe code - the two files on the branch - does not seem to contain the\nactual string for the option: --atcd-dont_drop_packets I played a bit with\nthe string (changing \"-\" to \"_\" and vice versa) but no luck so far. Is\nthere a piece to this I am missing by any chance?\n\nAlso, I have one more question. Was it the ATCD code itself that was\ndropping the packets or was it the kernel? In case it is the kernel could\nwe perhaps look at some kernel options too? is so - any thoughts on what\nthey would be?\n\nCheers,\n\nBoris.\n\nOn Mon, Apr 6, 2015 at 5:04 AM, Boris Epstein borepstein@gmail.com wrote:\n\n> @chantra\n> \n> Thank you very much! We will do that and report back.\n> \n> Additionally, I have done some research and can confirm that the marks\n> (iptables --set-mark) do not indeed leave the machine that they are used\n> on, i.e., the ATCD server. And yes, indeed what you are saying makes\n> perfect sense as latency settings and ICMP transmissions match what is\n> expected, speedwise, whereas TCP goes in bursts and is generally slow that\n> would certainly correspond to the picture you are describing.\n> \n> On Sun, Apr 5, 2015 at 10:05 PM, chantra notifications@github.com wrote:\n> \n> > Ok, so I have been doing some iperf test and can confirm that we indeed\n> > get the throttling rate we expect.\n> > UDP iperf has been reporting the right bandwidth. Using TCP, the rate\n> > will become pretty low as there is a lof of packet dropped and\n> > retransmission ... happening.\n> > \n> > you could use chantra/augmented-traffic-control@8961db0\n> > https://github.com/chantra/augmented-traffic-control/commit/8961db07784a9a30283414e66c33768e64519870\n> > and start atcd with:\n> > \n> > atcd --atcd-dont_drop_packets\n> > \n> > And packets will be queued on the ATC device instead of being dropped.\n> > This will have the effect on having packets queueing up and getting out the\n> > atc router at the throttling rate.\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHub\n> > https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-89889404\n> > .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90069150/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90557435", "body": "@chantra\n\nThanks.\n\nI just did that - full deinstallation, full reinstallation and still get\nthe following:\n\n(venv)[atc@atc-gw ~]$ sudo ~/dev/atc/venv/bin/atcd --daemon\n--atcd-dont-drop-packets\nusage: atcd [-h] [--daemon] [--dryrun] [--kill] [--level LEVEL]\n            [--logfile LOGFILE] [--pidfile PIDFILE]\n            [--tasks [TASK [TASK ...]]] [--status] [--thrift-host HOST]\n            [--thrift-threads N] [--thrift-port PORT]\n            [--sqlite-max-items SQLITE_MAX_ITEMS] [--sqlite-file\nSQLITE_FILE]\n            [--atcd-burst-size BURST_SIZE] [--atcd-fresh-start]\n            [--atcd-iptables IPTABLES] [--atcd-lan LAN]\n            [--atcd-mode {secure,unsecure}] [--atcd-pcap-dir PCAP_DIR]\n            [--atcd-pcap-url-base PCAP_URL_BASE] [--atcd-tcpdump TCPDUMP]\n            [--atcd-wan WAN] [--AtcdDeviceTimeoutTask-interval SECONDS]\natcd: error: unrecognized arguments: --atcd-dont-drop-packets\n\nIs it possible you didn't fully commit all the changes?\n\nBoris.\n\nOn Mon, Apr 6, 2015 at 1:14 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein\n> \n> So just to be sure - you were saying that ATCD itself - not the kernel -\n> would drop the packets. Because one idea of mine was to try and tune up the\n> kernel - in case it was the kernel responsible.\n> \n> Well, this is the kernel that does the heavy work here. ATCD is only\n> instructing it how to do it by setting new TC values over netlink.\n> \n> The code - the two files on the branch - does not seem to contain the\n> actual string for the option: --atcd-dont_drop_packets I played a bit with\n> the string (changing \"-\" to \"_\" and vice versa) but no luck so far. Is\n> there a piece to this I am missing by any chance?\n> \n> Sorry, my bad, it should be --atcd-dont-drop-packets. Now you are most\n> likely running the old version because it got installed through pip. You\n> should install the new version.\n> \n> pip uninstall atcd\n> pip install /path/to/atcd/\n> \n> should help.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-90160514\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90557435/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90587667", "body": "Just did another reinstallation including clearing out the whole atcd\ndirectory ( .../venv/lib/python2.7/site-packages/atcd ). Then searched\nfor 'atcd-dont-drop-packets'\nin my home directory:\n\nfind . -type f -exec grep -l atcd-dont-drop-packets {} \\;\n\nand found nothing.\n\nJust FYI.\n\nCheers,\n\nBoris.\n\nOn Tue, Apr 7, 2015 at 9:41 AM, Boris Epstein borepstein@gmail.com wrote:\n\n> @chantra\n> \n> Thanks.\n> \n> I just did that - full deinstallation, full reinstallation and still get\n> the following:\n> \n> (venv)[atc@atc-gw ~]$ sudo ~/dev/atc/venv/bin/atcd --daemon\n> --atcd-dont-drop-packets\n> usage: atcd [-h] [--daemon] [--dryrun] [--kill] [--level LEVEL]\n>             [--logfile LOGFILE] [--pidfile PIDFILE]\n>             [--tasks [TASK [TASK ...]]] [--status] [--thrift-host HOST]\n>             [--thrift-threads N] [--thrift-port PORT]\n>             [--sqlite-max-items SQLITE_MAX_ITEMS] [--sqlite-file\n> SQLITE_FILE]\n>             [--atcd-burst-size BURST_SIZE] [--atcd-fresh-start]\n>             [--atcd-iptables IPTABLES] [--atcd-lan LAN]\n>             [--atcd-mode {secure,unsecure}] [--atcd-pcap-dir PCAP_DIR]\n>             [--atcd-pcap-url-base PCAP_URL_BASE] [--atcd-tcpdump TCPDUMP]\n>             [--atcd-wan WAN] [--AtcdDeviceTimeoutTask-interval SECONDS]\n> atcd: error: unrecognized arguments: --atcd-dont-drop-packets\n> \n> Is it possible you didn't fully commit all the changes?\n> \n> Boris.\n> \n> On Mon, Apr 6, 2015 at 1:14 PM, chantra notifications@github.com wrote:\n> \n> > @borepstein https://github.com/borepstein\n> > \n> > So just to be sure - you were saying that ATCD itself - not the kernel -\n> > would drop the packets. Because one idea of mine was to try and tune up the\n> > kernel - in case it was the kernel responsible.\n> > \n> > Well, this is the kernel that does the heavy work here. ATCD is only\n> > instructing it how to do it by setting new TC values over netlink.\n> > \n> > The code - the two files on the branch - does not seem to contain the\n> > actual string for the option: --atcd-dont_drop_packets I played a bit with\n> > the string (changing \"-\" to \"_\" and vice versa) but no luck so far. Is\n> > there a piece to this I am missing by any chance?\n> > \n> > Sorry, my bad, it should be --atcd-dont-drop-packets. Now you are most\n> > likely running the old version because it got installed through pip. You\n> > should install the new version.\n> > \n> > pip uninstall atcd\n> > pip install /path/to/atcd/\n> > \n> > should help.\n> > \n> > \u2014\n> > Reply to this email directly or view it on GitHub\n> > https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-90160514\n> > .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90587667/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90633145", "body": "@chantra\n\nOK, I got it, cool.\n\nWhat's the installation procedure I should follow to install it from that\nbranch?\n\nThanks.\n\nBoris.\n\nOn Tue, Apr 7, 2015 at 12:23 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein\n> I did not commit it, it is on my personal branch:\n> https://github.com/chantra/augmented-traffic-control/tree/no_drop\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-90631200\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90633145/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90673153", "body": "@chantra \n\nI figured out the installation procedure.\n\nSo I did some testing and it looks like the branched version does indeed contain the fix. IMO, ATCD should never drop packets so this ought to be the mainstay behaviour - but this is just my opinion:)\n\nThank you very much for all your help.\n\nCheers,\n\nBoris.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90673153/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90690960", "body": "@chantra\n\nI agree that you can close the task.\n\nIf you don't mind me asking: how was the issue addressed? What was it that\nyou did that caused the ATCD server to stop dropping those packets?\n\nBoris.\n\nOn Tue, Apr 7, 2015 at 2:27 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein\n> Well, typically, some buffers would eventually fill up and drop packets. I\n> agree that we have some rather arbitrary values here and there is room for\n> improvement here. We had a task to make the dropping configurable which in\n> essence is somewhat what the diff I linked here does.\n> I am going to revive this and folow up in a separate task.\n> \n> I believe this task is somewhat resolved or at least alternate solution\n> are provided. I will close it for now.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-90690063\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90690960/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90691750", "body": "OK, makes sense.\n\nWhere is the policy set?\n\nOn Tue, Apr 7, 2015 at 2:30 PM, chantra notifications@github.com wrote:\n\n> well, the way we set up the policy when going above the limited rate is\n> changed to queue instead of droping.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-90691197\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/90691750/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93747601", "body": "@chantra\n\nThanks.\n\nSo this is the default policy, right?\n\nAnd what is dropped is excess packets in the tc accounting/control queues,\ncorrect?\n\nBoris.\n\nOn Wed, Apr 15, 2015 at 4:45 PM, chantra notifications@github.com wrote:\n\n> @borepstein https://github.com/borepstein The policy is set in\n> https://github.com/facebook/augmented-traffic-control/blob/c61493388b3c3738db0b9ad6943cee65451178f1/atc/atcd/atcd/backends/linux.py#L322\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/facebook/augmented-traffic-control/issues/86#issuecomment-93563900\n> .\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/93747601/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "agargiulo": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88888589", "body": "You need two network interfaces to run atcd. It's telling you that one of `eth0` or `eth1` doesn't exist on your system.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/88888589/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96648668", "body": "The second interface doesn't need to be WiFi, just a second interface.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96648668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96667090", "body": "ATC is just sitting on the routing device (in this case, your lubuntu box it seems) and shapes traffic between the two interfaces. If you then want clients to connect via WiFi, that's a separate thing, not related to ATC at all. I'm not 100% certain, maybe @chantra could provide more insight here, but if you want WiFi, you can have ATC on the routing box, then have the wireless access point use the ATC box as its default gateway. This is all very dependent on how your network is configured of course. \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96667090/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96750645", "body": ":+1: \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96750645/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "CONTRIBUTOR"}], "commit_comments": [], "review_comments": []}, "sunhao111999": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89111855", "body": "@agargiulo  @zfjagann Thanks \n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/89111855/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "wildpeanut": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/92158717", "body": "Hello chantra,\n\nthanks for reply, here is another log , I notice the other error happened before\n\n===== log =====\n\n==> trusty: Vendoring yum-epel (0.6.0) to C:/Users/AlinHuang/.berkshelf/vagrant-berkshelf/shelves/berkshelf20150412-9712-ey244e-tr\nusty/yum-epel\n==> trusty: Clearing any previously set network interfaces...\n==> trusty: Preparing network interfaces based on configuration...\n    trusty: Adapter 1: nat\n    trusty: Adapter 2: hostonly\n==> trusty: Forwarding ports...\n    trusty: 8000 => 8080 (adapter 1)\n    trusty: 22 => 2222 (adapter 1)\n==> trusty: Running 'pre-boot' VM customizations...\n==> trusty: Booting VM...\n==> trusty: Waiting for machine to boot. This may take a few minutes...\n    trusty: SSH address: 127.0.0.1:2222\n    trusty: SSH username: vagrant\n    trusty: SSH auth method: private key\n    trusty: Warning: Connection timeout. Retrying...\n    trusty:\n    trusty: Vagrant insecure key detected. Vagrant will automatically replace\n    trusty: this with a newly generated keypair for better security.\n    trusty:\n    trusty: Inserting generated public key within guest...\n    trusty: Removing insecure key from the guest if its present...\n    trusty: Key inserted! Disconnecting and reconnecting using new SSH key...\n==> trusty: Machine booted and ready!\n==> trusty: Checking for guest additions in VM...\n==> trusty: Setting hostname...\n==> trusty: Configuring and enabling network interfaces...\n==> trusty: Mounting shared folders...\n    trusty: /vagrant => D:/MyWork/MyStudy/Facebook-ATC/atc/chef/atc\n    trusty: /usr/local/src/atc/atc => D:/MyWork/MyStudy/Facebook-ATC/atc/atc\n    trusty: /tmp/vagrant-chef/ae4cfd0ce0224b28bb18503728431d99/cookbooks => C:/Users/AlinHuang/.berkshelf/vagrant-berkshelf/shelve\ns/berkshelf20150412-9712-ey244e-trusty\n==> trusty: Installing Chef 12.2.1 Omnibus package...\n\n==> trusty: Downloading Chef 12.2.1 for ubuntu...\n==> trusty: downloading https://www.getchef.com/chef/metadata?v=12.2.1&prerelease=false&nightlies=false&p=ubuntu&pv=14.04&m=x86_64\n\n==> trusty:   to file /tmp/install.sh.1594/metadata.txt\n==> trusty: trying wget...\n==> trusty: url https://opscode-omnibus-packages.s3.amazonaws.com/ubuntu/13.04/x86_64/chef_12.2.1-1_amd64.deb\n==> trusty: md5 84119f54115d754373c9891b8759497c\n==> trusty: sha256      8e0a8a2477c11615f86ffe686a68fa6636112ba82ebe6bb22daa5dd416f3c13e\n==> trusty: downloaded metadata file looks valid...\n==> trusty: downloading https://opscode-omnibus-packages.s3.amazonaws.com/ubuntu/13.04/x86_64/chef_12.2.1-1_amd64.deb\n==> trusty:   to file /tmp/install.sh.1594/chef_12.2.1-1_amd64.deb\n==> trusty: trying wget...\n==> trusty: Comparing checksum with sha256sum...\n==> trusty: Installing Chef 12.2.1\n==> trusty: installing with dpkg...\n==> trusty: Selecting previously unselected package chef.\n==> trusty: (Reading database ... 32400 files and directories currently installed.)\n==> trusty: Preparing to unpack .../chef_12.2.1-1_amd64.deb ...\n==> trusty: Unpacking chef (12.2.1-1) ...\n==> trusty: Setting up chef (12.2.1-1) ...\n==> trusty: Thank you for installing Chef!\n==> trusty: Running provisioner: chef_solo...\n==> trusty: Detected Chef (latest) is already installed\nGenerating chef JSON and uploading...\n==> trusty: Running chef-solo...\n==> trusty: stdin: is not a tty\n==> trusty: [2015-04-12T10:54:36+00:00] INFO: Forking chef instance to converge...\n==> trusty: [2015-04-12T10:54:36+00:00] INFO: **\\* Chef 12.2.1 ***\n==> trusty: [2015-04-12T10:54:36+00:00] INFO: Chef-client pid: 1749\n==> trusty: [2015-04-12T10:54:44+00:00] INFO: Setting the run_list to [\"recipe[python]\", \"recipe[atc::default]\"] from CLI options\n==> trusty: [2015-04-12T10:54:44+00:00] INFO: Run List is [recipe[python], recipe[atc::default]]\n==> trusty: [2015-04-12T10:54:44+00:00] INFO: Run List expands to [python, atc::default]\n==> trusty: [2015-04-12T10:54:44+00:00] INFO: Starting Chef Run for trusty\n==> trusty: [2015-04-12T10:54:44+00:00] INFO: Running start handlers\n==> trusty: [2015-04-12T10:54:44+00:00] INFO: Start handlers complete.\n==> trusty: [2015-04-12T10:54:46+00:00] INFO: Dhcp Peer:\n==> trusty: [2015-04-12T10:54:46+00:00] INFO: Attribute node[:dhcp][:networks] is empty, guess you are using LWRP\n==> trusty: [2015-04-12T11:01:40+00:00] INFO: apt_package[python-dev] installed python-dev at 2.7.5-5ubuntu3\n\n==> trusty: [2015-04-12T11:01:40+00:00] INFO: cookbook_file[/var/chef/cache/get-pip.py] created file /var/chef/cache/get-pip.py\n==> trusty: [2015-04-12T11:01:40+00:00] INFO: cookbook_file[/var/chef/cache/get-pip.py] updated file contents /var/chef/cache/get-\npip.py\n==> trusty: [2015-04-12T11:01:40+00:00] INFO: cookbook_file[/var/chef/cache/get-pip.py] mode changed to 644\n==> trusty: [2015-04-12T11:01:57+00:00] INFO: execute[install-pip] ran successfully\n==> trusty: [2015-04-12T11:02:04+00:00] INFO: Upgrading python_pip[setuptools] version from 15.0 to latest\n==> trusty: [2015-04-12T11:02:11+00:00] INFO: Upgrading python_pip[virtualenv] version from uninstalled to latest\n==> trusty: [2015-04-12T11:02:24+00:00] INFO: group[atc] created\n==> trusty: [2015-04-12T11:02:25+00:00] INFO: user[atc] created\n==> trusty: [2015-04-12T11:03:23+00:00] INFO: execute[apt-get update] ran successfully\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: apt_package[git] installed git at 1:1.9.1-1ubuntu0.1\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc] created directory /usr/local/atc\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc] owner changed to 1000\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc] group changed to 1000\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc] mode changed to 755\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: link[/usr/atc] created\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: Creating virtualenv python_virtualenv[/usr/local/atc/venv] at /usr/local/atc/venv\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc/venv] created directory /usr/local/atc/venv\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc/venv] owner changed to 1000\n==> trusty: [2015-04-12T11:04:27+00:00] INFO: directory[/usr/local/atc/venv] group changed to 1000\n==> trusty: [2015-04-12T11:04:29+00:00] INFO: execute[virtualenv --python=python2.7  /usr/local/atc/venv] ran successfully\n==> trusty: [2015-04-12T11:04:29+00:00] INFO: Using interfaces lan=>eth1, wan=>eth0\n==> trusty: [2015-04-12T11:04:29+00:00] INFO: ruby_block[run-iptables-resources-early] called\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: template[/etc/iptables-rules] created file /etc/iptables-rules\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: template[/etc/iptables-rules] updated file contents /etc/iptables-rules\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: file[/etc/network/if-up.d/iptables-rules] created file /etc/network/if-up.d/iptables\n-rules\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: file[/etc/network/if-up.d/iptables-rules] updated file contents /etc/network/if-up.d\n/iptables-rules\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: file[/etc/network/if-up.d/iptables-rules] owner changed to 0\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: file[/etc/network/if-up.d/iptables-rules] group changed to 0\n==> trusty: [2015-04-12T11:04:30+00:00] INFO: file[/etc/network/if-up.d/iptables-rules] mode changed to 755\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: apt_package[isc-dhcp-server] installed isc-dhcp-server at 4.2.4-7ubuntu12\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/default/isc-dhcp-server] backed up to /var/chef/backup/etc/default/isc\n-dhcp-server.chef-20150412110450.861539\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/default/isc-dhcp-server] updated file contents /etc/default/isc-dhcp-s\nerver\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/dhcpd.conf] backed up to /var/chef/backup/etc/dhcp/dhcpd.conf.che\nf-20150412110450.881140\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/dhcpd.conf] updated file contents /etc/dhcp/dhcpd.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: directory[/etc/dhcp/groups.d] created directory /etc/dhcp/groups.d\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: file[/etc/dhcp/groups.d/list.conf] created file /etc/dhcp/groups.d/list.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: file[/etc/dhcp/groups.d/list.conf] updated file contents /etc/dhcp/groups.d/list.con\nf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: directory[/etc/dhcp/hosts.d] created directory /etc/dhcp/hosts.d\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: file[/etc/dhcp/hosts.d/list.conf] created file /etc/dhcp/hosts.d/list.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: file[/etc/dhcp/hosts.d/list.conf] updated file contents /etc/dhcp/hosts.d/list.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: directory[/etc/dhcp/subnets.d] created directory /etc/dhcp/subnets.d\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: file[/etc/dhcp/subnets.d/list.conf] created file /etc/dhcp/subnets.d/list.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: file[/etc/dhcp/subnets.d/list.conf] updated file contents /etc/dhcp/subnets.d/list.c\nonf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/100.64.33.0.conf] created file /etc/dhcp/subnets.d/100.\n64.33.0.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/100.64.33.0.conf] updated file contents /etc/dhcp/subne\nts.d/100.64.33.0.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/100.64.33.0.conf] owner changed to 0\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/100.64.33.0.conf] group changed to 0\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/100.64.33.0.conf] mode changed to 644\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/100.64.33.0.conf] not queuing delayed action restart on\n service[isc-dhcp-server](delayed), as it's already been queued\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/list.conf] backed up to /var/chef/backup/etc/dhcp/subne\nts.d/list.conf.chef-20150412110450.937746\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/list.conf] updated file contents /etc/dhcp/subnets.d/li\nst.conf\n==> trusty: [2015-04-12T11:04:50+00:00] INFO: template[/etc/dhcp/subnets.d/list.conf] not queuing delayed action restart on servic\ne[isc-dhcp-server](delayed), as it's already been queued\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/udev/rules.d/50-vagrant-mount-atcd.rules] created file /etc/udev/rules\n.d/50-vagrant-mount-atcd.rules\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/udev/rules.d/50-vagrant-mount-atcd.rules] updated file contents /etc/u\ndev/rules.d/50-vagrant-mount-atcd.rules\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/udev/rules.d/50-vagrant-mount-atcd.rules] updated file contents /etc/u\ndev/rules.d/50-vagrant-mount-atcd.rules\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: ruby_block[notify-apply-sysctl-params] called\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: ruby_block[notify-apply-sysctl-params] sending run action to ruby_block[apply-sysctl\n-params](immediate)\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: ruby_block[apply-sysctl-params] called\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: ruby_block[apply-sysctl-params] sending create action to template[/etc/sysctl.d/99-c\nhef-attributes.conf](immediate)\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/sysctl.d/99-chef-attributes.conf] created file /etc/sysctl.d/99-chef-a\nttributes.conf\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/sysctl.d/99-chef-attributes.conf] updated file contents /etc/sysctl.d/\n99-chef-attributes.conf\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/sysctl.d/99-chef-attributes.conf] mode changed to 644\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: template[/etc/sysctl.d/99-chef-attributes.conf] sending start action to service[proc\nps](immediate)\n==> trusty: [2015-04-12T11:04:51+00:00] INFO: service[procps] started\n==> trusty: [2015-04-12T11:04:52+00:00] INFO: Installing python_pip[file:///usr/local/src/atc/atc/atc_thrift/] version latest\n==> trusty: [2015-04-12T11:05:02+00:00] INFO: Installing python_pip[file:///usr/local/src/atc/atc/atcd/] version latest\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: directory[/var/lib/atc] created directory /var/lib/atc\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: directory[/var/lib/atc] owner changed to 0\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: directory[/var/lib/atc] group changed to 0\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: directory[/var/lib/atc] mode changed to 755\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: template[/etc/default/atcd] created file /etc/default/atcd\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: template[/etc/default/atcd] updated file contents /etc/default/atcd\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: template[/etc/default/atcd] owner changed to 0\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: template[/etc/default/atcd] group changed to 0\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: template[/etc/default/atcd] mode changed to 755\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: cookbook_file[/etc/init.d/atcd] created file /etc/init.d/atcd\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: cookbook_file[/etc/init.d/atcd] updated file contents /etc/init.d/atcd\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: cookbook_file[/etc/init.d/atcd] owner changed to 0\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: cookbook_file[/etc/init.d/atcd] group changed to 0\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: cookbook_file[/etc/init.d/atcd] mode changed to 755\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: cookbook_file[/etc/init.d/atcd] not queuing delayed action restart on service[atcd](delayed), as it's already been queued\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: service[atcd] enabled\n==> trusty: ================================================================================\n==> trusty: Error executing action `start` on resource 'service[atcd]'\n==> trusty: ================================================================================\n==> trusty: Errno::ENOENT\n==> trusty: -------------\n==> trusty: No such file or directory - /etc/init.d/atcd\n==> trusty:\n==> trusty:\n==> trusty: Resource Declaration:\n==> trusty: ---------------------\n==> trusty: # In /tmp/vagrant-chef/ae4cfd0ce0224b28bb18503728431d99/cookbooks/atc/recipes/atcd.rb\n==> trusty:\n==> trusty: 126: service 'atcd' do\n==> trusty: 127:   supports :restart => true\n==> trusty: 128:   action [:enable, :start]\n==> trusty: 129: end\n==> trusty:\n==> trusty: Compiled Resource:\n==> trusty: ------------------\n==> trusty: # Declared in /tmp/vagrant-chef/ae4cfd0ce0224b28bb18503728431d99/cookbooks/atc/recipes/atcd.rb:126:in `from_file'\n==> trusty:\n==> trusty: service(\"atcd\") do\n==> trusty:   action [:enable, :start]\n==> trusty:   updated true\n==> trusty:   supports {:restart=>true}\n==> trusty:   retries 0\n==> trusty:   retry_delay 2\n==> trusty:   default_guard_interpreter :default\n==> trusty:   service_name \"atcd\"\n==> trusty:   enabled true\n==> trusty:   pattern \"atcd\"\n==> trusty:   declared_type :service\n==> trusty:   cookbook_name :atc\n==> trusty:   recipe_name \"atcd\"\n==> trusty: end\n==> trusty:\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: Running queued delayed notifications before re-raising exception\n\n==> trusty: [2015-04-12T11:05:17+00:00] INFO: template[/etc/iptables-rules] sending create action to ruby_block[test-iptables](de\nlayed)\n==> trusty: [2015-04-12T11:05:18+00:00] INFO: ruby_block[test-iptables] called\n==> trusty: [2015-04-12T11:05:18+00:00] INFO: template[/etc/dhcp/dhcpd.conf] sending restart action to service[isc-dhcp-server](d\nelayed)\n==> trusty: [2015-04-12T11:05:18+00:00] INFO: service[isc-dhcp-server] restarted\n==> trusty: [2015-04-12T11:05:18+00:00] INFO: template[/etc/default/atcd] sending restart action to service[atcd](delayed)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/92158717/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "Amolwale": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96145941", "body": "yes,\nmy eth0 connected to the WAN  \nand eth1 connected to the client machine, on which i want to shape the traffic.\n\ni also tried for various ways to ping from eth0 to eth1.\n to ensure that, at least eth0 and eth1 is communicating for atc but not getting the solution\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96145941/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "mrjedi": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96466160", "body": "HI @chantra \n\nThanks you for quick reply.\n\nI tried both\n\natcd --atcd-wan eth1 --atcd-lan eth0 and\n\natcd --atcd-wan ppp0 --atcd-lan eth0 ,\n\nBut my device still remains the same internet speed.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96466160/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96587903", "body": "Thanks,\n\nThis is the gist:\n\nhttps://gist.github.com/a9b6112589643112175c.git\n\nFor /var/log/messages, I don't see the file on my linux router.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96587903/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96783240", "body": "Hi chantra,\n\nI got it worked! Using ppp0 as WAN, and triggering the shaping from the device.\n\nThank you very much for your help.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96783240/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "yogesh5655": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96568680", "body": "hello friend\nI am facing the same problem as amol said i have to route traffic from eth1 (2nd interface of Controller PC and eth0 is connected to Internet)to eth0 (LAN interface)...pls help for routing...\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96568680/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96653125", "body": "hi\n can i use ubuntu's inbuilt option i.e. shared to other computer\n for forwarding internet traffic from eth0 (WAN) to eth1(LAN)\nor if you have any other solution please suggest me\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96653125/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "ankit-ankuagrawal": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96655770", "body": "@agargiulo  ty for the response \nthen how wifi hotspot will be created, so that the devices should get connect ?\nshould make any dummy 2nd interface will work?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/96655770/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/99398149", "body": "same problem facing when accessing on android device using crome browser for the setup\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/99398149/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "biosed": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97153991", "body": "Hi @chantra \n\ninstalled all the modules listed in the docs\n\nHave added this to atcui/settings.py\n`# Django ATC API\n    'rest_framework',\n    'atc_api',\n    # Django ATC Demo UI\n    'bootstrap_themes',\n    'django_static_jquery',\n    'atc_demo_ui',\n    # Django ATC Profile Storage\n    'atc_profile_storage',\n`\n\nDone the migrate\n\nAt http://ip_of_atc:8080/api/v1/shape I get the framework and I am able to shape traffic with json.\n\nNo errors\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97153991/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97165514", "body": "I opened it with safari and used remote debugging (I currently cannot access the vlan it is on).\n\nI get these errors:\n\n![image](https://cloud.githubusercontent.com/assets/5225187/7377396/fff01c00-eddd-11e4-83ca-abf4c5192d52.png)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97165514/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97170247", "body": "@chantra \n\nSeems to be loading that file, still have error.\n\n![image](https://cloud.githubusercontent.com/assets/5225187/7377808/b58734e8-ede0-11e4-82e7-60028a29e5c1.png)\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97170247/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97759419", "body": "Hey @chantra \n\nSo if I visit http://ip_of_atc:8080/atc_demo_ui/ in desktop chrome it works. Doesn't work in safari or chrome on ipad. Is there a UI for mobile devices to enable shaping?\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97759419/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "handv": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97706757", "body": "I had the same question. Finally i found chrome is the best browsers to show the entire message.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/97706757/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "SummerHaze": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/98602690", "body": "hi\uff0c@chantra.\nThank you for your suggestion. I really shaped the network on the 127.0.0.1:8000 instead of the client's ip, like 192.168.2.3:8000.\nAs for the testing methods , I've read the #90 issue but can't find a way to do it \uff08\uff1a<\uff09.\n\nCould you please make some suggestions\uff0ctoo?\n\nAny help dealing with this will be greatly appreciated.\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/issues/comments/98602690/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "commit_comments": [], "review_comments": []}, "smilexiaoxin888": {"issues": [], "commits": [], "pull_requests": [], "issue_comments": [], "commit_comments": [{"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544581", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544581/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544582", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544582/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544583", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544584", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544584/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544588", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544588/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544592", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544592/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544595", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544595/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544597", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544597/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544606", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544606/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}, {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544607", "body": "if you can release an APK ,ok?Thanks!\n", "reactions": {"url": "https://api.github.com/repos/facebook/augmented-traffic-control/comments/10544607/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0}, "author_association": "NONE"}], "review_comments": []}}}}